{"version":3,"file":"ParameterChangedEvent.js","sourceRoot":"","sources":["../../../../src/EmbeddingApi/Events/ParameterChangedEvent.ts"],"names":[],"mappings":";;AACA,gFAAwE;AACxE,0DAA2G;AAC3G,mDAAgD;AAEhD,MAAa,qBAAqB;IAChC,YAA2B,gBAAwB,EAAU,YAAoB;QAAtD,qBAAgB,GAAhB,gBAAgB,CAAQ;QAAU,iBAAY,GAAZ,YAAY,CAAQ;IAAG,CAAC;IAE9E,iBAAiB;QACtB,wEAAwE;QACxE,MAAM,OAAO,GAAG,kCAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,UAAU,uCAA4C,CAAC;QACjH,OAAO,OAAO,CAAC,mCAAmC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,EAAE;YAC/F,IAAI,aAAa,KAAK,SAAS,EAAE;gBAC/B,MAAM,IAAI,4BAAY,CAAC,8CAAmB,CAAC,gBAAgB,EAAE,0BAA0B,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;aACjH;YAED,OAAO,IAAI,qBAAS,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAdD,sDAcC","sourcesContent":["import * as Contract from '@tableau/api-external-contract-js';\nimport { EmbeddingErrorCodes } from '@tableau/api-external-contract-js';\nimport { ApiServiceRegistry, ParametersService, ServiceNames, TableauError } from '@tableau/api-shared-js';\nimport { Parameter } from '../Models/Parameter';\n\nexport class ParameterChangedEvent implements Contract.EmbeddingParameterChangedEvent {\n  public constructor(private _globalFieldName: string, private _embeddingId: number) {}\n\n  public getParameterAsync(): Promise<Contract.EmbeddingParameter> {\n    // Call down to our service to get the parameter back via its field name\n    const service = ApiServiceRegistry.get(this._embeddingId).getService<ParametersService>(ServiceNames.Parameters);\n    return service.findParameterByGlobalFieldNameAsync(this._globalFieldName).then((parameterImpl) => {\n      if (parameterImpl === undefined) {\n        throw new TableauError(EmbeddingErrorCodes.MissingParameter, `Cannot find parameter: ${this._globalFieldName}`);\n      }\n\n      return new Parameter(parameterImpl);\n    });\n  }\n}\n"]}