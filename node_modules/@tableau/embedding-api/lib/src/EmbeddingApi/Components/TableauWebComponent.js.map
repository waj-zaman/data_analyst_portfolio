{"version":3,"file":"TableauWebComponent.js","sourceRoot":"","sources":["../../../../src/EmbeddingApi/Components/TableauWebComponent.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  CustomParameter,\n  EmbeddedIframeAttributes,\n  EmbeddingErrorCodes,\n  EmbeddingTableauEventType,\n  WebComponentAttributes,\n  WebComponentChildElementAttributes,\n  WebComponentChildElements,\n} from '@tableau/api-external-contract-js';\nimport { TableauError } from '@tableau/api-shared-js';\nimport { VizLoadErrorEvent } from '../Events/VizLoadErrorEvent';\nimport { HtmlElementHelpers } from '../Utils/HtmlElementHelpers';\nimport { WebComponentManager } from '../WebComponentManager';\n\nexport enum TableauAuthResponse {\n  Skip = 'skip',\n  Success = 'success',\n  Failure = 'failure',\n}\n\nconst iframeAttributes = {\n  allowTransparency: 'allowTransparency',\n  allowFullScreen: 'allowFullScreen',\n  style: 'style',\n  class: 'class',\n  loading: 'loading',\n} as const;\n\nexport const getLocalizedTitle = (lang: string): string => {\n  // localized strings copied over from Strings.AccessibilityDataVisualizationTitleAttr\n  // TFS 1287423: Enable loc pipeline\n  const map: Record<string, string> = {\n    en: 'Data Visualization',\n    'en-GB': 'Data Visualisation',\n    fr: 'Visualisation de donn\\u00E9es',\n    es: 'Visualizaci\\u00F3n de datos',\n    it: 'Visualizzazione dati',\n    pt: 'Visualiza\\u00E7\\u00E3o de dados',\n    ja: '\\u30C7\\u30FC\\u30BF \\u30D3\\u30B8\\u30E5\\u30A2\\u30E9\\u30A4\\u30BC\\u30FC\\u30B7\\u30E7\\u30F3',\n    de: 'Datenvisualisierung',\n    ko: '\\uB370\\uC774\\uD130 \\uBE44\\uC8FC\\uC5BC\\uB9AC\\uC81C\\uC774\\uC158',\n    'zh-CN': '\\u6570\\u636E\\u53EF\\u89C6\\u5316',\n    'zh-TW': '\\u8CC7\\u6599\\u53EF\\u8996\\u5316',\n  };\n\n  return map[lang] || map[lang.substr(0, 2)] || map.en;\n};\n\nconst HTMLElementShim =\n  globalThis.HTMLElement ??\n  class {\n    attachShadow(_init: ShadowRootInit): void {}\n  };\n\nexport abstract class TableauWebComponent extends HTMLElementShim {\n  public static AttributeDefaults = {\n    width: '800px',\n    height: '600px',\n  };\n  protected _iframe: HTMLIFrameElement;\n  protected _iframeStyle: HTMLStyleElement;\n  protected _initialized = false;\n  protected _embeddingIdCounter = 0;\n  private _fixedSize = false;\n\n  protected abstract updateRendering(src?: string): Promise<void>;\n  protected abstract updateRenderingIfInitialized(src?: string): Promise<void>;\n\n  // https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-conformance\n  public constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n\n  public disconnectedCallback(): void {\n    if (this._iframe) {\n      this.shadowRoot?.removeChild(this._iframe);\n    }\n\n    if (this._iframeStyle) {\n      this.shadowRoot?.removeChild(this._iframeStyle);\n    }\n\n    WebComponentManager.clearOrigin(this.src, this.forceTokenSync);\n    WebComponentManager.unregisterWebComponent(this._embeddingIdCounter);\n    this._initialized = false;\n  }\n\n  public connectedCallback(): void {\n    if (document.readyState === 'loading') {\n      // Loading hasn't finished yet\n      document.addEventListener('DOMContentLoaded', () => {\n        this.initialize();\n      });\n    } else {\n      // `DOMContentLoaded` has already fired\n      this.initialize();\n    }\n  }\n\n  /**\n   * Invoked each time one of the custom element's attributes is added, removed, or changed.\n   * @param  {string} name - The name of the attribute.\n   * @param  {string|null} oldValue - The previous value of the attribute or null if the attribute was just added.\n   * @param  {string|null} newValue - The new value of the attribute or null if the attribute was just removed.\n   * @returns void\n   */\n  public attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null): void {\n    if (!oldValue && oldValue === newValue) {\n      // A value-less attribute was reapplied.\n      // e.g. hide-tabs=''\n      return;\n    }\n\n    // if it's width/height, resize the frame\n    // TFS 892487: Deal with sizing and scrollbars later\n    if (name === WebComponentAttributes.Width || name === WebComponentAttributes.Height) {\n      this.setFrameSize();\n      return;\n    }\n\n    // Clear the domain so that we can reauth when a fresh token is provided\n    if (name === WebComponentAttributes.Token && oldValue && oldValue !== newValue) {\n      WebComponentManager.clearOrigin(this.src, this.forceTokenSync);\n    }\n\n    // When there is a change in the other observed attributes, let's unregister the Viz\n    // and re-render the viz again with new attribute values\n    WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this, this.src));\n  }\n\n  public static get observedAttributes(): string[] {\n    // Take caution before adding to this list because for every observed attribute change\n    // we unregister and re-render the viz\n    return Object.values(WebComponentAttributes);\n  }\n\n  private initialize(): void {\n    if (!this._initialized) {\n      // The tableau viz component must display as flex so that it is simply a container\n      // for the iframe and doesn't take up any room from its children.\n      this.style.display = 'flex';\n\n      this.setupFrame();\n      this.registerAttributeAuthErrorEvent();\n      WebComponentManager.synchronizeRender(this.updateRendering.bind(this, this.src));\n    }\n  }\n\n  public get fixedSize() {\n    return this._fixedSize;\n  }\n\n  protected readCustomParamsFromChildren(): CustomParameter[] {\n    const params: CustomParameter[] = [];\n\n    Array.from(this.children).forEach((child) => {\n      if (\n        child.localName === WebComponentChildElements.CustomParameter &&\n        child.getAttribute(WebComponentChildElementAttributes.Name) &&\n        child.getAttribute(WebComponentChildElementAttributes.Value)\n      ) {\n        params.push({\n          name: child.getAttribute(WebComponentChildElementAttributes.Name)!,\n          value: child.getAttribute(WebComponentChildElementAttributes.Value)!,\n        });\n      }\n    });\n\n    return params;\n  }\n\n  private getIframeStyleChild(): HTMLElement | undefined {\n    let iframeStyle: HTMLElement | undefined;\n    for (const child of Array.from(this.children)) {\n      if (child.localName === WebComponentChildElements.IframeStyle) {\n        if (iframeStyle) {\n          throw new TableauError(\n            EmbeddingErrorCodes.InternalError,\n            `Only one ${WebComponentChildElements.IframeStyle} child element is supported. Please combine your styles.`,\n          );\n        }\n\n        iframeStyle = child as HTMLElement;\n      }\n    }\n\n    return iframeStyle;\n  }\n\n  protected setupFrame(): void {\n    this._iframe = document.createElement('iframe');\n\n    const lang = navigator.language;\n    const localizedTitle = getLocalizedTitle(lang);\n    // give context to users using screenreaders as to what kind of iframe they've entered\n    this._iframe.setAttribute('title', localizedTitle);\n\n    this._iframe.setAttribute(iframeAttributes.allowTransparency, 'true');\n    this._iframe.setAttribute(iframeAttributes.allowFullScreen, 'true');\n\n    if (this.iframeAttributeLoading) {\n      this._iframe.setAttribute('loading', this.iframeAttributeLoading);\n    }\n\n    // reset any box model styles\n    this._iframe.style.margin = '0px';\n    this._iframe.style.padding = '0px';\n    this._iframe.style.border = 'none';\n    this._iframe.style.position = 'relative';\n\n    // set iframe name & id\n    this._iframe.id = this.id;\n    this._iframe.name = this.id;\n\n    this.setFrameSize();\n\n    if (this.iframeAttributeStyle) {\n      const style = this._iframe.getAttribute(iframeAttributes.style);\n      this._iframe.setAttribute(iframeAttributes.style, `${style} ${this.iframeAttributeStyle}`);\n    }\n\n    if (this.iframeAttributeClass) {\n      this._iframe.setAttribute(iframeAttributes.class, this.iframeAttributeClass);\n    }\n\n    if (this.shadowRoot) {\n      const iframeStyleChild = this.getIframeStyleChild();\n      if (iframeStyleChild) {\n        iframeStyleChild.style.display = 'none';\n\n        const styleContents = iframeStyleChild.textContent?.trim();\n        if (styleContents) {\n          this._iframeStyle = document.createElement('style');\n          this._iframeStyle.textContent = styleContents;\n          this.shadowRoot.appendChild(this._iframeStyle);\n        }\n      }\n\n      this.shadowRoot.appendChild(this._iframe);\n    }\n  }\n\n  protected setFrameSize(): void {\n    if (this._iframe) {\n      this._iframe.style.height = this.height;\n      this._iframe.style.width = this.width;\n    }\n  }\n\n  /**\n   * Compute the height and width by checking for the existence of\n   * 1. The height and width attributes on the element, and\n   * 2. The window computed height and width of the parent element.\n   * If neither are defined for both dimensions, then return the default values.\n   * @returns height and width to be used in setting the iframe size.\n   */\n\n  private computeElementSize(): { width: string; height: string } {\n    const heightAttr = this.getPixelAttribute(WebComponentAttributes.Height);\n    const widthAttr = this.getPixelAttribute(WebComponentAttributes.Width);\n    if (heightAttr && widthAttr) {\n      this._fixedSize = true;\n      return { height: heightAttr, width: widthAttr };\n    }\n\n    if (this.parentElement) {\n      const { height, width } = HtmlElementHelpers.getContentSize(this.parentElement);\n\n      if (height && width) {\n        this._fixedSize = true;\n        return { height: `${height}px`, width: `${width}px` };\n      }\n    }\n\n    this._fixedSize = false;\n    return { height: TableauWebComponent.AttributeDefaults.height, width: TableauWebComponent.AttributeDefaults.width };\n  }\n\n  //Simple Getters / Setters\n  public get src(): string | null {\n    return this.getAttribute(WebComponentAttributes.Src);\n  }\n\n  public set src(v: string | null) {\n    if (v) {\n      this.setAttribute(WebComponentAttributes.Src, v);\n    }\n  }\n\n  public get forceTokenSync(): boolean {\n    return this.hasAttribute(WebComponentAttributes.ForceTokenSync);\n  }\n\n  public set forceTokenSync(v: boolean) {\n    if (v) {\n      this.setAttribute(WebComponentAttributes.ForceTokenSync, '');\n    } else {\n      this.removeAttribute(WebComponentAttributes.ForceTokenSync);\n    }\n  }\n\n  public get width(): string {\n    return this.computeElementSize().width;\n  }\n\n  // non-valid css lengths will simply turn into '' e.g a number with no units\n  public set width(v: string) {\n    this.setAttribute(WebComponentAttributes.Width, v);\n  }\n\n  public get height(): string {\n    return this.computeElementSize().height;\n  }\n\n  // non-valid css lengths will simply turn into '' e.g a number with no units\n  public set height(v: string) {\n    this.setAttribute(WebComponentAttributes.Height, v);\n  }\n\n  public get debug(): boolean {\n    return this.hasAttribute(WebComponentAttributes.Debug);\n  }\n\n  public set debug(v: boolean) {\n    if (v) {\n      this.setAttribute(WebComponentAttributes.Debug, '');\n    } else {\n      this.removeAttribute(WebComponentAttributes.Debug);\n    }\n  }\n\n  public get token(): string | undefined {\n    const tokenValue = this.getAttribute(WebComponentAttributes.Token);\n\n    if (!tokenValue) {\n      return undefined;\n    }\n\n    return tokenValue;\n  }\n\n  public set token(v: string | undefined) {\n    if (v) {\n      this.setAttribute(WebComponentAttributes.Token, v);\n    } else {\n      this.removeAttribute(WebComponentAttributes.Token);\n    }\n  }\n\n  public get iframeAuth(): boolean {\n    return this.hasAttribute(WebComponentAttributes.IframeAuth);\n  }\n\n  public set iframeAuth(v: boolean) {\n    if (v) {\n      this.setAttribute(WebComponentAttributes.IframeAuth, '');\n    } else {\n      this.removeAttribute(WebComponentAttributes.IframeAuth);\n    }\n  }\n\n  public get iframeAttributeLoading(): string | undefined {\n    const value = this.getAttribute(EmbeddedIframeAttributes.Loading);\n\n    if (!value) {\n      return undefined;\n    }\n\n    return value;\n  }\n\n  public set iframeAttributeLoading(v: string | undefined) {\n    if (v) {\n      this.setAttribute(EmbeddedIframeAttributes.Loading, v);\n      this._iframe?.setAttribute(iframeAttributes.loading, v);\n    } else {\n      this.removeAttribute(EmbeddedIframeAttributes.Loading);\n      this._iframe?.removeAttribute(iframeAttributes.loading);\n    }\n  }\n\n  public get iframeAttributeStyle(): string | undefined {\n    const value = this.getAttribute(EmbeddedIframeAttributes.Style);\n\n    if (!value) {\n      return undefined;\n    }\n\n    return value;\n  }\n\n  public set iframeAttributeStyle(v: string | undefined) {\n    if (v) {\n      this.setAttribute(EmbeddedIframeAttributes.Style, v);\n      this._iframe?.setAttribute(iframeAttributes.style, v);\n    } else {\n      this.removeAttribute(EmbeddedIframeAttributes.Style);\n      this._iframe?.removeAttribute(iframeAttributes.style);\n    }\n  }\n\n  public get iframeAttributeClass(): string | undefined {\n    const value = this.getAttribute(EmbeddedIframeAttributes.Class);\n\n    if (!value) {\n      return undefined;\n    }\n\n    return value;\n  }\n\n  public set iframeAttributeClass(v: string | undefined) {\n    if (v) {\n      this.setAttribute(EmbeddedIframeAttributes.Class, v);\n      this._iframe?.setAttribute(iframeAttributes.class, v);\n    } else {\n      this.removeAttribute(EmbeddedIframeAttributes.Class);\n      this._iframe?.removeAttribute(iframeAttributes.class);\n    }\n  }\n\n  private getPixelAttribute(attributeName: string): string {\n    const attr = this.getAttribute(attributeName);\n    if (attr && attr !== '') {\n      return isNaN(Number(attr)) ? attr : `${Math.round(Number(attr))}px`;\n    } else {\n      // if it was invalid css, it will be blank\n      return '';\n    }\n  }\n\n  public get iframe(): HTMLIFrameElement {\n    return this._iframe;\n  }\n\n  protected registerAttributeAuthErrorEvent(): void {\n    this.getWebComponentAttributeEvents().forEach((elem) => {\n      const [attributeEvent, eventType] = elem;\n      this.registerCallback(attributeEvent, eventType);\n    });\n  }\n\n  protected getWebComponentAttributeEvents(): [WebComponentAttributes, EmbeddingTableauEventType][] {\n    return [[WebComponentAttributes.OnVizLoadError, EmbeddingTableauEventType.VizLoadError]];\n  }\n\n  protected registerCallback(attributeEvent: string, eventType: string) {\n    // this will allow for both lowercase and camelcase attribute\n    const funcName = this.getAttribute(attributeEvent);\n    if (funcName && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(funcName)) {\n      if (window[funcName]) {\n        this.addEventListener(eventType, window[funcName]);\n      }\n    }\n  }\n\n  protected async auth(siteName: string): Promise<TableauAuthResponse> {\n    try {\n      if (!this.src) {\n        return TableauAuthResponse.Skip;\n      }\n\n      if (!this.token) {\n        return TableauAuthResponse.Skip;\n      }\n\n      if (this.iframeAuth) {\n        return TableauAuthResponse.Skip;\n      }\n\n      const authRequired = WebComponentManager.authRequired(this.src, this.forceTokenSync);\n      if (!authRequired) {\n        return TableauAuthResponse.Skip;\n      }\n\n      const origin = new URL(this.src).origin.toString();\n      const connectedAppUrl = `${origin}/vizportal/api/web/v1/auth/embed/signin`;\n\n      const body = {\n        siteName,\n        jwt: this.token,\n      };\n\n      const options: RequestInit = {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      };\n\n      const response = await fetch(connectedAppUrl, options);\n      if (response.ok) {\n        WebComponentManager.updateSignedInOrigin(this.src, this.forceTokenSync);\n        return TableauAuthResponse.Success;\n      }\n\n      const text = await response.text();\n\n      const err = text;\n      const error = {\n        statusCode: response.status,\n        errorMessage: err,\n      };\n\n      if (this.isFallbackToRedirectAuthNeeded(error)) {\n        this.iframeAuth = true;\n        console.debug('Auth Fallback trigger');\n        return TableauAuthResponse.Failure;\n      }\n\n      this.raiseVizLoadErrorNotification(EmbeddingErrorCodes.AuthFailed, error);\n      return TableauAuthResponse.Failure;\n    } catch (error) {\n      this.raiseVizLoadErrorNotification(EmbeddingErrorCodes.UnknownAuthError, error);\n      return TableauAuthResponse.Failure;\n    }\n  }\n\n  protected isFallbackToRedirectAuthNeeded(error: any): boolean {\n    try {\n      if (error.statusCode === 404) {\n        // redirect if the new endpoint is not available.\n        return true;\n      }\n\n      if (error.statusCode === 401) {\n        let errors = JSON.parse(error.errorMessage)!.result!.errors;\n        if (errors && errors.length > 0 && errors[0].code === 67) {\n          // redirect if the feature flag is turned off.\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      console.error('Parsing error: ' + e);\n      return false;\n    }\n  }\n\n  protected raiseIframeSrcUpdatedNotification() {\n    this.dispatchEvent(new CustomEvent(EmbeddingTableauEventType.IframeSrcUpdated));\n  }\n\n  private raiseVizLoadErrorNotification(errorCode: EmbeddingErrorCodes, error: any) {\n    try {\n      console.error(error);\n      const errorEvent = new VizLoadErrorEvent(errorCode, JSON.stringify(error));\n      this.dispatchEvent(new CustomEvent(EmbeddingTableauEventType.VizLoadError, { detail: errorEvent }));\n    } catch (err) {\n      const errorEvent = new VizLoadErrorEvent(EmbeddingErrorCodes.UnknownAuthError, '');\n      this.dispatchEvent(new CustomEvent(EmbeddingTableauEventType.VizLoadError, { detail: errorEvent }));\n    }\n  }\n}\n"]}