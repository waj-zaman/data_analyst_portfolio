{"version":3,"file":"PulseFilter.js","sourceRoot":"","sources":["../../../../src/EmbeddingApi/Models/PulseFilter.ts"],"names":[],"mappings":";;;;;;;;;AAAA,4EAA8D;AAC9D,0DAA0E;AAI1E,MAAa,WAAW;IACtB,YACY,UAAkB,EAClB,WAAgC,EAChC,SAAiB,EACjB,WAAmB;QAHnB,eAAU,GAAV,UAAU,CAAQ;QAClB,gBAAW,GAAX,WAAW,CAAqB;QAChC,cAAS,GAAT,SAAS,CAAQ;QACjB,gBAAW,GAAX,WAAW,CAAQ;IAC5B,CAAC;IAEJ,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,IAAW,UAAU;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;CACF;AAnBD,kCAmBC;AAED,MAAa,sBAAuB,SAAQ,WAAW;IACrD,YACE,SAAiB,EACjB,QAAgB,EAChB,UAA+B,EAC/B,UAAkB,EACV,cAA6C,EAC7C,cAAuB,EACvB,cAAwB;QAEhC,KAAK,CAAC,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAJ3C,mBAAc,GAAd,cAAc,CAA+B;QAC7C,mBAAc,GAAd,cAAc,CAAS;QACvB,mBAAc,GAAd,cAAc,CAAU;IAGlC,CAAC;IAED,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAED,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B,CAAC;IAEM,cAAc,CACnB,UAAkB,EAClB,QAAiB,EACjB,aAAsB,EACtB,UAAsC;QAEtC,IAAI,CAAC,UAAU,EAAE;YACf,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC;SACjD;QAED,4BAAY,CAAC,eAAe,CAA4B,UAAU,EAAE,QAAQ,CAAC,gBAAgB,EAAE,2BAA2B,CAAC,CAAC;QAE5H,MAAM,OAAO,GAAG,kCAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,UAAU,mCAAkD,CAAC;QACtH,OAAO,OAAO,CAAC,yBAAyB,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;IAC7G,CAAC;CACF;AAxCD,wDAwCC","sourcesContent":["import * as Contract from '@tableau/api-external-contract-js';\nimport { ApiServiceRegistry, ErrorHelpers } from '@tableau/api-shared-js';\nimport { EmbeddingServiceNames } from '../Services';\nimport { PulseService } from '../Services/PulseService';\n\nexport class PulseFilter implements Contract.PulseFilter {\n  public constructor(\n    protected _fieldName: string,\n    protected _filterType: Contract.FilterType,\n    protected _metricId: string,\n    protected _registryId: number,\n  ) {}\n\n  public get fieldName(): string {\n    return this._fieldName;\n  }\n\n  public get filterType(): Contract.FilterType {\n    return this._filterType;\n  }\n\n  public get metricId(): string {\n    return this._metricId;\n  }\n}\n\nexport class CategoricalPulseFilter extends PulseFilter implements Contract.CategoricalPulseFilter {\n  public constructor(\n    fieldName: string,\n    metricId: string,\n    filterType: Contract.FilterType,\n    registryId: number,\n    private _appliedValues: Contract.PulseFieldValueArray,\n    private _isExcludeMode: boolean,\n    private _isAllSelected?: boolean,\n  ) {\n    super(fieldName, filterType, metricId, registryId);\n  }\n\n  public get isAllSelected(): boolean | undefined {\n    return this._isAllSelected;\n  }\n\n  public get appliedValues(): Contract.PulseFieldValueArray {\n    return this._appliedValues;\n  }\n\n  public get isExcludeMode(): boolean {\n    return this._isExcludeMode;\n  }\n\n  public getDomainAsync(\n    searchTerm: string,\n    pageSize?: number,\n    nextPageToken?: string,\n    domainType?: Contract.FilterDomainType,\n  ): Promise<Contract.PulseCategoricalDomain> {\n    if (!domainType) {\n      domainType = Contract.FilterDomainType.Relevant;\n    }\n\n    ErrorHelpers.verifyEnumValue<Contract.FilterDomainType>(domainType, Contract.FilterDomainType, 'Contract.FilterDomainType');\n\n    const service = ApiServiceRegistry.get(this._registryId).getService<PulseService>(EmbeddingServiceNames.PulseService);\n    return service.getCategoricalDomainAsync(this._fieldName, domainType, searchTerm, pageSize, nextPageToken);\n  }\n}\n"]}