{"version":3,"file":"Story.js","sourceRoot":"","sources":["../../../../src/EmbeddingApi/Models/Story.ts"],"names":[],"mappings":";;;;;;;;;AAAA,4EAA8D;AAC9D,0DAAiE;AAEjE,mCAAgC;AAChC,6CAA0C;AAC1C,qDAAkD;AAElD,MAAa,KAAM,SAAQ,aAAK;IAC9B,YAA2B,UAAqB,EAAE,aAAoC;QACpF,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;QADR,eAAU,GAAV,UAAU,CAAW;IAEhD,CAAC;IAED,IAAW,gBAAgB;QACzB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;YACrC,MAAM,IAAI,4BAAY,CAAC,QAAQ,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,6CAA6C,CAAC,CAAC;SACzH;QACD,OAAO,IAAI,uBAAU,CAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IAC9E,CAAC;IAED,IAAW,eAAe;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,EAAE;YAChE,OAAO,IAAI,+BAAc,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,2BAA2B;QAChC,OAAO,IAAI,CAAC,UAAU,CAAC,2BAA2B,EAAE,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,EAAE;YAC3E,OAAO,IAAI,uBAAU,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,+BAA+B;QACpC,OAAO,IAAI,CAAC,UAAU,CAAC,+BAA+B,EAAE,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,EAAE;YAC/E,OAAO,IAAI,uBAAU,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,uBAAuB,CAAC,KAAa;QAC1C,OAAO,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,EAAE;YAC5E,OAAO,IAAI,uBAAU,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,qBAAqB,CAAC,KAAa;QACxC,OAAO,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,EAAE;YAC9E,OAAO,IAAI,+BAAc,CAAC,kBAAkB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAzCD,sBAyCC","sourcesContent":["import * as Contract from '@tableau/api-external-contract-js';\nimport { StoryImpl, TableauError } from '@tableau/api-shared-js';\nimport { EmbeddingWorkbookImpl } from '../Impl/EmbeddingWorkbookImpl';\nimport { Sheet } from './Sheet';\nimport { StoryPoint } from './StoryPoint';\nimport { StoryPointInfo } from './StoryPointInfo';\n\nexport class Story extends Sheet implements Contract.Story {\n  public constructor(private _storyImpl: StoryImpl, _workbookImpl: EmbeddingWorkbookImpl) {\n    super(_storyImpl, _workbookImpl);\n  }\n\n  public get activeStoryPoint(): Contract.StoryPoint {\n    if (!this._storyImpl.activeStoryPoint) {\n      throw new TableauError(Contract.EmbeddingErrorCodes.ImplementationError, 'Active story point has not been initialized');\n    }\n    return new StoryPoint(this._storyImpl.activeStoryPoint, this._workbookImpl);\n  }\n\n  public get storyPointsInfo(): Contract.StoryPointInfo[] {\n    return this._storyImpl.storyPointsInfo.map((storyPointInfoImpl) => {\n      return new StoryPointInfo(storyPointInfoImpl, this._workbookImpl);\n    });\n  }\n\n  public activateNextStoryPointAsync(): Promise<Contract.StoryPoint> {\n    return this._storyImpl.activateNextStoryPointAsync().then((storyPointImpl) => {\n      return new StoryPoint(storyPointImpl, this._workbookImpl);\n    });\n  }\n\n  public activatePreviousStoryPointAsync(): Promise<Contract.StoryPoint> {\n    return this._storyImpl.activatePreviousStoryPointAsync().then((storyPointImpl) => {\n      return new StoryPoint(storyPointImpl, this._workbookImpl);\n    });\n  }\n\n  public activateStoryPointAsync(index: number): Promise<Contract.StoryPoint> {\n    return this._storyImpl.activateStoryPointAsync(index).then((storyPointImpl) => {\n      return new StoryPoint(storyPointImpl, this._workbookImpl);\n    });\n  }\n\n  public revertStoryPointAsync(index: number): Promise<Contract.StoryPointInfo> {\n    return this._storyImpl.revertStoryPointAsync(index).then((storyPointInfoImpl) => {\n      return new StoryPointInfo(storyPointInfoImpl, this._workbookImpl);\n    });\n  }\n}\n"]}