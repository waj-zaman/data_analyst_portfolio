import Sr, { useRef as Gt, useCallback as Y, Component as Jc, memo as Ea, forwardRef as Aa } from "react";
function Xc(r, e) {
  for (var t = 0; t < e.length; t++) {
    const n = e[t];
    if (typeof n != "string" && !Array.isArray(n)) {
      for (const a in n)
        if (a !== "default" && !(a in r)) {
          const i = Object.getOwnPropertyDescriptor(n, a);
          i && Object.defineProperty(r, a, i.get ? i : {
            enumerable: !0,
            get: () => n[a]
          });
        }
    }
  }
  return Object.freeze(Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }));
}
const vS = Gt, mS = Y, gS = Y, yS = Y, bS = Y, _S = Y, SS = Y, IS = Y, ES = Y;
var w = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function qc(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default") ? r.default : r;
}
function ed(r) {
  if (r.__esModule) return r;
  var e = r.default;
  if (typeof e == "function") {
    var t = function n() {
      return this instanceof n ? Reflect.construct(e, arguments, this.constructor) : e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return Object.defineProperty(t, "__esModule", { value: !0 }), Object.keys(r).forEach(function(n) {
    var a = Object.getOwnPropertyDescriptor(r, n);
    Object.defineProperty(t, n, a.get ? a : {
      enumerable: !0,
      get: function() {
        return r[n];
      }
    });
  }), t;
}
var da = { exports: {} }, rr = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var vs;
function td() {
  if (vs) return rr;
  vs = 1;
  var r = Sr, e = Symbol.for("react.element"), t = Symbol.for("react.fragment"), n = Object.prototype.hasOwnProperty, a = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, i = { key: !0, ref: !0, __self: !0, __source: !0 };
  function o(s, u, l) {
    var c, d = {}, y = null, f = null;
    l !== void 0 && (y = "" + l), u.key !== void 0 && (y = "" + u.key), u.ref !== void 0 && (f = u.ref);
    for (c in u) n.call(u, c) && !i.hasOwnProperty(c) && (d[c] = u[c]);
    if (s && s.defaultProps) for (c in u = s.defaultProps, u) d[c] === void 0 && (d[c] = u[c]);
    return { $$typeof: e, type: s, key: y, ref: f, props: d, _owner: a.current };
  }
  return rr.Fragment = t, rr.jsx = o, rr.jsxs = o, rr;
}
var nr = {};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ms;
function rd() {
  return ms || (ms = 1, process.env.NODE_ENV !== "production" && function() {
    var r = Sr, e = Symbol.for("react.element"), t = Symbol.for("react.portal"), n = Symbol.for("react.fragment"), a = Symbol.for("react.strict_mode"), i = Symbol.for("react.profiler"), o = Symbol.for("react.provider"), s = Symbol.for("react.context"), u = Symbol.for("react.forward_ref"), l = Symbol.for("react.suspense"), c = Symbol.for("react.suspense_list"), d = Symbol.for("react.memo"), y = Symbol.for("react.lazy"), f = Symbol.for("react.offscreen"), v = Symbol.iterator, h = "@@iterator";
    function p(m) {
      if (m === null || typeof m != "object")
        return null;
      var C = v && m[v] || m[h];
      return typeof C == "function" ? C : null;
    }
    var b = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    function g(m) {
      {
        for (var C = arguments.length, k = new Array(C > 1 ? C - 1 : 0), R = 1; R < C; R++)
          k[R - 1] = arguments[R];
        _("error", m, k);
      }
    }
    function _(m, C, k) {
      {
        var R = b.ReactDebugCurrentFrame, K = R.getStackAddendum();
        K !== "" && (C += "%s", k = k.concat([K]));
        var J = k.map(function(H) {
          return String(H);
        });
        J.unshift("Warning: " + C), Function.prototype.apply.call(console[m], console, J);
      }
    }
    var S = !1, P = !1, T = !1, A = !1, F = !1, ee;
    ee = Symbol.for("react.module.reference");
    function oe(m) {
      return !!(typeof m == "string" || typeof m == "function" || m === n || m === i || F || m === a || m === l || m === c || A || m === f || S || P || T || typeof m == "object" && m !== null && (m.$$typeof === y || m.$$typeof === d || m.$$typeof === o || m.$$typeof === s || m.$$typeof === u || // This needs to include all possible module reference object
      // types supported by any Flight configuration anywhere since
      // we don't know which Flight build this will end up being used
      // with.
      m.$$typeof === ee || m.getModuleId !== void 0));
    }
    function $e(m, C, k) {
      var R = m.displayName;
      if (R)
        return R;
      var K = C.displayName || C.name || "";
      return K !== "" ? k + "(" + K + ")" : k;
    }
    function Pt(m) {
      return m.displayName || "Context";
    }
    function le(m) {
      if (m == null)
        return null;
      if (typeof m.tag == "number" && g("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."), typeof m == "function")
        return m.displayName || m.name || null;
      if (typeof m == "string")
        return m;
      switch (m) {
        case n:
          return "Fragment";
        case t:
          return "Portal";
        case i:
          return "Profiler";
        case a:
          return "StrictMode";
        case l:
          return "Suspense";
        case c:
          return "SuspenseList";
      }
      if (typeof m == "object")
        switch (m.$$typeof) {
          case s:
            var C = m;
            return Pt(C) + ".Consumer";
          case o:
            var k = m;
            return Pt(k._context) + ".Provider";
          case u:
            return $e(m, m.render, "ForwardRef");
          case d:
            var R = m.displayName || null;
            return R !== null ? R : le(m.type) || "Memo";
          case y: {
            var K = m, J = K._payload, H = K._init;
            try {
              return le(H(J));
            } catch {
              return null;
            }
          }
        }
      return null;
    }
    var Ue = Object.assign, Ge = 0, jr, Nr, $r, Ur, er, Ct, Xo;
    function qo() {
    }
    qo.__reactDisabledLog = !0;
    function Ac() {
      {
        if (Ge === 0) {
          jr = console.log, Nr = console.info, $r = console.warn, Ur = console.error, er = console.group, Ct = console.groupCollapsed, Xo = console.groupEnd;
          var m = {
            configurable: !0,
            enumerable: !0,
            value: qo,
            writable: !0
          };
          Object.defineProperties(console, {
            info: m,
            log: m,
            warn: m,
            error: m,
            group: m,
            groupCollapsed: m,
            groupEnd: m
          });
        }
        Ge++;
      }
    }
    function wc() {
      {
        if (Ge--, Ge === 0) {
          var m = {
            configurable: !0,
            enumerable: !0,
            writable: !0
          };
          Object.defineProperties(console, {
            log: Ue({}, m, {
              value: jr
            }),
            info: Ue({}, m, {
              value: Nr
            }),
            warn: Ue({}, m, {
              value: $r
            }),
            error: Ue({}, m, {
              value: Ur
            }),
            group: Ue({}, m, {
              value: er
            }),
            groupCollapsed: Ue({}, m, {
              value: Ct
            }),
            groupEnd: Ue({}, m, {
              value: Xo
            })
          });
        }
        Ge < 0 && g("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
      }
    }
    var yi = b.ReactCurrentDispatcher, bi;
    function Lr(m, C, k) {
      {
        if (bi === void 0)
          try {
            throw Error();
          } catch (K) {
            var R = K.stack.trim().match(/\n( *(at )?)/);
            bi = R && R[1] || "";
          }
        return `
` + bi + m;
      }
    }
    var _i = !1, Wr;
    {
      var Tc = typeof WeakMap == "function" ? WeakMap : Map;
      Wr = new Tc();
    }
    function es(m, C) {
      if (!m || _i)
        return "";
      {
        var k = Wr.get(m);
        if (k !== void 0)
          return k;
      }
      var R;
      _i = !0;
      var K = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      var J;
      J = yi.current, yi.current = null, Ac();
      try {
        if (C) {
          var H = function() {
            throw Error();
          };
          if (Object.defineProperty(H.prototype, "props", {
            set: function() {
              throw Error();
            }
          }), typeof Reflect == "object" && Reflect.construct) {
            try {
              Reflect.construct(H, []);
            } catch (Ce) {
              R = Ce;
            }
            Reflect.construct(m, [], H);
          } else {
            try {
              H.call();
            } catch (Ce) {
              R = Ce;
            }
            m.call(H.prototype);
          }
        } else {
          try {
            throw Error();
          } catch (Ce) {
            R = Ce;
          }
          m();
        }
      } catch (Ce) {
        if (Ce && R && typeof Ce.stack == "string") {
          for (var N = Ce.stack.split(`
`), we = R.stack.split(`
`), se = N.length - 1, ce = we.length - 1; se >= 1 && ce >= 0 && N[se] !== we[ce]; )
            ce--;
          for (; se >= 1 && ce >= 0; se--, ce--)
            if (N[se] !== we[ce]) {
              if (se !== 1 || ce !== 1)
                do
                  if (se--, ce--, ce < 0 || N[se] !== we[ce]) {
                    var Re = `
` + N[se].replace(" at new ", " at ");
                    return m.displayName && Re.includes("<anonymous>") && (Re = Re.replace("<anonymous>", m.displayName)), typeof m == "function" && Wr.set(m, Re), Re;
                  }
                while (se >= 1 && ce >= 0);
              break;
            }
        }
      } finally {
        _i = !1, yi.current = J, wc(), Error.prepareStackTrace = K;
      }
      var kt = m ? m.displayName || m.name : "", bt = kt ? Lr(kt) : "";
      return typeof m == "function" && Wr.set(m, bt), bt;
    }
    function Pc(m, C, k) {
      return es(m, !1);
    }
    function Cc(m) {
      var C = m.prototype;
      return !!(C && C.isReactComponent);
    }
    function Hr(m, C, k) {
      if (m == null)
        return "";
      if (typeof m == "function")
        return es(m, Cc(m));
      if (typeof m == "string")
        return Lr(m);
      switch (m) {
        case l:
          return Lr("Suspense");
        case c:
          return Lr("SuspenseList");
      }
      if (typeof m == "object")
        switch (m.$$typeof) {
          case u:
            return Pc(m.render);
          case d:
            return Hr(m.type, C, k);
          case y: {
            var R = m, K = R._payload, J = R._init;
            try {
              return Hr(J(K), C, k);
            } catch {
            }
          }
        }
      return "";
    }
    var tr = Object.prototype.hasOwnProperty, ts = {}, rs = b.ReactDebugCurrentFrame;
    function Br(m) {
      if (m) {
        var C = m._owner, k = Hr(m.type, m._source, C ? C.type : null);
        rs.setExtraStackFrame(k);
      } else
        rs.setExtraStackFrame(null);
    }
    function Dc(m, C, k, R, K) {
      {
        var J = Function.call.bind(tr);
        for (var H in m)
          if (J(m, H)) {
            var N = void 0;
            try {
              if (typeof m[H] != "function") {
                var we = Error((R || "React class") + ": " + k + " type `" + H + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof m[H] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                throw we.name = "Invariant Violation", we;
              }
              N = m[H](C, H, R, k, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
            } catch (se) {
              N = se;
            }
            N && !(N instanceof Error) && (Br(K), g("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", R || "React class", k, H, typeof N), Br(null)), N instanceof Error && !(N.message in ts) && (ts[N.message] = !0, Br(K), g("Failed %s type: %s", k, N.message), Br(null));
          }
      }
    }
    var kc = Array.isArray;
    function Si(m) {
      return kc(m);
    }
    function Oc(m) {
      {
        var C = typeof Symbol == "function" && Symbol.toStringTag, k = C && m[Symbol.toStringTag] || m.constructor.name || "Object";
        return k;
      }
    }
    function Mc(m) {
      try {
        return ns(m), !1;
      } catch {
        return !0;
      }
    }
    function ns(m) {
      return "" + m;
    }
    function is(m) {
      if (Mc(m))
        return g("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.", Oc(m)), ns(m);
    }
    var as = b.ReactCurrentOwner, Fc = {
      key: !0,
      ref: !0,
      __self: !0,
      __source: !0
    }, os, ss;
    function Rc(m) {
      if (tr.call(m, "ref")) {
        var C = Object.getOwnPropertyDescriptor(m, "ref").get;
        if (C && C.isReactWarning)
          return !1;
      }
      return m.ref !== void 0;
    }
    function xc(m) {
      if (tr.call(m, "key")) {
        var C = Object.getOwnPropertyDescriptor(m, "key").get;
        if (C && C.isReactWarning)
          return !1;
      }
      return m.key !== void 0;
    }
    function Vc(m, C) {
      typeof m.ref == "string" && as.current;
    }
    function zc(m, C) {
      {
        var k = function() {
          os || (os = !0, g("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", C));
        };
        k.isReactWarning = !0, Object.defineProperty(m, "key", {
          get: k,
          configurable: !0
        });
      }
    }
    function jc(m, C) {
      {
        var k = function() {
          ss || (ss = !0, g("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", C));
        };
        k.isReactWarning = !0, Object.defineProperty(m, "ref", {
          get: k,
          configurable: !0
        });
      }
    }
    var Nc = function(m, C, k, R, K, J, H) {
      var N = {
        // This tag allows us to uniquely identify this as a React Element
        $$typeof: e,
        // Built-in properties that belong on the element
        type: m,
        key: C,
        ref: k,
        props: H,
        // Record the component responsible for creating this element.
        _owner: J
      };
      return N._store = {}, Object.defineProperty(N._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: !1
      }), Object.defineProperty(N, "_self", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: R
      }), Object.defineProperty(N, "_source", {
        configurable: !1,
        enumerable: !1,
        writable: !1,
        value: K
      }), Object.freeze && (Object.freeze(N.props), Object.freeze(N)), N;
    };
    function $c(m, C, k, R, K) {
      {
        var J, H = {}, N = null, we = null;
        k !== void 0 && (is(k), N = "" + k), xc(C) && (is(C.key), N = "" + C.key), Rc(C) && (we = C.ref, Vc(C, K));
        for (J in C)
          tr.call(C, J) && !Fc.hasOwnProperty(J) && (H[J] = C[J]);
        if (m && m.defaultProps) {
          var se = m.defaultProps;
          for (J in se)
            H[J] === void 0 && (H[J] = se[J]);
        }
        if (N || we) {
          var ce = typeof m == "function" ? m.displayName || m.name || "Unknown" : m;
          N && zc(H, ce), we && jc(H, ce);
        }
        return Nc(m, N, we, K, R, as.current, H);
      }
    }
    var Ii = b.ReactCurrentOwner, us = b.ReactDebugCurrentFrame;
    function Dt(m) {
      if (m) {
        var C = m._owner, k = Hr(m.type, m._source, C ? C.type : null);
        us.setExtraStackFrame(k);
      } else
        us.setExtraStackFrame(null);
    }
    var Ei;
    Ei = !1;
    function Ai(m) {
      return typeof m == "object" && m !== null && m.$$typeof === e;
    }
    function ls() {
      {
        if (Ii.current) {
          var m = le(Ii.current.type);
          if (m)
            return `

Check the render method of \`` + m + "`.";
        }
        return "";
      }
    }
    function Uc(m) {
      return "";
    }
    var cs = {};
    function Lc(m) {
      {
        var C = ls();
        if (!C) {
          var k = typeof m == "string" ? m : m.displayName || m.name;
          k && (C = `

Check the top-level render call using <` + k + ">.");
        }
        return C;
      }
    }
    function ds(m, C) {
      {
        if (!m._store || m._store.validated || m.key != null)
          return;
        m._store.validated = !0;
        var k = Lc(C);
        if (cs[k])
          return;
        cs[k] = !0;
        var R = "";
        m && m._owner && m._owner !== Ii.current && (R = " It was passed a child from " + le(m._owner.type) + "."), Dt(m), g('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', k, R), Dt(null);
      }
    }
    function hs(m, C) {
      {
        if (typeof m != "object")
          return;
        if (Si(m))
          for (var k = 0; k < m.length; k++) {
            var R = m[k];
            Ai(R) && ds(R, C);
          }
        else if (Ai(m))
          m._store && (m._store.validated = !0);
        else if (m) {
          var K = p(m);
          if (typeof K == "function" && K !== m.entries)
            for (var J = K.call(m), H; !(H = J.next()).done; )
              Ai(H.value) && ds(H.value, C);
        }
      }
    }
    function Wc(m) {
      {
        var C = m.type;
        if (C == null || typeof C == "string")
          return;
        var k;
        if (typeof C == "function")
          k = C.propTypes;
        else if (typeof C == "object" && (C.$$typeof === u || // Note: Memo only checks outer props here.
        // Inner props are checked in the reconciler.
        C.$$typeof === d))
          k = C.propTypes;
        else
          return;
        if (k) {
          var R = le(C);
          Dc(k, m.props, "prop", R, m);
        } else if (C.PropTypes !== void 0 && !Ei) {
          Ei = !0;
          var K = le(C);
          g("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", K || "Unknown");
        }
        typeof C.getDefaultProps == "function" && !C.getDefaultProps.isReactClassApproved && g("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
      }
    }
    function Hc(m) {
      {
        for (var C = Object.keys(m.props), k = 0; k < C.length; k++) {
          var R = C[k];
          if (R !== "children" && R !== "key") {
            Dt(m), g("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", R), Dt(null);
            break;
          }
        }
        m.ref !== null && (Dt(m), g("Invalid attribute `ref` supplied to `React.Fragment`."), Dt(null));
      }
    }
    var ps = {};
    function fs(m, C, k, R, K, J) {
      {
        var H = oe(m);
        if (!H) {
          var N = "";
          (m === void 0 || typeof m == "object" && m !== null && Object.keys(m).length === 0) && (N += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");
          var we = Uc();
          we ? N += we : N += ls();
          var se;
          m === null ? se = "null" : Si(m) ? se = "array" : m !== void 0 && m.$$typeof === e ? (se = "<" + (le(m.type) || "Unknown") + " />", N = " Did you accidentally export a JSX literal instead of a component?") : se = typeof m, g("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", se, N);
        }
        var ce = $c(m, C, k, K, J);
        if (ce == null)
          return ce;
        if (H) {
          var Re = C.children;
          if (Re !== void 0)
            if (R)
              if (Si(Re)) {
                for (var kt = 0; kt < Re.length; kt++)
                  hs(Re[kt], m);
                Object.freeze && Object.freeze(Re);
              } else
                g("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");
            else
              hs(Re, m);
        }
        if (tr.call(C, "key")) {
          var bt = le(m), Ce = Object.keys(C).filter(function(Zc) {
            return Zc !== "key";
          }), wi = Ce.length > 0 ? "{key: someKey, " + Ce.join(": ..., ") + ": ...}" : "{key: someKey}";
          if (!ps[bt + wi]) {
            var Qc = Ce.length > 0 ? "{" + Ce.join(": ..., ") + ": ...}" : "{}";
            g(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`, wi, bt, Qc, bt), ps[bt + wi] = !0;
          }
        }
        return m === n ? Hc(ce) : Wc(ce), ce;
      }
    }
    function Bc(m, C, k) {
      return fs(m, C, k, !0);
    }
    function Gc(m, C, k) {
      return fs(m, C, k, !1);
    }
    var Kc = Gc, Yc = Bc;
    nr.Fragment = n, nr.jsx = Kc, nr.jsxs = Yc;
  }()), nr;
}
process.env.NODE_ENV === "production" ? da.exports = td() : da.exports = rd();
var He = da.exports, M = {}, O = {}, ol = {}, sl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.Origin = "origin", e.ShowEmbed = "show-embed", e.ShowPin = "show-pin", e.ShowSave = "show-save", e.ShowShare = "show-share";
  }(r.AskDataAttributes || (r.AskDataAttributes = {}));
})(sl);
var wa = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.CSV = "csv", e.Excel = "xlsx";
  }(r.CrosstabFileFormat || (r.CrosstabFileFormat = {})), function(e) {
    e.Default = "default", e.Desktop = "desktop", e.Tablet = "tablet", e.Phone = "phone";
  }(r.DeviceType || (r.DeviceType = {})), function(e) {
    e.AuthFailed = "auth-failed", e.BrowserNotCapable = "browser-not-capable", e.DownloadWorkbookNotAllowed = "download-workbook-not-allowed", e.FilterCannotBePerformed = "filter-cannot-be-performed", e.IndexOutOfRange = "index-out-of-range", e.InternalError = "internal-error", e.InvalidCustomViewName = "invalid-custom-view-name", e.InvalidDateParameter = "invalid-date-parameter", e.invalidFilterFieldNameOrValue = "invalid-filter-field-name", e.InvalidParameter = "invalid-parameter", e.InvalidTimeDimension = "invalid-time-dimension", e.InvalidSize = "invalid-size", e.InvalidSheetType = "invalid-sheet-type", e.InvalidSizeBehavior = "invalid-size-behavior", e.InvalidSizeBehaviorOnWorksheet = "invalid-size-behavior-on-worksheet", e.InvalidUrl = "invalid-url", e.MissingMaxSize = "missing-max-size", e.MissingMinSize = "missing-min-size", e.MissingMinMaxSize = "missing-min-max-size", e.MissingParameter = "missing-parameter", e.MissingRangeNForRelativeDateFilters = "missing-range-n-for-relative-date-filters", e.NoUrlForHiddenWorksheet = "no-url-for-hidden-worksheet", e.NoUrlOrParentElementNotFound = "no-url-or-parent-element-not-found", e.NotActiveSheet = "not-active-sheet", e.NullOrEmptyParameter = "null-or-empty-parameter", e.SheetNotInWorkbook = "sheet-not-in-workbook", e.StaleDataReference = "stale-data-reference", e.UnknownAuthError = "unknown-auth-error", e.UnsupportedEventName = "unsupported-event-name", e.VizAlreadyInManager = "viz-already-in-manager", e.ImplementationError = "wrong-implementation", e.NotImplemented = "not-implemented", e.EventInitializationError = "event-initialization-error", e.IncompatibleVersionError = "incompatible-version-error", e.UnknownDialogType = "unknown-dialog-type", e.FilterMissingOrNotImplemented = "filter-missing-not-implemented", e.StoryPointIdMismatch = "storypoint-id-mismatch";
  }(r.EmbeddingErrorCodes || (r.EmbeddingErrorCodes = {})), function(e) {
    e.PDF = "pdf", e.PNG = "png";
  }(r.FileFormats || (r.FileFormats = {})), function(e) {
    e.Portrait = "portrait", e.Landscape = "landscape";
  }(r.PrintOrientation || (r.PrintOrientation = {})), function(e) {
    e.Letter = "letter", e.Legal = "legal", e.Note = "note", e.Folio = "folio", e.Tabloid = "tabloid", e.Ledger = "ledger", e.Statement = "statement", e.Executive = "executive", e.A3 = "A3", e.A4 = "A4", e.A5 = "A5", e.B4 = "B4", e.B5 = "B5", e.Quarto = "quarto", e.Unspecified = "unspecified";
  }(r.PrintPageSize || (r.PrintPageSize = {})), function(e) {
    e.Automatic = "automatic", e.Perc25 = "25%", e.Perc50 = "50%", e.Perc60 = "60%", e.Perc75 = "75%", e.Perc80 = "80%", e.Perc90 = "90%", e.Perc100 = "100%", e.Perc200 = "200%", e.Perc400 = "400%", e.AtMost1PageHigh = "at-most-1-page-high", e.AtMost2PagesHigh = "at-most-2-pages-high", e.AtMost1PageWide = "at-most-1-page-wide", e.AtMost2PagesWide = "at-most-2-pages-wide";
  }(r.PrintScaling || (r.PrintScaling = {})), function(e) {
    e.All = "all", e.Axes = "axes", e.Filters = "filters", e.Sorts = "sorts", e.Shelves = "shelves";
  }(r.RevertVizSelection || (r.RevertVizSelection = {})), function(e) {
    e.Alerts = "alerts", e.AskData = "askData", e.CustomViews = "customViews", e.DataDetails = "dataDetails", e.Share = "share", e.Subscribe = "subscribe";
  }(r.ToolbarButtons || (r.ToolbarButtons = {})), function(e) {
    e.Top = "top", e.Bottom = "bottom", e.Hidden = "hidden";
  }(r.Toolbar || (r.Toolbar = {})), function(e) {
    e.Automatic = "automatic", e.Exactly = "exactly", e.Range = "range", e.AtLeast = "atleast", e.AtMost = "atmost";
  }(r.SheetSizeBehavior || (r.SheetSizeBehavior = {})), function(e) {
    e.Default = "default", e.Card = "card", e.Ban = "ban";
  }(r.PulseLayout || (r.PulseLayout = {})), function(e) {
    e.Today = "Today", e.Yesterday = "Yesterday", e.WeekToDate = "WeekToDate", e.LastWeek = "LastWeek", e.MonthToDate = "MonthToDate", e.LastMonth = "LastMonth", e.QuarterToDate = "QuarterToDate", e.LastQuarter = "LastQuarter", e.YearToDate = "YearToDate", e.LastYear = "LastYear";
  }(r.PulseTimeDimension || (r.PulseTimeDimension = {})), function(e) {
    e.Visible = "visible", e.Hidden = "hidden", e.Suppressed = "suppressed";
  }(r.PulseErrorMessageVisibility || (r.PulseErrorMessageVisibility = {})), function(e) {
    e.CustomViewLoaded = "customviewloaded", e.CustomViewRemoved = "customviewremoved", e.CustomViewSaved = "customviewsaved", e.CustomViewSetDefault = "customviewsetdefault", e.EditButtonClicked = "editbuttonclicked", e.EditInDesktopButtonClicked = "editindesktopbuttonclicked", e.FilterChanged = "filterchanged", e.FirstVizSizeKnown = "firstvizsizeknown", e.FirstInteractive = "firstinteractive", e.CustomMarkContextMenuEvent = "custommarkcontextmenu", e.MarkSelectionChanged = "markselectionchanged", e.ParameterChanged = "parameterchanged", e.ToolbarStateChanged = "toolbarstatechanged", e.WorkbookReadyToClose = "workbookreadytoclose", e.WorkbookPublished = "workbookpublished", e.WorkbookPublishedAs = "workbookpublishedas", e.UrlAction = "urlaction", e.TabSwitched = "tabswitched", e.StoryPointSwitched = "storypointswitched", e.VizLoadError = "vizloaderror", e.IframeSrcUpdated = "iframesrcupdated", e.SummaryDataChanged = "summarydatachanged", e.ReadyToReceiveAuthToken = "readytoreceiveauthtoken", e.FirstPulseMetricSizeKnown = "firstpulsemetricsizeknown", e.PulseError = "pulseerror", e.PulseFiltersChanged = "pulsefilterschanged", e.PulseInsightDiscovered = "pulseinsightdiscovered", e.PulseTimeDimensionChanged = "pulsetimedimensionchanged", e.PulseUrlChanged = "pulseurlchanged";
  }(r.TableauEventType || (r.TableauEventType = {})), function(e) {
    e.Ubertip = "ubertip";
  }(r.ApiMenuType || (r.ApiMenuType = {})), function(e) {
    e.ExportPDF = "export-pdf", e.ExportPowerPoint = "export-powerpoint", e.ExportData = "export-data", e.ExportCrossTab = "export-cross-tab", e.ExportWorkbook = "export-workbook", e.Share = "share";
  }(r.TableauDialogType || (r.TableauDialogType = {}));
})(wa);
var ul = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.DisableExploreFilter = "disable-explore-filter", e.Layout = "layout", e.OnFirstInteractive = "onFirstInteractive", e.OnFirstPulseMetricSizeKnown = "onFirstPulseMetricSizeKnown", e.OnPulseUrlError = "onPulseError", e.OnPulseFiltersChanged = "onPulseFiltersChanged", e.OnPulseInsightDiscovered = "onPulseInsightDiscovered", e.OnPulseTimeDimensionChanged = "onPulseTimeDimensionChanged", e.OnPulseUrlChanged = "onPulseUrlChanged", e.TimeDimension = "time-dimension", e.TokenOptional = "token-optional";
  }(r.PulseAttributes || (r.PulseAttributes = {})), function(e) {
    e.IframeStyle = "iframe-style", e.ThemeParameter = "theme-parameter", e.PulseFilter = "pulse-filter";
  }(r.PulseChildElements || (r.PulseChildElements = {})), function(e) {
    e.Name = "name", e.Field = "field", e.Value = "value", e.Type = "type";
  }(r.PulseChildElementAttributes || (r.PulseChildElementAttributes = {}));
})(ul);
var ll = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.TouchOptimize = "touch-optimize", e.HideEditInDesktopButton = "hide-edit-in-desktop-button", e.SuppressDefaultEditBehavior = "suppress-default-edit-behavior", e.DisableVersionCheck = "disable-version-check", e.OnEditInDesktopButtonClicked = "onEditInDesktopButtonClicked", e.OnFirstVizSizeKnown = "onFirstVizSizeKnown", e.OnFirstInteractive = "onFirstInteractive";
  }(r.VizSharedAttributes || (r.VizSharedAttributes = {})), function(e) {
    e.DisableUrlActionsPopups = "disable-url-actions", e.HideTabs = "hide-tabs", e.Toolbar = "toolbar", e.InstanceIdToClone = "instance-id-to-clone", e.Device = "device", e.HideEditButton = "hide-edit-button", e.OnEditButtonClicked = "onEditButtonClicked", e.OnFilterChanged = "onFilterChanged", e.OnCustomMarkContextMenuEvent = "onCustomMarkContextMenuEvent", e.OnMarkSelectionChanged = "onMarkSelectionChanged", e.OnParameterChanged = "onParameterChanged", e.OnToolbarStateChanged = "onToolbarStateChanged", e.OnUrlAction = "onUrlAction", e.OnTabSwitched = "onTabSwitched", e.OnCustomViewLoaded = "onCustomViewLoaded", e.OnCustomViewRemoved = "onCustomViewRemoved", e.OnCustomViewSaved = "onCustomViewSaved", e.OnCustomViewSetDefault = "onCustomViewSetDefault", e.OnStoryPointSwitched = "onStoryPointSwitched", e.OnSummaryDataChanged = "onSummaryDataChanged", e.OnReadyToReceiveAuthToken = "onReadyToReceiveAuthToken";
  }(r.VizAttributes || (r.VizAttributes = {})), function(e) {
    e.OnWorkbookPublished = "onWorkbookPublished", e.OnWorkbookPublishedAs = "onWorkbookPublishedAs", e.OnWorkbookReadyToClose = "onWorkbookReadyToClose", e.HideCloseButton = "hide-close-button";
  }(r.VizAuthoringAttributes || (r.VizAuthoringAttributes = {})), function(e) {
    e.VizFilter = "viz-filter", e.VizParameter = "viz-parameter", e.CustomParameter = "custom-parameter", e.IframeStyle = "iframe-style";
  }(r.VizChildElements || (r.VizChildElements = {})), function(e) {
    e.Field = "field", e.Value = "value", e.Name = "name";
  }(r.VizChildElementAttributes || (r.VizChildElementAttributes = {}));
})(ll);
var cl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.Src = "src", e.Width = "width", e.Height = "height", e.Token = "token", e.Debug = "debug", e.IframeAuth = "iframe-auth", e.OnVizLoadError = "onvizloaderror", e.ForceTokenSync = "force-token-sync";
  }(r.WebComponentAttributes || (r.WebComponentAttributes = {})), function(e) {
    e.Loading = "iframe-attr-loading", e.Style = "iframe-attr-style", e.Class = "iframe-attr-class";
  }(r.EmbeddedIframeAttributes || (r.EmbeddedIframeAttributes = {})), function(e) {
    e.CustomParameter = "custom-parameter", e.IframeStyle = "iframe-style";
  }(r.WebComponentChildElements || (r.WebComponentChildElements = {})), function(e) {
    e.Field = "field", e.Value = "value", e.Name = "name";
  }(r.WebComponentChildElementAttributes || (r.WebComponentChildElementAttributes = {}));
})(cl);
var Ta = {}, dl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.CrosstabCreationError = "crosstab-creation-error", e.DataCreationError = "data-creation-error", e.InvalidAggregationFieldName = "invalid-aggregation-field-name", e.InvalidFilterFieldName = "invalid-filter-name", e.InvalidFilterFieldValue = "invalid-filter-fieldValue", e.InvalidSelectionDate = "invalid-selection-date", e.InvalidSelectionFieldName = "invalid-selection-fieldName", e.InvalidSelectionValue = "invalid-selection-value", e.InvalidSelectionSheet = "invalid-selection-sheet", e.InternalError = "internal-error", e.InvalidParameter = "invalid-parameter", e.PDFCreationError = "pdf-creation-error", e.PowerPointCreationError = "powerpoint-creation-error", e.NotActiveSheet = "not-active-sheet", e.ImplementationError = "wrong-implementation", e.ApiExecutionError = "api-execution-error", e.ServerError = "server-error", e.Timeout = "timeout";
  }(r.SharedErrorCodes || (r.SharedErrorCodes = {}));
})(dl);
var ha = w && w.__assign || function() {
  return ha = Object.assign || function(r) {
    for (var e, t = 1, n = arguments.length; t < n; t++) {
      e = arguments[t];
      for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (r[a] = e[a]);
    }
    return r;
  }, ha.apply(this, arguments);
}, pa;
(function(r) {
  (function(t) {
    t.Cluster = "cluster", t.Forecast = "forecast", t.TrendLine = "trend-line";
  })(r.AnalyticsObjectType || (r.AnalyticsObjectType = {})), function(t) {
    t.Mark = "mark", t.Point = "point", t.Area = "area";
  }(r.AnnotationType || (r.AnnotationType = {})), function(t) {
    t.Discrete = "discrete", t.Continuous = "continuous", t.Unknown = "unknown";
  }(r.ColumnType || (r.ColumnType = {})), function(t) {
    t.WorksheetTitle = "tableau-worksheet-title", t.Worksheet = "tableau-worksheet", t.Tooltip = "tableau-tooltip", t.StoryTitle = "tableau-story-title", t.DashboardTitle = "tableau-dashboard-title", t.Pane = "tableau-pane", t.RowDividers = "tableau-row-dividers", t.ColumnDividers = "tableau-column-dividers";
  }(r.ClassNameKey || (r.ClassNameKey = {})), function(t) {
    t.Blank = "blank", t.Worksheet = "worksheet", t.QuickFilter = "quick-filter", t.ParameterControl = "parameter-control", t.PageFilter = "page-filter", t.Legend = "legend", t.Title = "title", t.Text = "text", t.Image = "image", t.WebPage = "web-page", t.Extension = "extension";
  }(r.DashboardObjectType || (r.DashboardObjectType = {}));
  var e;
  (function(t) {
    t.Show = "show", t.Hide = "hide";
  })(e = r.DashboardObjectVisibilityType || (r.DashboardObjectVisibilityType = {})), function(t) {
    t.String = "string", t.Int = "int", t.Float = "float", t.Bool = "bool", t.Date = "date", t.DateTime = "date-time", t.Spatial = "spatial", t.Unknown = "unknown";
  }(r.DataType || (r.DataType = {})), function(t) {
    t.Added = "added", t.Removed = "removed", t.IsFloatingChanged = "is-floating-changed", t.IsVisibleChanged = "is-visible-changed", t.PositionChanged = "position-changed", t.SizeChanged = "size-changed", t.NameChanged = "name-changed", t.Selected = "selected", t.Deselected = "deselected", t.DashboardChanged = "dashboard-changed";
  }(r.DashboardLayoutChange || (r.DashboardLayoutChange = {})), function(t) {
    t.Last = "last", t.LastN = "last-n", t.Next = "next", t.NextN = "next-n", t.Current = "current", t.ToDate = "to-date";
  }(r.DateRangeType || (r.DateRangeType = {})), function(t) {
    t.Window = "window", t.Modal = "modal", t.Modeless = "modeless";
  }(r.DialogStyle || (r.DialogStyle = {})), function(t) {
    t.Column = "column", t.Row = "row", t.Page = "page", t.Filter = "filter", t.MarksType = "marks-type", t.MeasureValues = "measure-values", t.Color = "color", t.Size = "size", t.Label = "label", t.Detail = "detail", t.Tooltip = "tooltip", t.Shape = "shape", t.Path = "path", t.Angle = "angle", t.Geometry = "geometry", t.Custom = "custom";
  }(r.EncodingType || (r.EncodingType = {})), function(t) {
    t.Sum = "sum", t.Avg = "avg", t.Min = "min", t.Max = "max", t.Stdev = "stdev", t.Stdevp = "stdevp", t.Var = "var", t.Varp = "varp", t.Collect = "collect", t.Count = "count", t.Countd = "countd", t.Median = "median", t.Attr = "attr", t.None = "none", t.Year = "year", t.Qtr = "qtr", t.Month = "month", t.Day = "day", t.Hour = "hour", t.Minute = "minute", t.Second = "second", t.Week = "week", t.Weekday = "weekday", t.MonthYear = "month-year", t.Mdy = "mdy", t.End = "end", t.TruncYear = "trunc-year", t.TruncQtr = "trunc-qtr", t.TruncMonth = "trunc-month", t.TruncWeek = "trunc-week", t.TruncDay = "trunc-day", t.TruncHour = "trunc-hour", t.TruncMinute = "trunc-minute", t.TruncSecond = "trunc-second", t.Quart1 = "quart1", t.Quart3 = "quart3", t.Skewness = "skewness", t.Kurtosis = "kurtosis", t.InOut = "in-out", t.User = "user";
  }(r.FieldAggregationType || (r.FieldAggregationType = {})), function(t) {
    t.Dimension = "dimension", t.Measure = "measure", t.Unknown = "unknown";
  }(r.FieldRoleType || (r.FieldRoleType = {})), function(t) {
    t.Categorical = "categorical", t.Range = "range", t.Hierarchical = "hierarchical", t.RelativeDate = "relative-date";
  }(r.FilterType || (r.FilterType = {})), function(t) {
    t.Add = "add", t.All = "all", t.Replace = "replace", t.Remove = "remove";
  }(r.FilterUpdateType || (r.FilterUpdateType = {})), function(t) {
    t.Relevant = "relevant", t.Database = "database";
  }(r.FilterDomainType || (r.FilterDomainType = {})), function(t) {
    t.NullValues = "null-values", t.NonNullValues = "non-null-values", t.AllValues = "all-values";
  }(r.FilterNullOption || (r.FilterNullOption = {})), function(t) {
    t.AllValues = "all-values", t.OnlyNativeValues = "only-native-values", t.OnlyFormattedValues = "only-formatted-values";
  }(r.IncludeDataValuesOption || (r.IncludeDataValuesOption = {})), function(t) {
    t.Bar = "bar", t.Line = "line", t.Area = "area", t.Square = "square", t.Circle = "circle", t.Shape = "shape", t.Text = "text", t.Map = "map", t.Pie = "pie", t.GanttBar = "gantt-bar", t.Polygon = "polygon", t.Heatmap = "heatmap", t.VizExtension = "viz-extension";
  }(r.MarkType || (r.MarkType = {})), function(t) {
    t.All = "all", t.List = "list", t.Range = "range";
  }(r.ParameterValueType || (r.ParameterValueType = {})), function(t) {
    t.Years = "years", t.Quarters = "quarters", t.Months = "months", t.Weeks = "weeks", t.Days = "days", t.Hours = "hours", t.Minutes = "minutes", t.Seconds = "seconds";
  }(r.PeriodType || (r.PeriodType = {})), function(t) {
    t.RunningTotal = "running-total", t.Difference = "difference", t.PercentDifference = "percent-difference", t.PercentOfTotal = "percent-of-total", t.Rank = "rank", t.Percentile = "percentile", t.MovingAverage = "moving-average", t.YTDTotal = "ytd-total", t.CompoundGrowthRate = "compound-growth-rate", t.YearOverYearGrowth = "year-over-year-growth", t.YTDGrowth = "ytd-growth", t.Undefined = "undefined";
  }(r.QuickTableCalcType || (r.QuickTableCalcType = {})), function(t) {
    t.Replace = "select-replace", t.Add = "select-add", t.Remove = "select-remove";
  }(r.SelectionUpdateType || (r.SelectionUpdateType = {})), function(t) {
    t.Simple = "select-options-simple", t.Toggle = "select-options-toggle";
  }(r.SelectOptions || (r.SelectOptions = {})), function(t) {
    t.Dashboard = "dashboard", t.Story = "story", t.Worksheet = "worksheet";
  }(r.SheetType || (r.SheetType = {})), function(t) {
    t.Increasing = "increasing", t.Decreasing = "decreasing";
  }(r.SortDirection || (r.SortDirection = {})), function(t) {
    t.Linear = "linear", t.Logarithmic = "logarithmic", t.Exponential = "exponential", t.Polynomial = "polynomial";
  }(r.TrendLineModelType || (r.TrendLineModelType = {})), function(t) {
    t.Slow = "slow", t.Normal = "normal", t.Fast = "fast";
  }(r.ReplaySpeedType || (r.ReplaySpeedType = {})), function(t) {
    t.AllSelected = "all-selected", t.NoneSelected = "none-selected", t.SomeSelected = "some-selected", t.UnknownSelected = "unknown-selected";
  }(r.HierarchicalLevelSelectionState || (r.HierarchicalLevelSelectionState = {})), r.ZoneVisibilityType = ha({}, e);
})(pa || (pa = {}));
var nd = pa;
(function(r) {
  function e(n) {
    for (var a in n) r.hasOwnProperty(a) || (r[a] = n[a]);
  }
  Object.defineProperty(r, "__esModule", { value: !0 }), e(dl);
  var t = nd;
  r.AnalyticsObjectType = t.AnalyticsObjectType, r.AnnotationType = t.AnnotationType, r.ClassNameKey = t.ClassNameKey, r.ColumnType = t.ColumnType, r.DashboardLayoutChange = t.DashboardLayoutChange, r.DashboardObjectType = t.DashboardObjectType, r.DashboardObjectVisibilityType = t.DashboardObjectVisibilityType, r.DataType = t.DataType, r.DateRangeType = t.DateRangeType, r.DialogStyle = t.DialogStyle, r.EncodingType = t.EncodingType, r.FieldAggregationType = t.FieldAggregationType, r.FieldRoleType = t.FieldRoleType, r.FilterDomainType = t.FilterDomainType, r.FilterNullOption = t.FilterNullOption, r.FilterType = t.FilterType, r.FilterUpdateType = t.FilterUpdateType, r.HierarchicalLevelSelectionState = t.HierarchicalLevelSelectionState, r.IncludeDataValuesOption = t.IncludeDataValuesOption, r.MarkType = t.MarkType, r.ParameterValueType = t.ParameterValueType, r.PeriodType = t.PeriodType, r.QuickTableCalcType = t.QuickTableCalcType, r.ReplaySpeedType = t.ReplaySpeedType, r.SelectOptions = t.SelectOptions, r.SelectionUpdateType = t.SelectionUpdateType, r.SheetType = t.SheetType, r.SortDirection = t.SortDirection, r.TrendLineModelType = t.TrendLineModelType, r.ZoneVisibilityType = t.ZoneVisibilityType;
})(Ta);
(function(r) {
  function e(n) {
    for (var a in n) r.hasOwnProperty(a) || (r[a] = n[a]);
  }
  Object.defineProperty(r, "__esModule", { value: !0 }), e(sl);
  var t = wa;
  r.ApiMenuType = t.ApiMenuType, r.CrosstabFileFormat = t.CrosstabFileFormat, r.DeviceType = t.DeviceType, r.EmbeddingErrorCodes = t.EmbeddingErrorCodes, r.EmbeddingTableauEventType = t.TableauEventType, r.FileFormats = t.FileFormats, r.PrintOrientation = t.PrintOrientation, r.PrintPageSize = t.PrintPageSize, r.PrintScaling = t.PrintScaling, r.PulseErrorMessageVisibility = t.PulseErrorMessageVisibility, r.PulseLayout = t.PulseLayout, r.PulseTimeDimension = t.PulseTimeDimension, r.SheetSizeBehavior = t.SheetSizeBehavior, r.TableauDialogType = t.TableauDialogType, r.Toolbar = t.Toolbar, e(ul), e(ll), e(cl), e(Ta);
})(ol);
var hl = {}, fa;
(function(r) {
  (function(e) {
    e.APINotInitialized = "api-not-initialized", e.VisibilityError = "visibility-error", e.DialogAlreadyOpen = "dialog-already-open", e.DialogClosedByUser = "dialog-closed-by-user", e.InternalError = "internal-error", e.InvalidDomainDialog = "invalid-dialog-domain", e.InvalidParameter = "invalid-parameter", e.MissingFilter = "missing-filter", e.MissingParameter = "missing-parameter", e.ServerError = "server-error", e.SettingSaveInProgress = "setting-save-in-progress", e.UnsupportedEventName = "unsupported-event-name", e.UnsupportedMethodForDataSourceType = "unsupported-method-for-data-source-type";
  })(r.ErrorCodes || (r.ErrorCodes = {})), function(e) {
    e.Desktop = "desktop", e.Server = "server";
  }(r.ExtensionContext || (r.ExtensionContext = {})), function(e) {
    e.Authoring = "authoring", e.Viewing = "viewing";
  }(r.ExtensionMode || (r.ExtensionMode = {})), function(e) {
    e.FilterChanged = "filter-changed", e.MarkSelectionChanged = "mark-selection-changed", e.SummaryDataChanged = "summary-data-changed", e.ParameterChanged = "parameter-changed", e.SettingsChanged = "settings-changed", e.DashboardLayoutChanged = "dashboard-layout-changed", e.WorkbookFormattingChanged = "workbook-formatting-changed", e.WorksheetFormattingChanged = "worksheet-formatting-changed";
  }(r.TableauEventType || (r.TableauEventType = {})), function(e) {
    e.Discrete = "discrete", e.Continuous = "continuous";
  }(r.VizImageEncodingType || (r.VizImageEncodingType = {})), function(e) {
    e.Ascending = "ascending", e.Descending = "descending";
  }(r.VizImageSortDirectionType || (r.VizImageSortDirectionType = {})), function(e) {
    e.CustomDiverging = "custom-diverging", e.CustomSequential = "custom-sequential";
  }(r.VizImagePaletteType || (r.VizImagePaletteType = {})), function(e) {
    e.Fixed = "fixed", e.Manual = "manual";
  }(r.VizImageSizeSettingType || (r.VizImageSizeSettingType = {})), function(e) {
    e.Right = "right", e.Left = "left", e.Center = "center";
  }(r.VizImageSizeSettingAlignmentType || (r.VizImageSizeSettingAlignmentType = {}));
})(fa || (fa = {}));
var id = fa;
(function(r) {
  function e(n) {
    for (var a in n) r.hasOwnProperty(a) || (r[a] = n[a]);
  }
  Object.defineProperty(r, "__esModule", { value: !0 });
  var t = id;
  r.ErrorCodes = t.ErrorCodes, r.ExtensionContext = t.ExtensionContext, r.ExtensionMode = t.ExtensionMode, r.TableauEventType = t.TableauEventType, r.VizImageEncodingType = t.VizImageEncodingType, r.VizImagePaletteType = t.VizImagePaletteType, r.VizImageSizeSettingAlignmentType = t.VizImageSizeSettingAlignmentType, r.VizImageSizeSettingType = t.VizImageSizeSettingType, r.VizImageSortDirectionType = t.VizImageSortDirectionType, e(Ta);
})(hl);
(function(r) {
  function e(t) {
    for (var n in t) r.hasOwnProperty(n) || (r[n] = t[n]);
  }
  Object.defineProperty(r, "__esModule", { value: !0 }), e(ol), e(hl);
})(O);
var Ti = {}, Pa = {}, $n = {}, ae = {}, ad = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(ae, "__esModule", { value: !0 });
var od = (
  /** @class */
  function(r) {
    ad(e, r);
    function e(t, n) {
      var a = r.call(this, t + ": " + n) || this;
      return a._errorCode = t, Object.setPrototypeOf(a, e.prototype), a;
    }
    return Object.defineProperty(e.prototype, "errorCode", {
      get: function() {
        return this._errorCode;
      },
      enumerable: !0,
      configurable: !0
    }), e;
  }(Error)
);
ae.TableauError = od;
Object.defineProperty($n, "__esModule", { value: !0 });
var sd = O, ud = ae, ld = (
  /** @class */
  function() {
    function r(e, t) {
      var n = e.split("-");
      this.build = this.getBuildNumber(n[1]), e = n[0];
      var a = e.split(".").map(function(i) {
        return parseInt(i, 10);
      });
      if (a.length !== 3)
        throw new ud.TableauError(sd.ErrorCodes.InternalError, "Invalid version number: " + e);
      this.major = a[0], this.minor = a[1], this.fix = a[2], this.isAlpha = t;
    }
    return r.prototype.getBuildNumber = function(e) {
      var t = -1;
      if (!e)
        return t;
      var n = e.split(".");
      return n[1] ? parseInt(n[1], 10) : t;
    }, Object.defineProperty(r.prototype, "formattedValue", {
      get: function() {
        return this.major + "." + this.minor + "." + this.fix;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fullFormattedValue", {
      get: function() {
        return this.major + "." + this.minor + "." + this.fix + "-pre." + this.build;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
$n.VersionNumber = ld;
Object.defineProperty(Pa, "__esModule", { value: !0 });
var cd = $n, dd = (
  /** @class */
  function() {
    function r() {
    }
    return Object.defineProperty(r, "Instance", {
      /**
       * Gets the singleton instance of the version number.
       */
      get: function() {
        return r._instance;
      },
      enumerable: !0,
      configurable: !0
    }), r.SetVersionNumber = function(e, t) {
      r._instance = new cd.VersionNumber(e, t);
    }, r;
  }()
);
Pa.ApiVersion = dd;
var Ca = {}, Pi = {}, ir = function(r) {
  return r && r.Math === Math && r;
}, ze = (
  // eslint-disable-next-line es/no-global-this -- safe
  ir(typeof globalThis == "object" && globalThis) || ir(typeof window == "object" && window) || // eslint-disable-next-line no-restricted-globals -- safe
  ir(typeof self == "object" && self) || ir(typeof w == "object" && w) || ir(typeof w == "object" && w) || // eslint-disable-next-line no-new-func -- fallback
  /* @__PURE__ */ function() {
    return this;
  }() || Function("return this")()
), Da = {}, ot = function(r) {
  try {
    return !!r();
  } catch {
    return !0;
  }
}, hd = ot, mt = !hd(function() {
  return Object.defineProperty({}, 1, { get: function() {
    return 7;
  } })[1] !== 7;
}), pd = ot, pl = !pd(function() {
  var r = (function() {
  }).bind();
  return typeof r != "function" || r.hasOwnProperty("prototype");
}), fd = pl, Gr = Function.prototype.call, Un = fd ? Gr.bind(Gr) : function() {
  return Gr.apply(Gr, arguments);
}, ka = {}, fl = {}.propertyIsEnumerable, vl = Object.getOwnPropertyDescriptor, vd = vl && !fl.call({ 1: 2 }, 1);
ka.f = vd ? function(e) {
  var t = vl(this, e);
  return !!t && t.enumerable;
} : fl;
var ml = function(r, e) {
  return {
    enumerable: !(r & 1),
    configurable: !(r & 2),
    writable: !(r & 4),
    value: e
  };
}, gl = pl, yl = Function.prototype, va = yl.call, md = gl && yl.bind.bind(va, va), tt = gl ? md : function(r) {
  return function() {
    return va.apply(r, arguments);
  };
}, bl = tt, gd = bl({}.toString), yd = bl("".slice), bd = function(r) {
  return yd(gd(r), 8, -1);
}, _d = tt, Sd = ot, Id = bd, Ci = Object, Ed = _d("".split), _l = Sd(function() {
  return !Ci("z").propertyIsEnumerable(0);
}) ? function(r) {
  return Id(r) === "String" ? Ed(r, "") : Ci(r);
} : Ci, Sl = function(r) {
  return r == null;
}, Ad = Sl, wd = TypeError, Il = function(r) {
  if (Ad(r)) throw new wd("Can't call method on " + r);
  return r;
}, Td = _l, Pd = Il, Oa = function(r) {
  return Td(Pd(r));
}, Di = typeof document == "object" && document.all, rt = typeof Di > "u" && Di !== void 0 ? function(r) {
  return typeof r == "function" || r === Di;
} : function(r) {
  return typeof r == "function";
}, Cd = rt, Ir = function(r) {
  return typeof r == "object" ? r !== null : Cd(r);
}, ki = ze, Dd = rt, kd = function(r) {
  return Dd(r) ? r : void 0;
}, El = function(r, e) {
  return arguments.length < 2 ? kd(ki[r]) : ki[r] && ki[r][e];
}, Od = tt, Md = Od({}.isPrototypeOf), Fd = ze, gs = Fd.navigator, ys = gs && gs.userAgent, Rd = ys ? String(ys) : "", Al = ze, Oi = Rd, bs = Al.process, _s = Al.Deno, Ss = bs && bs.versions || _s && _s.version, Is = Ss && Ss.v8, We, Rn;
Is && (We = Is.split("."), Rn = We[0] > 0 && We[0] < 4 ? 1 : +(We[0] + We[1]));
!Rn && Oi && (We = Oi.match(/Edge\/(\d+)/), (!We || We[1] >= 74) && (We = Oi.match(/Chrome\/(\d+)/), We && (Rn = +We[1])));
var xd = Rn, Es = xd, Vd = ot, zd = ze, jd = zd.String, wl = !!Object.getOwnPropertySymbols && !Vd(function() {
  var r = Symbol("symbol detection");
  return !jd(r) || !(Object(r) instanceof Symbol) || // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
  !Symbol.sham && Es && Es < 41;
}), Nd = wl, Tl = Nd && !Symbol.sham && typeof Symbol.iterator == "symbol", $d = El, Ud = rt, Ld = Md, Wd = Tl, Hd = Object, Pl = Wd ? function(r) {
  return typeof r == "symbol";
} : function(r) {
  var e = $d("Symbol");
  return Ud(e) && Ld(e.prototype, Hd(r));
}, Bd = String, Gd = function(r) {
  try {
    return Bd(r);
  } catch {
    return "Object";
  }
}, Kd = rt, Yd = Gd, Qd = TypeError, Zd = function(r) {
  if (Kd(r)) return r;
  throw new Qd(Yd(r) + " is not a function");
}, Jd = Zd, Xd = Sl, qd = function(r, e) {
  var t = r[e];
  return Xd(t) ? void 0 : Jd(t);
}, Mi = Un, Fi = rt, Ri = Ir, eh = TypeError, th = function(r, e) {
  var t, n;
  if (e === "string" && Fi(t = r.toString) && !Ri(n = Mi(t, r)) || Fi(t = r.valueOf) && !Ri(n = Mi(t, r)) || e !== "string" && Fi(t = r.toString) && !Ri(n = Mi(t, r))) return n;
  throw new eh("Can't convert object to primitive value");
}, Cl = { exports: {} }, As = ze, rh = Object.defineProperty, Ma = function(r, e) {
  try {
    rh(As, r, { value: e, configurable: !0, writable: !0 });
  } catch {
    As[r] = e;
  }
  return e;
}, nh = ze, ih = Ma, ws = "__core-js_shared__", Ts = Cl.exports = nh[ws] || ih(ws, {});
(Ts.versions || (Ts.versions = [])).push({
  version: "3.41.0",
  mode: "global",
  copyright: "© 2014-2025 Denis Pushkarev (zloirock.ru)",
  license: "https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",
  source: "https://github.com/zloirock/core-js"
});
var Fa = Cl.exports, Ps = Fa, Dl = function(r, e) {
  return Ps[r] || (Ps[r] = e || {});
}, ah = Il, oh = Object, kl = function(r) {
  return oh(ah(r));
}, sh = tt, uh = kl, lh = sh({}.hasOwnProperty), At = Object.hasOwn || function(e, t) {
  return lh(uh(e), t);
}, ch = tt, dh = 0, hh = Math.random(), ph = ch(1 .toString), Ol = function(r) {
  return "Symbol(" + (r === void 0 ? "" : r) + ")_" + ph(++dh + hh, 36);
}, fh = ze, vh = Dl, Cs = At, mh = Ol, gh = wl, yh = Tl, Ht = fh.Symbol, xi = vh("wks"), bh = yh ? Ht.for || Ht : Ht && Ht.withoutSetter || mh, _h = function(r) {
  return Cs(xi, r) || (xi[r] = gh && Cs(Ht, r) ? Ht[r] : bh("Symbol." + r)), xi[r];
}, Sh = Un, Ds = Ir, ks = Pl, Ih = qd, Eh = th, Ah = _h, wh = TypeError, Th = Ah("toPrimitive"), Ph = function(r, e) {
  if (!Ds(r) || ks(r)) return r;
  var t = Ih(r, Th), n;
  if (t) {
    if (e === void 0 && (e = "default"), n = Sh(t, r, e), !Ds(n) || ks(n)) return n;
    throw new wh("Can't convert object to primitive value");
  }
  return e === void 0 && (e = "number"), Eh(r, e);
}, Ch = Ph, Dh = Pl, Ml = function(r) {
  var e = Ch(r, "string");
  return Dh(e) ? e : e + "";
}, kh = ze, Os = Ir, ma = kh.document, Oh = Os(ma) && Os(ma.createElement), Mh = function(r) {
  return Oh ? ma.createElement(r) : {};
}, Fh = mt, Rh = ot, xh = Mh, Fl = !Fh && !Rh(function() {
  return Object.defineProperty(xh("div"), "a", {
    get: function() {
      return 7;
    }
  }).a !== 7;
}), Vh = mt, zh = Un, jh = ka, Nh = ml, $h = Oa, Uh = Ml, Lh = At, Wh = Fl, Ms = Object.getOwnPropertyDescriptor;
Da.f = Vh ? Ms : function(e, t) {
  if (e = $h(e), t = Uh(t), Wh) try {
    return Ms(e, t);
  } catch {
  }
  if (Lh(e, t)) return Nh(!zh(jh.f, e, t), e[t]);
};
var Ln = {}, Hh = mt, Bh = ot, Gh = Hh && Bh(function() {
  return Object.defineProperty(function() {
  }, "prototype", {
    value: 42,
    writable: !1
  }).prototype !== 42;
}), Kh = Ir, Yh = String, Qh = TypeError, Rl = function(r) {
  if (Kh(r)) return r;
  throw new Qh(Yh(r) + " is not an object");
}, Zh = mt, Jh = Fl, Xh = Gh, Kr = Rl, Fs = Ml, qh = TypeError, Vi = Object.defineProperty, ep = Object.getOwnPropertyDescriptor, zi = "enumerable", ji = "configurable", Ni = "writable";
Ln.f = Zh ? Xh ? function(e, t, n) {
  if (Kr(e), t = Fs(t), Kr(n), typeof e == "function" && t === "prototype" && "value" in n && Ni in n && !n[Ni]) {
    var a = ep(e, t);
    a && a[Ni] && (e[t] = n.value, n = {
      configurable: ji in n ? n[ji] : a[ji],
      enumerable: zi in n ? n[zi] : a[zi],
      writable: !1
    });
  }
  return Vi(e, t, n);
} : Vi : function(e, t, n) {
  if (Kr(e), t = Fs(t), Kr(n), Jh) try {
    return Vi(e, t, n);
  } catch {
  }
  if ("get" in n || "set" in n) throw new qh("Accessors not supported");
  return "value" in n && (e[t] = n.value), e;
};
var tp = mt, rp = Ln, np = ml, xl = tp ? function(r, e, t) {
  return rp.f(r, e, np(1, t));
} : function(r, e, t) {
  return r[e] = t, r;
}, Vl = { exports: {} }, ga = mt, ip = At, zl = Function.prototype, ap = ga && Object.getOwnPropertyDescriptor, op = ip(zl, "name"), sp = op && (!ga || ga && ap(zl, "name").configurable), up = {
  CONFIGURABLE: sp
}, lp = tt, cp = rt, ya = Fa, dp = lp(Function.toString);
cp(ya.inspectSource) || (ya.inspectSource = function(r) {
  return dp(r);
});
var hp = ya.inspectSource, pp = ze, fp = rt, Rs = pp.WeakMap, vp = fp(Rs) && /native code/.test(String(Rs)), mp = Dl, gp = Ol, xs = mp("keys"), yp = function(r) {
  return xs[r] || (xs[r] = gp(r));
}, jl = {}, bp = vp, Nl = ze, _p = xl, $i = At, Ui = Fa, Sp = yp, Ip = jl, Vs = "Object already initialized", zs = Nl.TypeError, Ep = Nl.WeakMap, ba, xn, _a, Ap = function(r) {
  return _a(r) ? xn(r) : ba(r, {});
};
if (bp || Ui.state) {
  var Ke = Ui.state || (Ui.state = new Ep());
  Ke.get = Ke.get, Ke.has = Ke.has, Ke.set = Ke.set, ba = function(r, e) {
    if (Ke.has(r)) throw new zs(Vs);
    return e.facade = r, Ke.set(r, e), e;
  }, xn = function(r) {
    return Ke.get(r) || {};
  }, _a = function(r) {
    return Ke.has(r);
  };
} else {
  var Ot = Sp("state");
  Ip[Ot] = !0, ba = function(r, e) {
    if ($i(r, Ot)) throw new zs(Vs);
    return e.facade = r, _p(r, Ot, e), e;
  }, xn = function(r) {
    return $i(r, Ot) ? r[Ot] : {};
  }, _a = function(r) {
    return $i(r, Ot);
  };
}
var wp = {
  get: xn,
  enforce: Ap
}, Ra = tt, Tp = ot, Pp = rt, Yr = At, Sa = mt, Cp = up.CONFIGURABLE, Dp = hp, $l = wp, kp = $l.enforce, Op = $l.get, js = String, Fn = Object.defineProperty, Mp = Ra("".slice), Fp = Ra("".replace), Rp = Ra([].join), xp = Sa && !Tp(function() {
  return Fn(function() {
  }, "length", { value: 8 }).length !== 8;
}), Vp = String(String).split("String"), zp = Vl.exports = function(r, e, t) {
  Mp(js(e), 0, 7) === "Symbol(" && (e = "[" + Fp(js(e), /^Symbol\(([^)]*)\).*$/, "$1") + "]"), t && t.getter && (e = "get " + e), t && t.setter && (e = "set " + e), (!Yr(r, "name") || Cp && r.name !== e) && (Sa ? Fn(r, "name", { value: e, configurable: !0 }) : r.name = e), xp && t && Yr(t, "arity") && r.length !== t.arity && Fn(r, "length", { value: t.arity });
  try {
    t && Yr(t, "constructor") && t.constructor ? Sa && Fn(r, "prototype", { writable: !1 }) : r.prototype && (r.prototype = void 0);
  } catch {
  }
  var n = kp(r);
  return Yr(n, "source") || (n.source = Rp(Vp, typeof e == "string" ? e : "")), r;
};
Function.prototype.toString = zp(function() {
  return Pp(this) && Op(this).source || Dp(this);
}, "toString");
var jp = Vl.exports, Np = rt, $p = Ln, Up = jp, Lp = Ma, Wp = function(r, e, t, n) {
  n || (n = {});
  var a = n.enumerable, i = n.name !== void 0 ? n.name : e;
  if (Np(t) && Up(t, i, n), n.global)
    a ? r[e] = t : Lp(e, t);
  else {
    try {
      n.unsafe ? r[e] && (a = !0) : delete r[e];
    } catch {
    }
    a ? r[e] = t : $p.f(r, e, {
      value: t,
      enumerable: !1,
      configurable: !n.nonConfigurable,
      writable: !n.nonWritable
    });
  }
  return r;
}, Ul = {}, Hp = Math.ceil, Bp = Math.floor, Gp = Math.trunc || function(e) {
  var t = +e;
  return (t > 0 ? Bp : Hp)(t);
}, Kp = Gp, Ll = function(r) {
  var e = +r;
  return e !== e || e === 0 ? 0 : Kp(e);
}, Yp = Ll, Qp = Math.max, Zp = Math.min, Jp = function(r, e) {
  var t = Yp(r);
  return t < 0 ? Qp(t + e, 0) : Zp(t, e);
}, Xp = Ll, qp = Math.min, ef = function(r) {
  var e = Xp(r);
  return e > 0 ? qp(e, 9007199254740991) : 0;
}, tf = ef, rf = function(r) {
  return tf(r.length);
}, nf = Oa, af = Jp, of = rf, sf = function(r) {
  return function(e, t, n) {
    var a = nf(e), i = of(a);
    if (i === 0) return !r && -1;
    var o = af(n, i), s;
    if (r && t !== t) {
      for (; i > o; )
        if (s = a[o++], s !== s) return !0;
    } else for (; i > o; o++)
      if ((r || o in a) && a[o] === t) return r || o || 0;
    return !r && -1;
  };
}, uf = {
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: sf(!1)
}, lf = tt, Li = At, cf = Oa, df = uf.indexOf, hf = jl, Ns = lf([].push), Wl = function(r, e) {
  var t = cf(r), n = 0, a = [], i;
  for (i in t) !Li(hf, i) && Li(t, i) && Ns(a, i);
  for (; e.length > n; ) Li(t, i = e[n++]) && (~df(a, i) || Ns(a, i));
  return a;
}, Hl = [
  "constructor",
  "hasOwnProperty",
  "isPrototypeOf",
  "propertyIsEnumerable",
  "toLocaleString",
  "toString",
  "valueOf"
], pf = Wl, ff = Hl, vf = ff.concat("length", "prototype");
Ul.f = Object.getOwnPropertyNames || function(e) {
  return pf(e, vf);
};
var xa = {};
xa.f = Object.getOwnPropertySymbols;
var mf = El, gf = tt, yf = Ul, bf = xa, _f = Rl, Sf = gf([].concat), If = mf("Reflect", "ownKeys") || function(e) {
  var t = yf.f(_f(e)), n = bf.f;
  return n ? Sf(t, n(e)) : t;
}, $s = At, Ef = If, Af = Da, wf = Ln, Tf = function(r, e, t) {
  for (var n = Ef(e), a = wf.f, i = Af.f, o = 0; o < n.length; o++) {
    var s = n[o];
    !$s(r, s) && !(t && $s(t, s)) && a(r, s, i(e, s));
  }
}, Pf = ot, Cf = rt, Df = /#|\.prototype\./, Er = function(r, e) {
  var t = Of[kf(r)];
  return t === Ff ? !0 : t === Mf ? !1 : Cf(e) ? Pf(e) : !!e;
}, kf = Er.normalize = function(r) {
  return String(r).replace(Df, ".").toLowerCase();
}, Of = Er.data = {}, Mf = Er.NATIVE = "N", Ff = Er.POLYFILL = "P", Rf = Er, Qr = ze, xf = Da.f, Vf = xl, zf = Wp, jf = Ma, Nf = Tf, $f = Rf, Va = function(r, e) {
  var t = r.target, n = r.global, a = r.stat, i, o, s, u, l, c;
  if (n ? o = Qr : a ? o = Qr[t] || jf(t, {}) : o = Qr[t] && Qr[t].prototype, o) for (s in e) {
    if (l = e[s], r.dontCallGetSet ? (c = xf(o, s), u = c && c.value) : u = o[s], i = $f(n ? s : t + (a ? "." : "#") + s, r.forced), !i && u !== void 0) {
      if (typeof l == typeof u) continue;
      Nf(l, u);
    }
    (r.sham || u && u.sham) && Vf(l, "sham", !0), zf(o, s, l, r);
  }
}, Uf = Ir, Lf = Math.floor, Wf = Number.isInteger || function(e) {
  return !Uf(e) && isFinite(e) && Lf(e) === e;
}, Hf = Va, Bf = Wf;
Hf({ target: "Number", stat: !0 }, {
  isInteger: Bf
});
var Gf = ze, za = Gf, Kf = za;
Kf.Number.isInteger;
var Yf = Va;
Yf({ target: "Number", stat: !0 }, {
  isNaN: function(e) {
    return e !== e;
  }
});
var Qf = za;
Qf.Number.isNaN;
var Zf = Wl, Jf = Hl, Xf = Object.keys || function(e) {
  return Zf(e, Jf);
}, Us = mt, qf = tt, ev = Un, tv = ot, Wi = Xf, rv = xa, nv = ka, iv = kl, av = _l, Mt = Object.assign, Ls = Object.defineProperty, ov = qf([].concat), sv = !Mt || tv(function() {
  if (Us && Mt({ b: 1 }, Mt(Ls({}, "a", {
    enumerable: !0,
    get: function() {
      Ls(this, "b", {
        value: 3,
        enumerable: !1
      });
    }
  }), { b: 2 })).b !== 1) return !0;
  var r = {}, e = {}, t = Symbol("assign detection"), n = "abcdefghijklmnopqrst";
  return r[t] = 7, n.split("").forEach(function(a) {
    e[a] = a;
  }), Mt({}, r)[t] !== 7 || Wi(Mt({}, e)).join("") !== n;
}) ? function(e, t) {
  for (var n = iv(e), a = arguments.length, i = 1, o = rv.f, s = nv.f; a > i; )
    for (var u = av(arguments[i++]), l = o ? ov(Wi(u), o(u)) : Wi(u), c = l.length, d = 0, y; c > d; )
      y = l[d++], (!Us || ev(s, u, y)) && (n[y] = u[y]);
  return n;
} : Mt, uv = Va, Ws = sv;
uv({ target: "Object", stat: !0, arity: 2, forced: Object.assign !== Ws }, {
  assign: Ws
});
var lv = za;
lv.Object.assign;
const cv = 1, dv = 179, hv = 0, pv = {
  major: cv,
  minor: dv,
  fix: hv
};
var ja = {}, Na = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.Desktop = "desktop", e.Server = "server", e.Unknown = "unknown";
  }(r.ExtensionContext || (r.ExtensionContext = {})), function(e) {
    e.Authoring = "authoring", e.Viewing = "viewing", e.Unknown = "unknown";
  }(r.ExtensionMode || (r.ExtensionMode = {})), function(e) {
    e.Mark = "mark", e.Point = "point", e.Area = "area";
  }(r.AnnotateEnum || (r.AnnotateEnum = {})), function(e) {
    e.Discrete = "discrete", e.Continuous = "continuous", e.Unknown = "unknown";
  }(r.ColumnType || (r.ColumnType = {})), function(e) {
    e.Blank = "blank", e.Worksheet = "worksheet", e.QuickFilter = "quick-filter", e.ParameterControl = "parameter-control", e.PageFilter = "page-filter", e.Legend = "legend", e.Title = "title", e.Text = "text", e.Image = "image", e.WebPage = "web-page", e.Extension = "extension";
  }(r.DashboardObjectType || (r.DashboardObjectType = {})), function(e) {
    e.String = "string", e.Int = "int", e.Float = "float", e.Bool = "bool", e.Date = "date", e.DateTime = "date-time", e.Spatial = "spatial", e.Unknown = "unknown";
  }(r.DataType || (r.DataType = {})), function(e) {
    e.Window = "window", e.Modal = "modal", e.Modeless = "modeless";
  }(r.DialogStyle || (r.DialogStyle = {})), function(e) {
    e.Number = "number", e.String = "string", e.Date = "date", e.Boolean = "boolean";
  }(r.EncodedDataType || (r.EncodedDataType = {})), function(e) {
    e.INITIALIZATION_ERROR = "initialization-error", e.INTERNAL_ERROR = "internal-error", e.MISSING_ENUM_MAPPING = "missing-enum-mapping", e.MISSING_PARAMETER = "missing-parameter", e.PERMISSION_DENIED = "permission-denied", e.PRES_MODEL_PARSING_ERROR = "pres-model-parsing-error", e.VERSION_NOT_CONFIGURED = "version-not-configured", e.VISIBILITY_ERROR = "visibility-error", e.UNKNOWN_VERB_ID = "unknown-verb-id";
  }(r.ErrorCodes || (r.ErrorCodes = {})), function(e) {
    e.Sum = "sum", e.Avg = "avg", e.Min = "min", e.Max = "max", e.Stdev = "stdev", e.Stdevp = "stdevp", e.Var = "var", e.Varp = "varp", e.Collect = "collect", e.Count = "count", e.Countd = "countd", e.Median = "median", e.Attr = "attr", e.None = "none", e.Year = "year", e.Qtr = "qtr", e.Month = "month", e.Day = "day", e.Hour = "hour", e.Minute = "minute", e.Second = "second", e.Week = "week", e.Weekday = "weekday", e.MonthYear = "month-year", e.Mdy = "mdy", e.End = "end", e.TruncYear = "trunc-year", e.TruncQtr = "trunc-qtr", e.TruncMonth = "trunc-month", e.TruncWeek = "trunc-week", e.TruncDay = "trunc-day", e.TruncHour = "trunc-hour", e.TruncMinute = "trunc-minute", e.TruncSecond = "trunc-second", e.Quart1 = "quart1", e.Quart3 = "quart3", e.Skewness = "skewness", e.Kurtosis = "kurtosis", e.InOut = "in-out", e.User = "user";
  }(r.FieldAggregationType || (r.FieldAggregationType = {})), function(e) {
    e.Dimension = "dimension", e.Measure = "measure", e.Unknown = "unknown";
  }(r.FieldRoleType || (r.FieldRoleType = {})), function(e) {
    e.Add = "add", e.All = "all", e.Replace = "replace", e.Remove = "remove";
  }(r.FilterUpdateType || (r.FilterUpdateType = {})), function(e) {
    e.Dashboard = "dashboard", e.Story = "story", e.Worksheet = "worksheet";
  }(r.SheetType || (r.SheetType = {})), function(e) {
    e.All = "all", e.List = "list", e.Range = "range";
  }(r.DomainRestrictionType || (r.DomainRestrictionType = {})), function(e) {
    e.Years = "years", e.Quarters = "quarters", e.Months = "months", e.Weeks = "weeks", e.Days = "days", e.Hours = "hours", e.Minutes = "minutes", e.Seconds = "seconds";
  }(r.DateStepPeriod || (r.DateStepPeriod = {})), function(e) {
    e.NullValues = "nullvalues", e.NonNullValues = "nonnullvalues", e.AllValues = "allvalues";
  }(r.FilterNullOption || (r.FilterNullOption = {})), function(e) {
    e.Relevant = "relevant", e.Database = "database";
  }(r.FilterDomainType || (r.FilterDomainType = {})), function(e) {
    e.Replace = "select-replace", e.Add = "select-add", e.Remove = "select-remove";
  }(r.SelectionUpdateType || (r.SelectionUpdateType = {})), function(e) {
    e.Simple = "select-options-simple", e.Toggle = "select-options-toggle", e.Menu = "select-options-menu", e.Range = "select-options-range", e.Search = "select-options-search";
  }(r.SelectOptions || (r.SelectOptions = {})), function(e) {
    e.IncludeNull = "include-null", e.IncludeNonNull = "include-non-null", e.IncludeAll = "include-all";
  }(r.QuantitativeIncludedValues || (r.QuantitativeIncludedValues = {})), function(e) {
    e.AllSelected = "all-selected", e.NoneSelected = "none-selected", e.SomeSelected = "some-selected", e.UnknownSelected = "unknown-selected";
  }(r.HierarchicalLevelSelectionState || (r.HierarchicalLevelSelectionState = {})), function(e) {
    e.Bar = "bar", e.Line = "line", e.Area = "area", e.Square = "square", e.Circle = "circle", e.Shape = "shape", e.Text = "text", e.Map = "map", e.Pie = "pie", e.GanttBar = "gantt-bar", e.Polygon = "polygon", e.Heatmap = "heatmap", e.VizExtension = "viz-extension";
  }(r.MarkType || (r.MarkType = {})), function(e) {
    e.Categorical = "categorical", e.Range = "range", e.RelativeDate = "relativeDate", e.Hierarchical = "hierarchical";
  }(r.FilterType || (r.FilterType = {})), function(e) {
    e.Last = "last", e.LastN = "lastN", e.Next = "next", e.NextN = "nextN", e.Current = "current", e.ToDate = "toDate";
  }(r.DateRangeType || (r.DateRangeType = {})), function(e) {
    e.DialogAlreadyOpen = "dialog-already-open", e.InvalidDomain = "invalid-domain", e.Success = "success";
  }(r.ExtensionDialogResult || (r.ExtensionDialogResult = {})), function(e) {
    e.NativeValuesOnly = "native-values-only", e.FormattedValuesOnly = "formatted-values-only", e.NativeAndFormattedValues = "native-and-formatted-values";
  }(r.ApiShowDataTableFormat || (r.ApiShowDataTableFormat = {})), function(e) {
    e.Letter = "letter", e.Legal = "legal", e.Note = "note", e.Folio = "folio", e.Tabloid = "tabloid", e.Ledger = "ledger", e.Statement = "statement", e.Executive = "executive", e.A3 = "a3", e.A4 = "a4", e.A5 = "a5", e.B4 = "b4", e.B5 = "b5", e.Quarto = "quarto", e.Unspecified = "unspecified";
  }(r.PageSizeOption || (r.PageSizeOption = {})), function(e) {
    e.Printer = "printer", e.Portrait = "portrait", e.Landscape = "landscape";
  }(r.PageOrientation || (r.PageOrientation = {})), function(e) {
    e.ScaleAuto = "auto", e.ScalePercentage = "percent", e.ScaleFitPages = "fit-pages";
  }(r.ScaleMode || (r.ScaleMode = {})), function(e) {
    e.ScalePctAuto = "auto", e.ScalePct400 = "pct400", e.ScalePct200 = "pct200", e.ScalePct100 = "pct100", e.ScalePct90 = "pct90", e.ScalePct80 = "pct80", e.ScalePct75 = "pct75", e.ScalePct60 = "pct60", e.ScalePct50 = "pct50", e.ScalePct25 = "pct25";
  }(r.PageScalingOption || (r.PageScalingOption = {})), function(e) {
    e.FitOneHigh = "fit0x1", e.FitTwoHigh = "fit0x2", e.FitOneWide = "fit1x0", e.FitTwoWide = "fit2x0";
  }(r.FitPages || (r.FitPages = {})), function(e) {
    e.Color = "color", e.Size = "size", e.Label = "label", e.Detail = "detail", e.Tooltip = "tooltip", e.Shape = "shape", e.Path = "path", e.Angle = "angle", e.Geometry = "geometry", e.Custom = "custom";
  }(r.EncodingType || (r.EncodingType = {})), function(e) {
    e.Today = "Today", e.Yesterday = "Yesterday", e.WeekToDate = "WeekToDate", e.LastWeek = "LastWeek", e.MonthToDate = "MonthToDate", e.LastMonth = "LastMonth", e.QuarterToDate = "QuarterToDate", e.LastQuarter = "LastQuarter", e.YearToDate = "YearToDate", e.LastYear = "LastYear";
  }(r.PulseTimeDimension || (r.PulseTimeDimension = {})), function(e) {
    e.Visible = "visible", e.Hidden = "hidden", e.Suppressed = "suppressed";
  }(r.PulseErrorMessageVisibility || (r.PulseErrorMessageVisibility = {}));
})(Na);
Object.defineProperty(ja, "__esModule", { value: !0 });
var De = Na, fv = (
  /** @class */
  function() {
    function r() {
    }
    return r.isSpecial = function(e) {
      return e.length > 2 && e[0] === "%" && e[e.length - 1] === "%";
    }, r.parseBoolean = function(e) {
      var t = e.toLowerCase();
      return t !== "true" && t !== "false" ? this.specialValueIndicator : t === "true";
    }, r.parseNumber = function(e) {
      var t = Number(e);
      return isNaN(t) ? this.specialValueIndicator : t;
    }, r.parseDate = function(e) {
      var t = new Date(e);
      return Number.isNaN(t.getTime()) ? null : t;
    }, r.parseDateTime = function(e) {
      var t = e.replace(" ", "T").concat("Z"), n = new Date(t);
      return Number.isNaN(n.getTime()) ? null : n;
    }, r.convertValueAsStringToValue = function(e, t) {
      if (e != null) {
        if (this.isSpecial(e))
          return e;
        switch (t) {
          case De.DataType.Bool:
            return this.parseBoolean(e);
          case De.DataType.Int:
          case De.DataType.Float:
            return this.parseNumber(e);
          case De.DataType.Date:
            return this.parseDate(e) === null ? this.specialValueIndicator : e;
          case De.DataType.DateTime:
            return this.parseDateTime(e) === null ? this.specialValueIndicator : e;
          case De.DataType.Spatial:
          case De.DataType.String:
          default:
            return e;
        }
      }
    }, r.convertValueToNativeValue = function(e, t) {
      if (e == null)
        return null;
      switch (t) {
        case De.DataType.Bool:
          return typeof e == "string" ? null : e;
        case De.DataType.Int:
        case De.DataType.Float:
          return typeof e == "string" ? null : e;
        case De.DataType.Date:
          return this.parseDate(e);
        case De.DataType.DateTime:
          return this.parseDateTime(e);
        case De.DataType.String:
          return this.isSpecial(e) ? null : e;
        case De.DataType.Spatial:
        default:
          return e;
      }
    }, r.convertStringValueToNativeValue = function(e, t) {
      return this.convertValueToNativeValue(this.convertValueAsStringToValue(e, t), t);
    }, r.specialValueIndicator = "%null%", r;
  }()
);
ja.DataTypeConverter = fv;
var Wn = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.CustomMarkContextMenuClicked = "custom-mark-context-menu-clicked", e.ContextMenuClick = "context-menu-click", e.CustomViewRemoved = "custom-view-removed", e.CustomViewSaved = "custom-view-saved", e.CustomViewSetDefault = "custom-view-set-default", e.CustomViewsLoaded = "custom-views-loaded", e.DashboardLayoutChanged = "dashboard-layout-changed", e.EditButtonClicked = "edit-button-clicked", e.EditInDesktopButtonClicked = "edit-in-desktop-button-clicked", e.ExtensionDialogUpdate = "extension-dialog-update", e.FilterChanged = "filter-changed", e.FirstVizSizeKnown = "first-viz-size-known", e.FirstPulseMetricSizeKnown = "first-pulse-metric-size-known", e.ParameterChanged = "parameter-changed", e.PulseError = "pulse-error", e.PulseFiltersChanged = "pulse-filters-changed", e.PulseInsightDiscovered = "pulse-insight-discovered", e.PulseInteractive = "pulse-interactive", e.PulseTimeDimensionChanged = "pulse-time-dimension-changed", e.PulseUrlChanged = "pulse-url-changed", e.SelectedMarksChanged = "selected-marks-changed", e.SettingsChanged = "settings-changed", e.SummaryDataChanged = "summary-data-changed", e.TestConversionNotification = "test-conversion-notification", e.ToolbarStateChanged = "toolbar-state-changed", e.VizInteractive = "viz-interactive", e.AskDataInteractive = "ask-data-interactive", e.WorkbookReadyToClose = "workbook-ready-to-close", e.WorkbookFormattingChanged = "workbook-formatting-changed", e.WorkbookPublished = "workbook-published", e.WorkbookPublishedAs = "workbook-published-as", e.WorksheetFormattingChanged = "worksheet-formatting-changed", e.UrlAction = "url-action", e.TabSwitched = "tab-switched", e.StoryPointSwitched = "story-point-switched", e.ReadyToReceiveAuthToken = "ready-to-receive-auth-token";
  }(r.NotificationId || (r.NotificationId = {}));
})(Wn);
var Bl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.ActiveTablesInfo = "active-tables-info", e.AnchorDate = "anchor-date", e.AnnotateEnum = "annotate-enum", e.AnnotationList = "annotation-list", e.ApplyWorksheetFormatting = "apply-worksheet-formatting", e.CategoricalDomain = "categorical-domain", e.ClickThroughEnabled = "click-through-enabled", e.Columns = "columns", e.ColumnsToInclude = "columns-to-include", e.ColumnsToIncludeById = "columns-to-include-by-id", e.ConnectionDescriptionSummaries = "connection-description-summaries", e.CurrentSheetType = "current-sheet-type", e.CustomView = "custom-view", e.CustomViewIsDefault = "custom-view-is-default", e.CustomViewIsPublic = "custom-view-is-public", e.CustomViewLuid = "custom-view-luid", e.CustomViewName = "custom-view-name", e.CustomViews = "custom-views", e.Dashboard = "dashboard", e.DashboardFilters = "dashboard-filters", e.DashboardName = "dashboard", e.DashboardObjectPositionAndSizeUpdate = "dashboard-object-position-and-size-update", e.DashboardObjectPositionAndSizeUpdateList = "dashboard-object-position-and-size-update-list", e.DataRowIndex = "data-row-index", e.DataSchema = "data-schema", e.DataSource = "data-source", e.DataSourceDataTable = "data-source-data-table", e.DataSourceId = "data-source-id", e.DataSourceName = "data-source-name", e.DataTable = "data-table", e.DataTableReader = "data-table-reader", e.DateRangeType = "date-range-type", e.DeleteCount = "delete-count", e.DeltaTimeMs = "delta-time-ms", e.DimValSelectionModels = "dimensionValueSelectionModels", e.DomainType = "domain-type", e.EmbeddingAbstractQuery = "embedding-abstract-query", e.EmbeddingBootstrapInfo = "embedding-bootstrap-info", e.EncodingType = "encoding-type", e.ExportCrosstabSheetMap = "export-crosstab-sheet-map", e.ExportFile = "export-file", e.ExportOriginUrl = "export-origin-url", e.ExportPdfOptions = "export-pdf-options", e.ExtensionBootstrapInfo = "extension-bootstrap-info", e.ExtensionContextMenuIds = "extension-context-menu-ids", e.ExtensionDialogH = "extension-dialog-height", e.ExtensionDialogPayload = "extension-dialog-payload", e.ExtensionDialogResult = "extension-dialog-result", e.ExtensionDialogStyle = "extension-dialog-style", e.ExtensionDialogUrl = "extension-dialog-url", e.ExtensionDialogW = "extension-dialog-width", e.ExtensionLocator = "extension-locator", e.ExtensionSettingsInfo = "extension-settings-info", e.ExtensionZoneId = "extension-zone-id", e.ExternalMenuDescription = "external-menu-description", e.ExternalMenuHeader = "external-menu-header", e.ExternalMenuItemDisplayName = "external-menu-item-display-name", e.ExternalMenuItemId = "external-menu-item-id", e.Field = "field", e.FieldCount = "field-count", e.FieldId = "field-id", e.FieldName = "field-name", e.FilterLevels = "filter-levels", e.FilterRangeMax = "filter-range-max", e.FilterRangeMin = "filter-range-min", e.FilterRangeNullOption = "filter-range-null-option", e.FilterUpdateType = "filter-update-type", e.FilterValues = "filter-values", e.FontNameListItems = "font-name-list-items", e.FormattedText = "formatted-text", e.FunctionName = "function-name", e.FromIndex = "from-index", e.HierValSelectionModels = "hierarchicalValueSelectionModels", e.HighlightedData = "highlighted-data", e.HoverTupleInteraction = "hover-tuple-interaction", e.IgnoreAliases = "ignore-aliases", e.IgnoreSelection = "ignore-selection", e.IncludeAllColumns = "include-all-columns", e.InvalidAggFieldName = "invalid-agg-field-name", e.InvalidDates = "invalid-dates", e.InvalidFieldCaption = "invalid-field-caption", e.InvalidFields = "invalid-fields", e.InvalidValues = "invalid-values", e.IsExcludeMode = "is-exclude", e.IsExtensionDialog = "is-extension-dialog", e.JoinDescription = "join-description", e.LogicalTableId = "logical-table-id", e.LogicalTableInfoList = "logical-table-info-list", e.MarksCardIndex = "marks-card-index", e.MaxHeight = "max-height", e.MaxRows = "max-rows", e.MaxWidth = "max-width", e.MinHeight = "min-height", e.MinWidth = "min-width", e.PageRowCount = "page-row-count", e.ParameterCaption = "paremeter-caption", e.ParameterError = "parameter-error", e.ParameterFieldName = "parameter-field-name", e.ParameterInfo = "parameter-info", e.ParameterInfos = "parameter-infos", e.ParameterValue = "parameter-value", e.PeriodType = "period-type", e.PulseFieldName = "fieldName", e.PulseFieldNames = "fieldNames", e.PulseFilterDomainType = "domainType", e.PulseFilterDomainSearchTerm = "searchTerm", e.PulsePageSize = "pageSize", e.PulseNextPageToken = "nextPageToken", e.PulseFilters = "filters", e.PulseTimeDimension = "timeDimension", e.QuantitativeDomain = "quantitative-dmain", e.QuantRangeSelectionModels = "quantativeRangeSelectionModels", e.RangeN = "range-n", e.ReplaySpeed = "replay-speed", e.SelectedData = "selected-data", e.SelectedSheetNames = "selected-sheet-names", e.Selection = "selection", e.SelectionList = "selection-list", e.SelectionUpdateType = "selectionUpdateType", e.SelectTuplesInteraction = "select-tuples-interaction", e.SendNotifications = "send-notifications", e.SettingsValues = "settings-values", e.SharedFilterSheets = "shared-filter-sheets", e.SharedFiltersInfo = "shared-filters-info", e.SheetIdentifier = "sheet-identifier", e.SheetName = "sheet-name", e.SheetPath = "sheet-path", e.ShouldRefreshDS = "should-refresh-ds", e.ShowDataTableFormat = "show-data-table-format", e.StartIndex = "start-index", e.State = "state", e.StoryPointIndex = "story-point-index", e.StoryPointInfo = "story-point-info", e.SwitchToSheetName = "switch-to-sheet-name", e.TargetPoint = "target-point", e.TestConversionParameter = "test-conversion-parameter", e.Text = "formatted-text", e.ToIndex = "to-index", e.TooltipContext = "tooltip-context", e.TooltipTextRequest = "tooltip-text-request", e.TooltipText = "tooltip-text", e.UnderlyingDataTable = "underlying-data-table", e.UnderlyingSummaryDataTable = "underlying-summary-data-table", e.Url = "url", e.UseTabDelimiters = "use-tab-delimiters", e.ViewDataTableCacheId = "view-data-table-cache-id", e.ViewDataTableId = "view-data-table-id", e.VisualId = "visual-id", e.VisualSpecification = "visual-specification", e.VizAPIInputJson = "vizapi-input-json", e.VizAPIStateWithDataModel = "vizapi-state-with-data-model", e.VizAPIStateWarningMsg = "vizapi-state-warning-msg", e.VizAPISVG = "vizapi-svg", e.WorksheetName = "worksheet-name", e.WorksheetFilters = "worksheet-filters", e.ZoneIdsVisibilityMap = "zone-ids-visibility-map";
  }(r.ParameterId || (r.ParameterId = {}));
})(Bl);
var Gl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.ActivateNextStoryPoint = "activate-next-story-point", e.ActivatePreviousStoryPoint = "activate-previous-story-point", e.ActivateSheet = "activateSheet", e.ActivateStoryPoint = "activate-story-point", e.AddMarksCardFields = "add-marks-card-fields", e.AppendExternalMenuItem = "append-external-menu-item", e.ApplyCategoricalFilter = "categorical-filter", e.ApplyPulseFilters = "apply-pulse-filters", e.ApplyPulseTimeDimension = "apply-pulse-time-dimension", e.ApplyRangeFilter = "range-filter", e.ApplyRelativeDateFilter = "apply-relative-date-Filter", e.Authenticate = "authenticate", e.BlockExtension = "block-extension", e.ChangeParameterValue = "change-parameter-value", e.ChangeSharedFilter = "change-shared-filter", e.ClearAllPulseFilters = "clear-all-pulse-filters", e.ClearFilter = "clear-filter", e.ClearPulseFilters = "clear-pulse-filters", e.ClearSelectedMarks = "clear-selected-marks", e.CloseDialog = "close-dialog", e.CreateAnnotation = "create-annotation", e.DashboardCategoricalFilter = "dashboard-categorical-filter", e.DisplayDialog = "display-dialog", e.DownloadWorkbook = "download-workbook", e.EditAliasesDialog = "edit-aliases-dialog", e.ExecuteExternalMenuItem = "execute-external-menu-item", e.ExportCrosstab = "export-crosstab", e.ExportCrosstabCsvDownload = "export-crosstab-csv-download", e.ExportCrosstabExcelDownload = "export-crosstab-excel-download", e.ExportData = "export-data", e.ExportDataDownload = "export-data-download", e.ExportImage = "export-image", e.ExportPdf = "export-pdf", e.ExportPdfDownload = "export-pdf-download", e.ExportPowerpoint = "export-powerpoint", e.ExportPowerpointDownload = "export-powerpoint-download", e.FindParameter = "find-parameter", e.GetActiveTables = "get-active-tables", e.GetAllDataSources = "get-all-data-sources", e.GetAnnotations = "get-annotations", e.GetCategoricalDomain = "get-categorical-domain", e.GetConnectionDescriptionSummaries = "get-connection-description-summaries", e.GetCurrentSrc = "get-current-src", e.GetCustomViews = "get-custom-views", e.GetDashboardFilters = "get-dashboard-filters", e.GetDataSource = "get-datasource", e.GetDataSourceData = "get-datasource-data", e.GetDataSources = "get-data-sources", e.GetDataSummaryData = "get-summary-data", e.GetDataSummaryDataReader = "get-summary-data-reader", e.GetDataTableReaderPage = "get-data-table-reader-page", e.GetEmbeddingAbstractQueryWithDataModel = "get-embedding-abstract-query-with-data-model", e.GetEmbeddingClientInfo = "get-embedding-client-info", e.GetVizStateWithDataModel = "get-viz-state-with-data-model", e.GetExportCrosstabSheetMap = "get-export-crosstab-sheet-map", e.GetExportPdfOptions = "get-export-pdf-options", e.GetField = "get-field", e.GetFieldAndDataSource = "get-field-and-datasource", e.GetVisualSpecification = "get-visual-specification", e.GetFilters = "get-filters", e.GetFonts = "get-fonts", e.GetHighlightedMarks = "get-highlighted-marks", e.GetJoinDescription = "get-join-description", e.GetLogicalTableData = "get-logical-table-data", e.GetLogicalTableDataReader = "get-logical-table-data-reader", e.GetLogicalTables = "get-logical-tables", e.GetParametersForSheet = "get-parameters-for-sheet", e.GetPulseCategoricalDomain = "get-pulse-categorical-domain", e.GetPulseFilters = "get-pulse-filters", e.GetPulseTimeDimension = "get-pulse-time-dimension", e.GetRangeDomain = "get-range-domain", e.GetSelectedMarks = "get-selected-marks", e.GetSharedFilter = "get-shared-filter", e.GetTooltipText = "get-tooltip-text", e.GetUnderlyingData = "get-underlying-data", e.GetUnderlyingTableData = "get-underlying-table-data", e.GetUnderlyingTableDataReader = "get-underlying-table-data-reader", e.GetUnderlyingTables = "get-underlying-tables", e.HierarchicalFilter = "hierachical-filter", e.InitializeExtension = "initialize-extension", e.MoveAndResizeZones = "move-and-resize-zones", e.MoveMarksCardField = "move-marks-card-field", e.RaiseLeaveMarkNavNotification = "raise-leave-mark-nav-notification", e.RaiseHoverTupleNotification = "raise-hover-tuple-notification", e.RaiseSelectTuplesNotification = "raise-select-tuples-notification", e.Redo = "redo", e.RefreshDataSource = "refresh-data-source", e.ReleaseDataTableReader = "release-data-table-reader", e.RemoveAnnotation = "remove-annotation", e.RemoveCustomView = "remove-custom-view", e.RemoveExternalMenuItem = "remove-external-menu-item", e.RenameExternalMenu = "rename-external-menu", e.ReplayAnimation = "replay-animation", e.RevertStoryPoint = "revert-story-point", e.RevertWorkbook = "revert-workbook", e.SaveExtensionSettings = "save-extension-settings", e.SaveWorkbookAsCustomView = "save-workbook-as-custom-view", e.SelectByValue = "select-by-value", e.SetActiveCustomViewAsDefault = "set-active-custom-view-as-default", e.SetAutoUpdate = "set-auto-update", e.SetClickThrough = "set-click-through", e.SetVizStateWithDataModel = "set-viz-state-with-data-model", e.SetSheetSize = "set-sheet-size", e.SetZoneVisibility = "set-zone-visibility", e.Share = "share", e.ShowCustomView = "show-custom-view", e.SpliceMarksCardFields = "splice-marks-card-fields", e.TestConversionVerb = "test-conversion-verb", e.Undo = "undo", e.UpdateCustomView = "update-custom-view", e.VizAPI = "viz-api";
  }(r.VerbId || (r.VerbId = {}));
})(Gl);
var Kl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.token = "token", e.origin = "origin", e.showEmbed = "showEmbed", e.showPin = "showPin", e.showSave = "showSave", e.showShare = "showShare", e.debug = ":jsdebug", e.ApiID = ":apiID", e.ApiExternalVersion = ":apiExternalVersion", e.ApiInternalVersion = ":apiInternalVersion", e.AskDataWebComponent = ":askDataWebComponent";
  }(r.AskDataOptionNames || (r.AskDataOptionNames = {}));
})(Kl);
var Yl = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.embed = "embed", e.token = "token", e.disableExploreFilter = "disableExploreFilter", e.layout = "embed_layout", e.theme = "embed_theme", e.ApiExternalVersion = ":apiExternalVersion", e.ApiInternalVersion = ":apiInternalVersion", e.PulseWebComponent = ":pulseWebComponent";
  }(r.PulseOptionNames || (r.PulseOptionNames = {}));
})(Yl);
var Ql = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e;
  (function(n) {
    n.ONE = "1", n.ALERTS = ":alerts", n.ALIAS = "alias", n.ALLOW_DEFERRED_BOOTSTRAP = ":allowDeferredBootstrap", n.ALLOW_AUTOGEN_WORKSHEET_PHONE_LAYOUTS = "allowAutogenWorksheetPhoneLayouts", n.API_ID = ":apiID", n.APP = ":app", n.ATTACHMENT = "attachment", n.IS_IPAD_APP = "app", n.ANIMATE_TRANSITION = ":animate_transition", n.ASCENDING = "ascending", n.AUTHENTICATION = "authentication", n.ATTRIBUTES = "attributes", n.AUTHORING_SHEET = ":authSheet", n.AXIS = "axis", n.BOOTSTRAP_WHEN_NOTIFIED = ":bootstrapWhenNotified", n.BROWSER_BACK_BUTTON_UNDO = ":browserBackButtonUndo", n.BROWSER_RENDERING_ON = "isBrowserRendering", n.BROWSER_RENDERING_THRESHOLD = "browserRenderingThreshold", n.CHARSET = "charset", n.CLIENT_DIMENSION = "clientDimension", n.CLIENT_IP = "client_ip", n.CLIENT_NUM = "clientNum", n.COLON_EMBEDDED = ":embedded", n.COLON_MOBILE = ":mobile", n.COLON_DEEP_LINKING_DISABLED = ":deepLinkingDisabled", n.COLON_WATERMARK = ":watermark", n.COMMENTS = ":comments", n.COMMENTING_ENABLED = ":commentingEnabled", n.COMMENTING_MENTIONS_ENABLED = ":commentingMentions", n.CONNECTION = "connection", n.CREATED_BY_FEATURE = "createdByFeature", n.CRYPTED_PASSWORD = "crypted", n.CSSDEBUG = ":cssdebug", n.CSV = "csv", n.CUSTOM_VIEWS = ":customViews", n.CV = ":cv", n.CV_ID = "cvId", n.DASHBOARD_PORT_SIZE = "dashboardPortSize", n.DATA_DETAILS = ":dataDetails", n.DATASOURCE = "datasource", n.DEBUG = ":debug", n.DELAY = ":delay", n.DEPTH = "depth", n.DEVICE_TYPE = ":device", n.DEVICE_PIXEL_RATIO = "devicePixelRatio", n.DEVICE_PREVIEW_MODE = ":devicepreviewmode", n.DIMENSIONS = ":dimensions", n.DISABLE_SHARED_SESSIONS = ":disable_shared_sessions", n.DISABLE_URL_ACTIONS_POPUPS = ":disableUrlActionsPopups", n.DIRECTION = "direction", n.DISPLAY_OVERLAY = ":display_overlay", n.DISPLAY_SHARE = ":display_share", n.DISPLAY_SPINNER = ":display_spinner", n.DISPLAY_STATIC_IMAGE = ":display_static_image", n.DISPLAY_TABS = "display_tabs", n.DISPLAY_VIEW_COUNT = ":display_count", n.IGNORE_STICKY_SESSION = ":ignore_sticky_session", n.INCREMENT_VIEW_COUNT = ":increment_view_count", n.DOCMODE = "docmode", n.DOMAIN = "domain", n.DO_WORK = "do_work", n.DX = "dx", n.DY = "dy", n.EDIT_DATA_ALERT = ":editDataAlert", n.EMBED = ":embed", n.EMBEDDED = "embedded", n.ENCRYPTED = "encrypted", n.API_EXTERNAL_VERSION = ":apiExternalVersion", n.API_INTERNAL_VERSION = ":apiInternalVersion", n.EXCLUDE = "exclude", n.EXPORT_FORMAT = ":export_format", n.FIELDNAME = "fieldname", n.FIELD_NAME = "field_name", n.FIELD_SEP = "field_sep", n.FILE = "file", n.FILTER_TILE_SIZE = "filterTileSize", n.FN = "fn", n.FOCUS = "focus", n.FORCE_CACHE = "force_cache", n.FORMAT = "format", n.FORMAT_DATA_VALUE_LOCALLY = "formatDataValueLocally", n.FROM_WG = ":from_wg", n.GRAPHQL_DATABASE_ID = ":graphQLDatabaseId", n.GRAPHQL_TABLE_ID = ":graphQLTableId", n.GUID = ":guid", n.H = "h", n.HIDDEN = "hidden", n.HIDE_CLOSE_BUTTON = ":hideCloseButton", n.HIDE_EDIT_BUTTON = ":hideEditButton", n.HIDE_EDIT_IN_DESKTOP_BUTTON = ":hideEditInDesktopButton", n.HIGH_DPI = ":highdpi", n.IMAGE_SIZE_LIMIT = "imageSizeLimit", n.TRANSPARENT_LINE_MARKS_LIMIT = "transparentLineMarkLimit", n.CLIENT_RENDER_PIXEL_LIMIT = "clientRenderPixelLimit", n.IN = "in", n.INSTANCE_ID = ":iid", n.IS_GUEST_REDIRECT_FROM_VIZPORTAL = ":isGuestRedirectFromVizportal", n.IS_MARK_ANIMATION_ENABLED = "isMarkAnimationEnabled", n.IS_VIZPORTAL = ":isVizPortal", n.INPUT_ = "input_string", n.JSDEBUG = ":jsdebug", n.JSON = "json", n.JSON_ONLY = ":jsonOnly", n.KEEPFILE = "keepfile", n.KEY = "key", n.LANGUAGE = "language", n.LANGUAGE_REQUESTED = ":language", n.LINKTARGET = ":linktarget", n.LOAD_ORDER_ID = ":loadOrderID", n.LOAD_NEWEST_REVISION = ":loadNewestRevision", n.LOCAL_PATHS = ":localPaths", n.LOCALE = "locale", n.LOCATION_ID = "locationid", n.LOCATION_TYPE = "locationtype", n.WORKBOOK_LOCALE = "workbookLocale", n.MAXROWS = "maxrows", n.MAX_AGE = "maxAge", n.MAX_ROWS = "maxRows", n.METHOD = "method", n.MOBILE = "mobile", n.MODIFIER = "modifier", n.NAME = "name", n.NAV_TYPE = "navType", n.NAV_SRC = "navSrc", n.NOATTACHMENT = "no-attachment", n.NO_OVERWRITE = "no_overwrite", n.OPEN_AUTHORING_IN_TOP_WINDOW = ":openAuthoringInTopWindow", n.OPENID_HD = ":openid_hd", n.OPENID_LOGIN_HINT = ":openid_login_hint", n.OAUTHREQUEST = "oauthrequest", n.OAUTH_CREDENTIAL_IDS = "oauth_credential_ids", n.OFFLINE_MODE = ":offlinemode", n.ORIGIN = ":origin", n.OVERLAY = ":overlay", n.P = "p", n.PATH = "path", n.PANE_RESOLVER_X = "paneResolverX", n.PANE_RESOLVER_Y = "paneResolverY", n.PARAM = "param", n.PARENT_ID = "parent_id", n.PASSWORD = "password", n.PATTERN = "pattern", n.PIXEL_RATIO = ":pixelratio", n.PREFIX = ":prefix", n.PREVIEW = ":preview", n.PRIMARY_CONTENT_URL = "primary_content_url", n.PROJECT = "project", n.PROTOCOL = "protocol", n.PSEUDO = ":pseudo", n.QUERY = "query", n.R = "r", n.RANGE_TYPE = "range_type", n.RECORD_SEP = "record_sep", n.RECORD_CLIENT_PERFORMANCE = ":record_client_performance", n.RECORD_PERFORMANCE = ":record_performance", n.RECOVER_OLD_SESSION_ID = ":recover_old_session_id", n.RECOVER_SESSION_STATE_TICKETS = ":recover_session_state_tickets", n.REFRESH = ":refresh", n.REFRESHUNMODIFIED = ":refreshunmodified", n.REGION = "region", n.RELOAD_ON_CUSTOM_VIEW_SAVE = ":reloadOnCustomViewSave", n.RENDER = ":render", n.RENDER_MAPS_CLIENT_SIDE = "renderMapsClientSide", n.RETRY = ":retry", n.REUSE = "reuse", n.REUSE_FOREVER = "reuse_forever", n.REVERT = ":revert", n.SAVE_DB_PASSWORDS = "save_db_passwords", n.SELECT_X = "select_x", n.SELECT_Y = "select_y", n.SESSION_FEATURE_PREFIX = ":ff_", n.SESSION_FLAGS = ":session_feature_flags", n.SHARE_BUTTON = "share_button", n.SHEET_ID = "sheet_id", n.SHARED = "shared", n.SHOWALL = "showall", n.SHOW_APP_BANNER = ":showAppBanner", n.SHOW_ASK_DATA = ":showAskData", n.SHOW_PARAMS = "showParams", n.SHOW_SHARE_OPTIONS = ":showShareOptions", n.SIZE = ":size", n.SOURCE = "source", n.STATE = "state", n.STICKY_SESSION_KEY = "stickySessionKey", n.SUBSCRIPTIONS = ":subscriptions", n.SUMMARY = "summary", n.SUPPRESS_DEFAULT_EDIT_BEHAVIOR = ":suppressDefaultEditBehavior", n.SYNC_SESSION = ":sync_session", n.SYNC_SESSION_STATE = "sync_session_state", n.TABS = ":tabs", n.TARGET = "target", n.TARGET_SITE = "target_site", n.TOOLBAR = ":toolbar", n.TOOLTIP = ":tooltip", n.TS = "ts", n.UNDERLYING_TABLE_ID = "underlying_table_id", n.UNDERLYING_TABLE_CAPTION = "underlying_table_caption", n.UPDATE_TYPE = "update_type", n.USE_GUEST = ":useGuest", n.USE_INLINE_IMAGES = "use_inline_images", n.USERAGENT = "useragent", n.USERNAME = "username", n.VALUE = "value", n.VERBOSE_MODE = "verboseMode", n.VIEW_ID = "views_id", n.VIZ_SNAPSHOT_ID = "viz_snapshot_id", n.VW = ":vw", n.W = "w", n.WORKSHEET_PORT_SIZE = "worksheetPortSize", n.WATERMARK = "watermark", n.WATERMARK_MARGIN = ":watermark_margin", n.WB = ":wb", n.WHICH = "which", n.X = "x", n.Y = "y", n.ZID = "zid", n.ZONE_ID = "zone_id", n.KEYCHAIN_VERSION = "keychain_version", n.DATASOURCE_ID = "datasource_id", n.DATASOURCE_NAME = "datasource_name", n.LENS_ID = "lens_id", n.WIDTH = "width", n.HEIGHT = "height", n.LAYOUT_VIEWS = "views", n.LAYOUT_MENUS = "menus", n.LAYOUT_GEOMETRY = "geometry", n.LAYOUT_PAGES = "pages", n.LAYOUT_CACHEURL = "cacheurl", n.LAYOUT_SHEET = "sheet", n.LAYOUT_DEPTH = "depth";
  })(e || (e = {}));
  var t;
  (function(n) {
    n.SHOW_VIZ_HOME = ":showVizHome";
  })(t || (t = {})), function(n) {
    n.Size = ":size", n.Embed = ":embed", n.ApiInternalVersion = ":apiInternalVersion", n.ApiExternalVersion = ":apiExternalVersion", n.ShowVizHome = ":showVizHome", n.Jsdebug = ":jsdebug", n.BootstrapWhenNotified = ":bootstrapWhenNotified", n.NavType = "navType", n.NavSrc = "navSrc", n.debug = ":jsdebug", n.ApiID = ":apiID", n.disableUrlActionsPopups = ":disableUrlActionsPopups", n.hideTabs = ":tabs", n.toolbar = ":toolbar", n.device = ":device", n.instanceIdToClone = ":iid", n.touchOptimize = "mobile", n.hideEditButton = ":hideEditButton", n.hideEditInDesktopButton = ":hideEditInDesktopButton", n.suppressDefaultEditBehavior = ":suppressDefaultEditBehavior", n.hideCloseButton = ":hideCloseButton";
  }(r.VizOptionNames || (r.VizOptionNames = {}));
})(Ql);
var Zr = {}, Zl = { exports: {} };
(function(r) {
  (function() {
    var e = new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$", "i");
    function t(a) {
      for (var i = "", o = 0; o < a; o++)
        i += ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);
      return i;
    }
    function n(a) {
      if (!a) throw new TypeError("Invalid argument; `value` has no value.");
      this.value = n.EMPTY, a && a instanceof n ? this.value = a.toString() : a && Object.prototype.toString.call(a) === "[object String]" && n.isGuid(a) && (this.value = a), this.equals = function(i) {
        return n.isGuid(i) && this.value == i;
      }, this.isEmpty = function() {
        return this.value === n.EMPTY;
      }, this.toString = function() {
        return this.value;
      }, this.toJSON = function() {
        return this.value;
      };
    }
    n.EMPTY = "00000000-0000-0000-0000-000000000000", n.isGuid = function(a) {
      return a && (a instanceof n || e.test(a.toString()));
    }, n.create = function() {
      return new n([t(2), t(1), t(1), t(1), t(3)].join("-"));
    }, n.raw = function() {
      return [t(2), t(1), t(1), t(1), t(3)].join("-");
    }, r.exports ? r.exports = n : typeof window < "u" && (window.Guid = n);
  })();
})(Zl);
var Jl = Zl.exports, $a = {};
Object.defineProperty($a, "__esModule", { value: !0 });
var vv = (
  /** @class */
  function() {
    function r(e, t, n) {
      this._message = e, this._target = t, this._origin = n;
    }
    return Object.defineProperty(r.prototype, "messageGuid", {
      get: function() {
        return this._message.msgGuid;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.send = function() {
      return this._target.postMessage(this._message, this._origin), this;
    }, r;
  }()
);
$a.CrossFramePreparedMessage = vv;
var st = {}, Hn = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.Initialize = "initialize", e.Notification = "notification", e.Command = "command", e.CommandResponse = "command-response", e.Handshake = "v-handshake", e.Ack = "v-ack";
  }(r.MessageType || (r.MessageType = {}));
})(Hn);
Object.defineProperty(st, "__esModule", { value: !0 });
var Xl = Jl, ar = Wn, et = Hn, mv = /* @__PURE__ */ new Set([
  ar.NotificationId.EditButtonClicked,
  ar.NotificationId.EditInDesktopButtonClicked,
  ar.NotificationId.WorkbookPublished,
  ar.NotificationId.WorkbookReadyToClose,
  ar.NotificationId.ReadyToReceiveAuthToken
]);
function Kt(r) {
  if (!r)
    return !1;
  var e = r;
  if (!e || !e.msgGuid || !e.msgType || !Xl.isGuid(e.msgGuid) || typeof e.msgType != "string")
    return !1;
  var t = [
    et.MessageType.Command,
    et.MessageType.CommandResponse,
    et.MessageType.Initialize,
    et.MessageType.Notification,
    et.MessageType.Handshake
  ];
  return !(t.indexOf(e.msgType) < 0);
}
st.isMessage = Kt;
function Ia(r) {
  if (!r)
    return !1;
  var e = r;
  return !(typeof e != "object" || typeof e.fix != "number" || typeof e.minor != "number" || typeof e.major != "number");
}
st.isVersion = Ia;
function gv(r) {
  if (!Kt(r))
    return !1;
  var e = r;
  return !(e.msgType !== et.MessageType.Initialize || !e.apiVersion || !Ia(e.apiVersion) || !e.crossFrameVersion || !Ia(e.crossFrameVersion));
}
st.isInitMessage = gv;
function yv(r) {
  if (!Kt(r))
    return !1;
  var e = r;
  return !(e.msgType !== et.MessageType.CommandResponse || !Xl.isGuid(e.commandGuid) || !e.data && !e.error);
}
st.isCommandResponseMessage = yv;
function bv(r) {
  if (!Kt(r))
    return !1;
  var e = r;
  return !(e.msgType !== et.MessageType.Command || !e.parameters || typeof e.parameters != "object" || !e.verbId || typeof e.verbId != "string");
}
st.isCommandMessage = bv;
function _v(r) {
  if (!Kt(r))
    return !1;
  var e = r;
  return !(e.msgType !== et.MessageType.Notification || !e.data && !mv.has(e.notificationId) || !e.notificationId || typeof e.notificationId != "string");
}
st.isNotificationMessage = _v;
function Sv(r) {
  if (!Kt(r))
    return !1;
  var e = r;
  return e.msgType === et.MessageType.Handshake;
}
st.isHandshakeMessage = Sv;
var Hs;
function Iv() {
  if (Hs) return Zr;
  Hs = 1, Object.defineProperty(Zr, "__esModule", { value: !0 });
  var r = Jl, e = V(), t = $a, n = st, a = Hn, i = (
    /** @class */
    function() {
      function o(s, u, l) {
        this.thisWindow = s, this.otherWindow = u, this.otherWindowOrigin = l;
      }
      return o.prototype.startListening = function() {
        var s = this;
        if (!this.unregisterFunction) {
          var u = this.onMessageReceived.bind(this);
          this.thisWindow.addEventListener("message", u, !0), this.unregisterFunction = function() {
            return s.thisWindow.removeEventListener("message", u, !0);
          };
        }
      }, o.prototype.stopListening = function() {
        this.unregisterFunction && (this.unregisterFunction(), this.unregisterFunction = void 0);
      }, o.prototype.setInitializeMessageHandler = function(s) {
        this.initializeMessageHandler = s;
      }, o.prototype.setCommandResponseMessageHandler = function(s) {
        this.commandResponseMessageHandler = s;
      }, o.prototype.setCommandMessageHandler = function(s) {
        this.commandMessageHandler = s;
      }, o.prototype.setNotificationMessageHandler = function(s) {
        this.notificationMessageHandler = s;
      }, o.prototype.setHandshakeMessageHandler = function(s) {
        this.handshakeMessageHandler = s;
      }, o.prototype.prepareInitializationMessage = function(s, u, l) {
        var c = {
          msgGuid: r.raw(),
          msgType: a.MessageType.Initialize,
          crossFrameVersion: u,
          apiVersion: s,
          options: l
        };
        return this.prepareMessage(c);
      }, o.prototype.prepareCommandMessage = function(s, u) {
        var l = {
          msgGuid: r.raw(),
          msgType: a.MessageType.Command,
          verbId: s,
          parameters: u
        };
        return this.prepareMessage(l);
      }, o.prototype.prepareCommandResponseMessage = function(s, u, l) {
        var c = {
          msgGuid: r.raw(),
          msgType: a.MessageType.CommandResponse,
          commandGuid: s,
          data: u,
          error: l
        };
        return l && (c.error = JSON.parse(JSON.stringify(l))), this.prepareMessage(c);
      }, o.prototype.prepareNotificationMessage = function(s, u) {
        var l = {
          msgGuid: r.raw(),
          msgType: a.MessageType.Notification,
          notificationId: s,
          data: u
        };
        return this.prepareMessage(l);
      }, o.prototype.prepareAckMessage = function() {
        var s = {
          msgGuid: r.raw(),
          msgType: a.MessageType.Ack,
          platformVersion: e.INTERNAL_CONTRACT_VERSION
        };
        return this.prepareMessage(s);
      }, o.prototype.prepareMessage = function(s) {
        if (!this.otherWindow || !this.otherWindowOrigin)
          throw "Other window not initialized, cannot dispatch messages";
        var u = new t.CrossFramePreparedMessage(s, this.otherWindow, this.otherWindowOrigin);
        return u;
      }, o.prototype.onMessageReceived = function(s) {
        if (!(this.otherWindow && s.source !== this.otherWindow) && s.data) {
          var u = s.data;
          if (n.isMessage(u))
            switch (u.msgType) {
              case a.MessageType.Initialize: {
                if (!n.isInitMessage(u) || !this.initializeMessageHandler)
                  return;
                this.initializeMessageHandler(u, s.source);
                break;
              }
              case a.MessageType.CommandResponse: {
                if (!n.isCommandResponseMessage(u) || !this.commandResponseMessageHandler)
                  return;
                this.commandResponseMessageHandler(u, s.source);
                break;
              }
              case a.MessageType.Command: {
                if (!n.isCommandMessage(u) || !this.commandMessageHandler)
                  return;
                this.commandMessageHandler(u, s.source);
                break;
              }
              case a.MessageType.Notification: {
                if (!n.isNotificationMessage(u) || !this.notificationMessageHandler)
                  return;
                this.notificationMessageHandler(u, s.source);
                break;
              }
              case a.MessageType.Handshake: {
                if (!n.isHandshakeMessage(u) || !this.handshakeMessageHandler)
                  return;
                this.handshakeMessageHandler(u, s.source);
                break;
              }
            }
        }
      }, o.prototype.setOtherWindow = function(s) {
        this.otherWindow = s;
      }, o.prototype.setOtherWindowOrigin = function(s) {
        this.otherWindowOrigin = s;
      }, o;
    }()
  );
  return Zr.CrossFrameMessenger = i, Zr;
}
var Ua = {}, La = {};
Object.defineProperty(La, "__esModule", { value: !0 });
var Ev = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.upgradeExecuteCall = function(e, t) {
      return {
        verb: e,
        parameters: t
      };
    }, r.prototype.downgradeExecuteReturn = function(e) {
      return e;
    }, r.prototype.downgradeNotification = function(e) {
      return e;
    }, r;
  }()
);
La.IdentityVersionConverter = Ev;
var Wa = {};
Object.defineProperty(Wa, "__esModule", { value: !0 });
var Av = (
  /** @class */
  function() {
    function r(e, t, n, a, i) {
      if (this._externalMajorVersion = e, this._platformMajorVersion = t, this._upgradeExecuteTranslations = n, this._downgradeExecuteTranslations = a, this._downgradeNotificationTranslations = i, this._externalMajorVersion > this._platformMajorVersion)
        throw new Error("Cannot convert between external version " + this._externalMajorVersion + " and " + this._platformMajorVersion);
    }
    return r.fromData = function(e, t, n, a, i) {
      return new this(e.major, t.major, n, a, i);
    }, r.prototype.upgradeExecuteCall = function(e, t) {
      for (var n = { verb: e, parameters: t }, a = 0, i = this._upgradeExecuteTranslations; a < i.length; a++) {
        var o = i[a];
        n = o(n.verb, n.parameters);
      }
      return n;
    }, r.prototype.downgradeExecuteReturn = function(e) {
      for (var t = e, n = 0, a = this._downgradeExecuteTranslations; n < a.length; n++) {
        var i = a[n];
        t = i(t);
      }
      return t;
    }, r.prototype.downgradeNotification = function(e) {
      for (var t = e, n = 0, a = this._downgradeNotificationTranslations; n < a.length; n++) {
        var i = a[n];
        t = i(t);
      }
      return t;
    }, r;
  }()
);
Wa.StackingVersionConverter = Av;
var Yt = {};
Object.defineProperty(Yt, "__esModule", { value: !0 });
var ql = Wn;
function wv(r) {
  var e = r.result;
  return e.extensionDashboardInfo !== void 0 && e.extensionDashboardInfo.zones.forEach(function(t) {
    t.sheetInfo && (t.name = t.sheetInfo.name);
  }), r;
}
Yt.DowngradeWorksheetNames = wv;
function Tv(r) {
  if (r.notificationId === ql.NotificationId.SelectedMarksChanged) {
    var e = r.data;
    e.flipboardZoneID === void 0 && (e.flipboardZoneID = 0);
  }
  return r;
}
Yt.DowngradeFlipboardZoneID = Tv;
function Pv(r, e) {
  var t, n, a = r.result;
  return !((n = (t = a) === null || t === void 0 ? void 0 : t.extensionWorksheetInfo) === null || n === void 0) && n.formatting && (a.extensionWorksheetInfo.formatting.formattingSheets = a.extensionWorksheetInfo.formatting.formattingSheets.filter(function(i) {
    return !e.includes(i.classNameKey);
  })), r;
}
function Cv(r, e) {
  if (r.notificationId === ql.NotificationId.WorksheetFormattingChanged) {
    var t = r.data;
    r.data = t.formattingSheets.filter(function(n) {
      return !e.includes(n.classNameKey);
    });
  }
  return r;
}
var ec = [
  "tableau-row-dividers",
  "tableau-column-dividers",
  "tableau-pane"
  /* Pane */
];
Yt.DowngradeWorksheetFomatting175 = function(r) {
  return Pv(r, ec);
};
Yt.DowngradeWorksheetFomattingNotification175 = function(r) {
  return Cv(r, ec);
};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = La, t = Wa, n = Yt;
  function a(c, d) {
    return c.major > d.major ? !1 : c.major < d.major ? !0 : c.minor < d.minor;
  }
  r.VersionLessThan = a;
  function i(c, d) {
    return c.major === d.major && c.minor === d.minor;
  }
  r.VersionEqualTo = i, r.ExecuteMinorUpgrades = {
    1: {
      9: []
    }
  }, r.ExecuteMinorDowngrades = {
    1: {
      5: [n.DowngradeWorksheetNames],
      9: [],
      175: [n.DowngradeWorksheetFomatting175]
    }
  }, r.NotificationMinorDowngrades = {
    1: {
      9: [],
      10: [n.DowngradeFlipboardZoneID],
      175: [n.DowngradeWorksheetFomattingNotification175]
    }
  };
  function o(c, d) {
    return s(c, d, r.ExecuteMinorUpgrades, r.ExecuteMinorDowngrades, r.NotificationMinorDowngrades);
  }
  r.CreateVersionConverter = o;
  function s(c, d, y, f, v) {
    var h = c.major, p = c.minor, b = d.major;
    if (h > b)
      throw new Error(`External version must be less than or equal to platform version.
    externalMajorVersion=` + h + " platformMajorVersion=" + b);
    if (i(c, d))
      return new e.IdentityVersionConverter();
    var g = u(h, b, p, y), _ = u(h, b, p, f), S = u(h, b, p, v);
    return _.reverse(), S.reverse(), t.StackingVersionConverter.fromData(c, d, g, _, S);
  }
  r.CreateVersionConverterWithTranslators = s;
  function u(c, d, y, f) {
    for (var v = [], h = c; h <= d; h++)
      if (h in f)
        for (var p = h === c ? y : 0, b = l(Object.keys(f[h])), g = p; g <= b; g++)
          g in f[h] && v.push.apply(v, f[h][g]);
    return v;
  }
  function l(c) {
    return c.map(function(d) {
      return Number(d);
    }).reduce(function(d, y) {
      return d > y ? d : y;
    });
  }
  r.GetMaximumMinorIndex = l;
})(Ua);
var Bn = {};
Object.defineProperty(Bn, "__esModule", { value: !0 });
var Dv = (
  /** @class */
  function() {
    function r() {
    }
    return r.prototype.downgradeExecuteCall = function(e, t) {
      return {
        verb: e,
        parameters: t
      };
    }, r.prototype.upgradeExecuteReturn = function(e, t, n) {
      return e;
    }, r.prototype.upgradeNotification = function(e) {
      return e;
    }, r;
  }()
);
Bn.ExternalIdentityVersionConverter = Dv;
var Hi = {}, Ha = {};
Object.defineProperty(Ha, "__esModule", { value: !0 });
var kv = (
  /** @class */
  function() {
    function r(e, t, n, a, i) {
      if (this._externalVersion = e, this._platformVersion = t, this._downgradeExecuteCallTranslations = n, this._upgradeExecuteReturnTranslations = a, this._upgradeNotificationTranslations = i, this._externalVersion.major > this._platformVersion.major)
        throw new Error("Cannot convert between external version " + this._externalVersion.major + `
      and ` + this._platformVersion.major);
    }
    return r.prototype.downgradeExecuteCall = function(e, t) {
      for (var n = { verb: e, parameters: t }, a = 0, i = this._downgradeExecuteCallTranslations; a < i.length; a++) {
        var o = i[a];
        n = o(n.verb, n.parameters);
      }
      return n;
    }, r.prototype.upgradeExecuteReturn = function(e, t, n) {
      for (var a = e, i = 0, o = this._upgradeExecuteReturnTranslations; i < o.length; i++) {
        var s = o[i];
        a = s(a, t, n);
      }
      return a;
    }, r.prototype.upgradeNotification = function(e) {
      for (var t = e, n = 0, a = this._upgradeNotificationTranslations; n < a.length; n++) {
        var i = a[n];
        t = i(t);
      }
      return t;
    }, r;
  }()
);
Ha.ExternalStackingVersionConverter = kv;
var or = {}, Bs;
function Ov() {
  if (Bs) return or;
  Bs = 1, Object.defineProperty(or, "__esModule", { value: !0 });
  var r = V();
  function e(u, l, c) {
    if (!u)
      return u;
    var d = u.result;
    if (d.data !== void 0 && d.isSummary !== void 0)
      return t(d.data), u;
    var y = u.result;
    return y.data !== void 0 && Array.isArray(y.data) && y.data.forEach(function(f) {
      t(f);
    }), u;
  }
  or.UpgradeDataTableTypes = e;
  function t(u) {
    u === void 0 || u.dataTable === void 0 || !Array.isArray(u.dataTable) || u.dataTable.forEach(function(l) {
      l.forEach(function(c, d) {
        var y = c.value;
        y !== null && (c.value = r.DataTypeConverter.convertValueAsStringToValue(y, u.headers[d].dataType));
      });
    });
  }
  function n(u, l, c) {
    return a(l) && c[r.ParameterId.MaxRows] && (u = o(u, c[r.ParameterId.MaxRows])), i(l) && c[r.ParameterId.ColumnsToIncludeById] && (u = s(u, c[r.ParameterId.ColumnsToIncludeById])), u;
  }
  or.UpgradeDataTableRowsAndColumns = n;
  function a(u) {
    return u === r.VerbId.GetDataSummaryData;
  }
  function i(u) {
    return u === r.VerbId.GetDataSummaryData || u === r.VerbId.GetUnderlyingTableData || u === r.VerbId.GetLogicalTableData || u === r.VerbId.GetDataSourceData || u === r.VerbId.GetUnderlyingData;
  }
  function o(u, l) {
    var c = u.result;
    return !c.data || !Array.isArray(c.data.dataTable) || l > 0 && l < c.data.dataTable.length && (c.data.dataTable.length = l), u;
  }
  function s(u, l) {
    if (l.length === 0)
      return u;
    var c = u.result;
    if (!c.data || !Array.isArray(c.data.dataTable) || !Array.isArray(c.data.headers))
      return u;
    var d = c.data.headers.filter(function(f, v) {
      return l.find(function(h) {
        return h === f.fieldName;
      });
    });
    c.data.dataTable.forEach(function(f, v) {
      c.data.dataTable[v] = f.filter(function(h, p) {
        return d.findIndex(function(b) {
          return b.index === p;
        }) !== -1;
      });
    });
    var y = 0;
    return c.data.headers = d.map(function(f) {
      return f.index = y++, f;
    }), u;
  }
  return or;
}
var Gs;
function Mv() {
  return Gs || (Gs = 1, function(r) {
    Object.defineProperty(r, "__esModule", { value: !0 });
    var e = Ua, t = Bn, n = Ha, a = Ov();
    r.ExecuteMinorDowngradeCallExternal = {
      1: {
        9: []
      }
    }, r.ExecuteMinorUpgradeReturnExternal = {
      1: {
        9: [a.UpgradeDataTableTypes],
        29: [a.UpgradeDataTableRowsAndColumns]
      }
    }, r.ExecuteMinorUpgradeNotification = {
      1: {
        9: []
      }
    };
    function i(u, l) {
      return o(u, l, r.ExecuteMinorDowngradeCallExternal, r.ExecuteMinorUpgradeReturnExternal, r.ExecuteMinorUpgradeNotification);
    }
    r.CreateExternalCompatibleVersionConverter = i;
    function o(u, l, c, d, y) {
      var f = u.major, v = l.major, h = l.minor;
      if (f > v)
        throw new Error(`External version must be less than or equal to platform version.
    externalMajorVersion=` + f + " platformMajorVersion=" + v);
      if (f < v || e.VersionEqualTo(u, l))
        return new t.ExternalIdentityVersionConverter();
      var p = s(v, h, c), b = s(v, h, d), g = s(v, h, y);
      return p.reverse(), new n.ExternalStackingVersionConverter(u, l, p, b, g);
    }
    r.CreateExternalCompatibleVersionConverterWithTranslators = o;
    function s(u, l, c) {
      var d = [];
      if (u in c)
        for (var y = l, f = e.GetMaximumMinorIndex(Object.keys(c[u])), v = y; v <= f; v++)
          v in c[u] && d.push.apply(d, c[u][v]);
      return d;
    }
  }(Hi)), Hi;
}
var Ks;
function V() {
  return Ks || (Ks = 1, function(r) {
    function e(n) {
      for (var a in n) r.hasOwnProperty(a) || (r[a] = n[a]);
    }
    Object.defineProperty(r, "__esModule", { value: !0 });
    var t = pv;
    r.INTERNAL_CONTRACT_VERSION = t, e(ja), e(Na), e(Wn), e(Bl), e(Gl), e(Kl), e(Yl), e(Ql), e(Iv()), e(Hn), e(Ua), e(Bn), e(Mv()), r.MESSAGING_VERSION = {
      major: 1,
      minor: 0,
      fix: 0
    };
  }(Pi)), Pi;
}
var Gn = {};
Object.defineProperty(Gn, "__esModule", { value: !0 });
var Fv = O, Rv = (
  /** @class */
  function() {
    function r(e) {
      if (this._messenger = e, this._pendingPromises = {}, this._notificationHandlers = [], !this._messenger)
        throw "Missing messenger object";
      this._messenger.setCommandResponseMessageHandler(this.onCommandResponse.bind(this)), this._messenger.setNotificationMessageHandler(this.onNotification.bind(this));
    }
    return r.prototype.execute = function(e, t) {
      var n = this, a = this._messenger.prepareCommandMessage(e, t), i = new Promise(function(o, s) {
        n._pendingPromises[a.messageGuid] = { resolve: o, reject: s };
      });
      return a.send(), i;
    }, r.prototype.registerNotificationHandler = function(e) {
      this._notificationHandlers.push(e);
    }, r.prototype.unregisterNotificationHandler = function(e) {
      this._notificationHandlers = this._notificationHandlers.filter(function(t) {
        return t !== e;
      });
    }, r.prototype.onCommandResponse = function(e) {
      if (!(Object.keys(this._pendingPromises).indexOf(e.commandGuid) < 0)) {
        var t = this._pendingPromises[e.commandGuid];
        e.error && t.reject(e.error), e.data && t.resolve({ result: e.data }), delete this._pendingPromises[e.commandGuid];
      }
    }, r.prototype.onNotification = function(e) {
      for (var t = 0, n = this._notificationHandlers; t < n.length; t++) {
        var a = n[t];
        try {
          a({ notificationId: e.notificationId, data: e.data });
        } catch (i) {
          if (i.errorCode === Fv.EmbeddingErrorCodes.IncompatibleVersionError)
            throw i;
        }
      }
    }, r;
  }()
);
Gn.CrossFrameDispatcher = Rv;
Object.defineProperty(Ca, "__esModule", { value: !0 });
var Ys = V(), xv = Gn;
function Vv(r) {
  try {
    return r.self !== r.parent;
  } catch {
    return !0;
  }
}
function zv(r, e, t) {
  return new Promise(function(n, a) {
    var i;
    Vv(r) ? i = r.parent : i = r.opener, i || a("This extension is not running inside an iframe, desktop, or popup window. Initialization failed.");
    var o = new Ys.CrossFrameMessenger(r, i, "*"), s = o.prepareInitializationMessage(e, Ys.MESSAGING_VERSION, t);
    o.setCommandResponseMessageHandler(function(u) {
      if (u.commandGuid === s.messageGuid) {
        var l = function() {
          return new xv.CrossFrameDispatcher(o);
        };
        n(l);
      }
    }), o.startListening(), s.send();
  });
}
Ca.doCrossFrameBootstrap = zv;
var Ar = {};
Object.defineProperty(Ar, "__esModule", { value: !0 });
var jv = (
  /** @class */
  function() {
    function r(e) {
      this._dataSourceImpl = e;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._dataSourceImpl.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._dataSourceImpl.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fields", {
      get: function() {
        return this._dataSourceImpl.fields;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "extractUpdateTime", {
      get: function() {
        return this._dataSourceImpl.extractUpdateTime;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isExtract", {
      get: function() {
        return this._dataSourceImpl.isExtract;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isPublished", {
      get: function() {
        return this._dataSourceImpl.isPublished;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.publishedUrl = function() {
      return this._dataSourceImpl.publishedUrl();
    }, r.prototype.refreshAsync = function() {
      return this._dataSourceImpl.refreshAsync();
    }, r.prototype.getActiveTablesAsync = function() {
      return console.warn("DataSource.getActiveTablesAsync is deprecated. Please use DataSource.getLogicalTablesAsync."), this._dataSourceImpl.getActiveTablesAsync();
    }, r.prototype.getConnectionSummariesAsync = function() {
      return this._dataSourceImpl.getConnectionSummariesAsync();
    }, r.prototype.getUnderlyingDataAsync = function(e) {
      return console.warn("DataSource.getUnderlyingDataAsync is deprecated. Please use DataSource.getLogicalTablesAsync and DataSource.getLogicalTableDataAsync."), this._dataSourceImpl.getUnderlyingDataAsync(e);
    }, r.prototype.getLogicalTablesAsync = function() {
      return this._dataSourceImpl.getLogicalTablesAsync();
    }, r.prototype.getLogicalTableDataAsync = function(e, t) {
      return this._dataSourceImpl.getLogicalTableDataAsync(e, t);
    }, r.prototype.getLogicalTableDataReaderAsync = function(e, t, n) {
      return this._dataSourceImpl.getLogicalTableDataReaderAsync(e, t, n);
    }, r;
  }()
);
Ar.DataSource = jv;
var gt = {}, Kn = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  var e = O, t = ae, n = (
    /** @class */
    function() {
      function i(o, s) {
        this._mappings = o, this._defaultVal = s;
      }
      return i.prototype.convert = function(o, s) {
        if (s === void 0 && (s = a.Yes), this._mappings.hasOwnProperty(o))
          return this._mappings[o];
        if (this._defaultVal !== void 0 && s !== a.Yes)
          return this._defaultVal;
        throw new t.TableauError(e.ErrorCodes.InternalError, "Enum Mapping not found for: " + o);
      }, i;
    }()
  );
  r.EnumConverter = n;
  var a;
  (function(i) {
    i.Yes = "yes", i.No = "no";
  })(a = r.ShouldThrow || (r.ShouldThrow = {}));
})(Kn);
var Jr, sr, Ft, Xr, ur, lr, cr, Ye, lt, dr;
Object.defineProperty(gt, "__esModule", { value: !0 });
var z = O, B = V(), Qe = Kn, Nv = (
  /** @class */
  function() {
    function r() {
    }
    return r.filterDomainType = new Qe.EnumConverter((Jr = {}, Jr[z.FilterDomainType.Relevant] = B.FilterDomainType.Relevant, Jr[z.FilterDomainType.Database] = B.FilterDomainType.Database, Jr)), r.nullOptions = new Qe.EnumConverter((sr = {}, sr[z.FilterNullOption.AllValues] = B.FilterNullOption.AllValues, sr[z.FilterNullOption.NonNullValues] = B.FilterNullOption.NonNullValues, sr[z.FilterNullOption.NullValues] = B.FilterNullOption.NullValues, sr)), r.filterUpdateType = new Qe.EnumConverter((Ft = {}, Ft[z.FilterUpdateType.Add] = B.FilterUpdateType.Add, Ft[z.FilterUpdateType.All] = B.FilterUpdateType.All, Ft[z.FilterUpdateType.Remove] = B.FilterUpdateType.Remove, Ft[z.FilterUpdateType.Replace] = B.FilterUpdateType.Replace, Ft)), r.setVisibilityType = new Qe.EnumConverter((Xr = {}, Xr[z.ZoneVisibilityType.Show] = !0, Xr[z.ZoneVisibilityType.Hide] = !1, Xr)), r.setReplaySpeedType = new Qe.EnumConverter((ur = {}, // these numbers are duration multipliers
    // 2.0, for example, doubles the duration of the replay, slowing it down to 0.5x speed
    ur[z.ReplaySpeedType.Slow] = 2, ur[z.ReplaySpeedType.Normal] = 1, ur[z.ReplaySpeedType.Fast] = 0.5, ur)), r.sheetType = new Qe.EnumConverter((lr = {}, lr[z.SheetType.Dashboard] = B.SheetType.Dashboard, lr[z.SheetType.Worksheet] = B.SheetType.Worksheet, lr[z.SheetType.Story] = B.SheetType.Story, lr)), r.showDataTableFormatType = new Qe.EnumConverter((cr = {}, cr[z.IncludeDataValuesOption.AllValues] = B.ApiShowDataTableFormat.NativeAndFormattedValues, cr[z.IncludeDataValuesOption.OnlyNativeValues] = B.ApiShowDataTableFormat.NativeValuesOnly, cr[z.IncludeDataValuesOption.OnlyFormattedValues] = B.ApiShowDataTableFormat.FormattedValuesOnly, cr)), r.periodType = new Qe.EnumConverter((Ye = {}, Ye[z.PeriodType.Years] = B.DateStepPeriod.Years, Ye[z.PeriodType.Quarters] = B.DateStepPeriod.Quarters, Ye[z.PeriodType.Months] = B.DateStepPeriod.Months, Ye[z.PeriodType.Weeks] = B.DateStepPeriod.Weeks, Ye[z.PeriodType.Days] = B.DateStepPeriod.Days, Ye[z.PeriodType.Hours] = B.DateStepPeriod.Hours, Ye[z.PeriodType.Minutes] = B.DateStepPeriod.Minutes, Ye[z.PeriodType.Seconds] = B.DateStepPeriod.Seconds, Ye)), r.dateRangeType = new Qe.EnumConverter((lt = {}, lt[z.DateRangeType.Last] = B.DateRangeType.Last, lt[z.DateRangeType.LastN] = B.DateRangeType.LastN, lt[z.DateRangeType.Next] = B.DateRangeType.Next, lt[z.DateRangeType.NextN] = B.DateRangeType.NextN, lt[z.DateRangeType.Current] = B.DateRangeType.Current, lt[z.DateRangeType.ToDate] = B.DateRangeType.ToDate, lt)), r.dialogStyles = new Qe.EnumConverter((dr = {}, dr[z.DialogStyle.Window] = B.DialogStyle.Window, dr[z.DialogStyle.Modal] = B.DialogStyle.Modal, dr[z.DialogStyle.Modeless] = B.DialogStyle.Modeless, dr)), r;
  }()
);
gt.ExternalToInternalEnumMappings = Nv;
var ut = {}, qr, en, hr, x, pr, fr, ke, nt, Rt, vr, Ze, ct, Le, xt, fe, Vt, mr, Te;
Object.defineProperty(ut, "__esModule", { value: !0 });
var I = O, E = V(), ve = Kn, $v = (
  /** @class */
  function() {
    function r() {
    }
    return r.extensionContext = new ve.EnumConverter((qr = {}, qr[E.ExtensionContext.Desktop] = I.ExtensionContext.Desktop, qr[E.ExtensionContext.Server] = I.ExtensionContext.Server, qr)), r.extensionMode = new ve.EnumConverter((en = {}, en[E.ExtensionMode.Authoring] = I.ExtensionMode.Authoring, en[E.ExtensionMode.Viewing] = I.ExtensionMode.Viewing, en)), r.columnType = new ve.EnumConverter((hr = {}, hr[E.ColumnType.Continuous] = I.ColumnType.Continuous, hr[E.ColumnType.Discrete] = I.ColumnType.Discrete, hr[E.ColumnType.Unknown] = I.ColumnType.Unknown, hr)), r.fieldAggregationType = new ve.EnumConverter((x = {}, x[E.FieldAggregationType.Attr] = I.FieldAggregationType.Attr, x[E.FieldAggregationType.Avg] = I.FieldAggregationType.Avg, x[E.FieldAggregationType.Collect] = I.FieldAggregationType.Collect, x[E.FieldAggregationType.Count] = I.FieldAggregationType.Count, x[E.FieldAggregationType.Countd] = I.FieldAggregationType.Countd, x[E.FieldAggregationType.Day] = I.FieldAggregationType.Day, x[E.FieldAggregationType.End] = I.FieldAggregationType.End, x[E.FieldAggregationType.Hour] = I.FieldAggregationType.Hour, x[E.FieldAggregationType.InOut] = I.FieldAggregationType.InOut, x[E.FieldAggregationType.Kurtosis] = I.FieldAggregationType.Kurtosis, x[E.FieldAggregationType.Max] = I.FieldAggregationType.Max, x[E.FieldAggregationType.Mdy] = I.FieldAggregationType.Mdy, x[E.FieldAggregationType.Median] = I.FieldAggregationType.Median, x[E.FieldAggregationType.Min] = I.FieldAggregationType.Min, x[E.FieldAggregationType.Minute] = I.FieldAggregationType.Minute, x[E.FieldAggregationType.MonthYear] = I.FieldAggregationType.MonthYear, x[E.FieldAggregationType.None] = I.FieldAggregationType.None, x[E.FieldAggregationType.Qtr] = I.FieldAggregationType.Qtr, x[E.FieldAggregationType.Quart1] = I.FieldAggregationType.Quart1, x[E.FieldAggregationType.Quart3] = I.FieldAggregationType.Quart3, x[E.FieldAggregationType.Second] = I.FieldAggregationType.Second, x[E.FieldAggregationType.Skewness] = I.FieldAggregationType.Skewness, x[E.FieldAggregationType.Stdev] = I.FieldAggregationType.Stdev, x[E.FieldAggregationType.Stdevp] = I.FieldAggregationType.Stdevp, x[E.FieldAggregationType.Sum] = I.FieldAggregationType.Sum, x[E.FieldAggregationType.TruncDay] = I.FieldAggregationType.TruncDay, x[E.FieldAggregationType.TruncHour] = I.FieldAggregationType.TruncHour, x[E.FieldAggregationType.TruncMinute] = I.FieldAggregationType.TruncMinute, x[E.FieldAggregationType.TruncMonth] = I.FieldAggregationType.TruncMonth, x[E.FieldAggregationType.TruncQtr] = I.FieldAggregationType.TruncQtr, x[E.FieldAggregationType.TruncSecond] = I.FieldAggregationType.TruncSecond, x[E.FieldAggregationType.TruncWeek] = I.FieldAggregationType.TruncWeek, x[E.FieldAggregationType.TruncYear] = I.FieldAggregationType.TruncYear, x[E.FieldAggregationType.User] = I.FieldAggregationType.User, x[E.FieldAggregationType.Var] = I.FieldAggregationType.Var, x[E.FieldAggregationType.Varp] = I.FieldAggregationType.Varp, x[E.FieldAggregationType.Week] = I.FieldAggregationType.Week, x[E.FieldAggregationType.Weekday] = I.FieldAggregationType.Weekday, x[E.FieldAggregationType.Year] = I.FieldAggregationType.Year, x)), r.fieldRoleType = new ve.EnumConverter((pr = {}, pr[E.FieldRoleType.Dimension] = I.FieldRoleType.Dimension, pr[E.FieldRoleType.Measure] = I.FieldRoleType.Measure, pr[E.FieldRoleType.Unknown] = I.FieldRoleType.Unknown, pr)), r.sheetType = new ve.EnumConverter((fr = {}, fr[E.SheetType.Dashboard] = I.SheetType.Dashboard, fr[E.SheetType.Story] = I.SheetType.Story, fr[E.SheetType.Worksheet] = I.SheetType.Worksheet, fr)), r.dashboardObjectType = new ve.EnumConverter((ke = {}, ke[E.DashboardObjectType.Extension] = I.DashboardObjectType.Extension, ke[E.DashboardObjectType.Blank] = I.DashboardObjectType.Blank, ke[E.DashboardObjectType.Image] = I.DashboardObjectType.Image, ke[E.DashboardObjectType.Legend] = I.DashboardObjectType.Legend, ke[E.DashboardObjectType.PageFilter] = I.DashboardObjectType.PageFilter, ke[E.DashboardObjectType.ParameterControl] = I.DashboardObjectType.ParameterControl, ke[E.DashboardObjectType.QuickFilter] = I.DashboardObjectType.QuickFilter, ke[E.DashboardObjectType.Text] = I.DashboardObjectType.Text, ke[E.DashboardObjectType.Title] = I.DashboardObjectType.Title, ke[E.DashboardObjectType.WebPage] = I.DashboardObjectType.WebPage, ke[E.DashboardObjectType.Worksheet] = I.DashboardObjectType.Worksheet, ke)), r.dataType = new ve.EnumConverter((nt = {}, nt[E.DataType.Bool] = I.DataType.Bool, nt[E.DataType.Date] = I.DataType.Date, nt[E.DataType.DateTime] = I.DataType.DateTime, nt[E.DataType.Float] = I.DataType.Float, nt[E.DataType.Int] = I.DataType.Int, nt[E.DataType.Spatial] = I.DataType.Spatial, nt[E.DataType.String] = I.DataType.String, nt)), r.filterUpdateType = new ve.EnumConverter((Rt = {}, Rt[E.FilterUpdateType.Add] = I.FilterUpdateType.Add, Rt[E.FilterUpdateType.All] = I.FilterUpdateType.All, Rt[E.FilterUpdateType.Remove] = I.FilterUpdateType.Remove, Rt[E.FilterUpdateType.Replace] = I.FilterUpdateType.Replace, Rt)), r.allowableValues = new ve.EnumConverter((vr = {}, vr[E.DomainRestrictionType.All] = I.ParameterValueType.All, vr[E.DomainRestrictionType.List] = I.ParameterValueType.List, vr[E.DomainRestrictionType.Range] = I.ParameterValueType.Range, vr)), r.dateStepPeriod = new ve.EnumConverter((Ze = {}, Ze[E.DateStepPeriod.Years] = I.PeriodType.Years, Ze[E.DateStepPeriod.Quarters] = I.PeriodType.Quarters, Ze[E.DateStepPeriod.Months] = I.PeriodType.Months, Ze[E.DateStepPeriod.Weeks] = I.PeriodType.Weeks, Ze[E.DateStepPeriod.Days] = I.PeriodType.Days, Ze[E.DateStepPeriod.Hours] = I.PeriodType.Hours, Ze[E.DateStepPeriod.Minutes] = I.PeriodType.Minutes, Ze[E.DateStepPeriod.Seconds] = I.PeriodType.Seconds, Ze)), r.dateRangeType = new ve.EnumConverter((ct = {}, ct[E.DateRangeType.Current] = I.DateRangeType.Current, ct[E.DateRangeType.Last] = I.DateRangeType.Last, ct[E.DateRangeType.LastN] = I.DateRangeType.LastN, ct[E.DateRangeType.Next] = I.DateRangeType.Next, ct[E.DateRangeType.NextN] = I.DateRangeType.NextN, ct[E.DateRangeType.ToDate] = I.DateRangeType.ToDate, ct)), r.errorCode = new ve.EnumConverter((Le = {}, Le[E.ErrorCodes.INITIALIZATION_ERROR] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.INTERNAL_ERROR] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.MISSING_ENUM_MAPPING] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.MISSING_PARAMETER] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.PERMISSION_DENIED] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.PRES_MODEL_PARSING_ERROR] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.UNKNOWN_VERB_ID] = I.ErrorCodes.InternalError, Le[E.ErrorCodes.VERSION_NOT_CONFIGURED] = I.ErrorCodes.APINotInitialized, Le[E.ErrorCodes.VISIBILITY_ERROR] = I.ErrorCodes.VisibilityError, Le), I.ErrorCodes.InternalError), r.filterType = new ve.EnumConverter((xt = {}, xt[E.FilterType.Categorical] = I.FilterType.Categorical, xt[E.FilterType.Range] = I.FilterType.Range, xt[E.FilterType.RelativeDate] = I.FilterType.RelativeDate, xt[E.FilterType.Hierarchical] = I.FilterType.Hierarchical, xt)), r.classNameKey = new ve.EnumConverter((fe = {}, fe[
      "tableau-dashboard-title"
      /* DashboardTitle */
    ] = I.ClassNameKey.DashboardTitle, fe[
      "tableau-story-title"
      /* StoryTitle */
    ] = I.ClassNameKey.StoryTitle, fe[
      "tableau-tooltip"
      /* Tooltip */
    ] = I.ClassNameKey.Tooltip, fe[
      "tableau-worksheet"
      /* Worksheet */
    ] = I.ClassNameKey.Worksheet, fe[
      "tableau-worksheet-title"
      /* WorksheetTitle */
    ] = I.ClassNameKey.WorksheetTitle, fe[
      "tableau-pane"
      /* Pane */
    ] = I.ClassNameKey.Pane, fe[
      "tableau-row-dividers"
      /* RowDividers */
    ] = I.ClassNameKey.RowDividers, fe[
      "tableau-column-dividers"
      /* ColumnDividers */
    ] = I.ClassNameKey.ColumnDividers, // Temporary until we fix 1317266 - Platform hasn't been updated currently because near branch is closed
    fe["dashboard-title"] = I.ClassNameKey.DashboardTitle, fe["story-title"] = I.ClassNameKey.StoryTitle, fe.tooltip = I.ClassNameKey.Tooltip, fe.worksheet = I.ClassNameKey.Worksheet, fe["worksheet-title"] = I.ClassNameKey.WorksheetTitle, fe.pane = I.ClassNameKey.Pane, fe["row-dividers"] = I.ClassNameKey.RowDividers, fe["column-dividers"] = I.ClassNameKey.ColumnDividers, fe)), r.hierarchicalLevelSelectionState = new ve.EnumConverter((Vt = {}, Vt[E.HierarchicalLevelSelectionState.AllSelected] = I.HierarchicalLevelSelectionState.AllSelected, Vt[E.HierarchicalLevelSelectionState.NoneSelected] = I.HierarchicalLevelSelectionState.NoneSelected, Vt[E.HierarchicalLevelSelectionState.SomeSelected] = I.HierarchicalLevelSelectionState.SomeSelected, Vt[E.HierarchicalLevelSelectionState.UnknownSelected] = I.HierarchicalLevelSelectionState.UnknownSelected, Vt)), r.annotationType = new ve.EnumConverter((mr = {}, mr[E.AnnotateEnum.Area] = I.AnnotationType.Area, mr[E.AnnotateEnum.Mark] = I.AnnotationType.Mark, mr[E.AnnotateEnum.Point] = I.AnnotationType.Point, mr)), r.markType = new ve.EnumConverter((Te = {}, Te[E.MarkType.Area] = I.MarkType.Area, Te[E.MarkType.Bar] = I.MarkType.Bar, Te[E.MarkType.Circle] = I.MarkType.Circle, Te[E.MarkType.GanttBar] = I.MarkType.GanttBar, Te[E.MarkType.Heatmap] = I.MarkType.Heatmap, Te[E.MarkType.Line] = I.MarkType.Line, Te[E.MarkType.Map] = I.MarkType.Map, Te[E.MarkType.Pie] = I.MarkType.Pie, Te[E.MarkType.Polygon] = I.MarkType.Polygon, Te[E.MarkType.Shape] = I.MarkType.Shape, Te[E.MarkType.Square] = I.MarkType.Square, Te[E.MarkType.Text] = I.MarkType.Text, Te[E.MarkType.VizExtension] = I.MarkType.VizExtension, Te)), r;
  }()
);
ut.InternalToExternalEnumMappings = $v;
var Ba = {};
Object.defineProperty(Ba, "__esModule", { value: !0 });
var Qs = O, Zs = ae, Uv = (
  /** @class */
  function() {
    function r() {
      this._eventListenerManagers = {};
    }
    return r.prototype.addEventListener = function(e, t) {
      if (!this._eventListenerManagers.hasOwnProperty(e))
        throw new Zs.TableauError(Qs.ErrorCodes.UnsupportedEventName, "Cannot add event, unsupported event type: " + e);
      return this._eventListenerManagers[e].addEventListener(t);
    }, r.prototype.removeEventListener = function(e, t) {
      if (!this._eventListenerManagers.hasOwnProperty(e))
        throw new Zs.TableauError(Qs.ErrorCodes.UnsupportedEventName, "Cannot remove event, unsupported event type: " + e);
      return this._eventListenerManagers[e].removeEventListener(t);
    }, r.prototype.addNewEventType = function(e) {
      this._eventListenerManagers[e.eventType] = e;
    }, r;
  }()
);
Ba.EventListenerManager = Uv;
var wr = {};
Object.defineProperty(wr, "__esModule", { value: !0 });
var Lv = (
  /** @class */
  function() {
    function r(e) {
      this._fieldImpl = e;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._fieldImpl.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._fieldImpl.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "description", {
      get: function() {
        return this._fieldImpl.description;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataType", {
      get: function() {
        return this._fieldImpl.dataType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "aggregation", {
      get: function() {
        return this._fieldImpl.aggregation;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataSource", {
      get: function() {
        return this._fieldImpl.dataSource;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "role", {
      get: function() {
        return this._fieldImpl.role;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "columnType", {
      get: function() {
        return this._fieldImpl.columnType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isCalculatedField", {
      get: function() {
        return this._fieldImpl.isCalculatedField;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isCombinedField", {
      get: function() {
        return this._fieldImpl.isCombinedField;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isGenerated", {
      get: function() {
        return this._fieldImpl.isGenerated;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isGeospatial", {
      get: function() {
        return this._fieldImpl.isGeospatial;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isHidden", {
      get: function() {
        return this._fieldImpl.isHidden;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isPresentOnPublishedDatasource", {
      get: function() {
        return this._fieldImpl.isPresentOnPublishedDatasource;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
wr.Field = Lv;
var tn = {}, Js;
function tc() {
  if (Js) return tn;
  Js = 1, Object.defineProperty(tn, "__esModule", { value: !0 });
  var r = G(), e = (
    /** @class */
    function() {
      function t(n, a) {
        this._registryId = a, this._luid = n.luid, this._name = n.name, this._shared = n.shared, this._isDefault = n.isDefault, this._ownerName = n.owner.userFriendlyName, this._url = n.url;
      }
      return Object.defineProperty(t.prototype, "luid", {
        get: function() {
          return this._luid;
        },
        enumerable: !0,
        configurable: !0
      }), Object.defineProperty(t.prototype, "name", {
        get: function() {
          return this._name;
        },
        set: function(n) {
          this._name = n;
        },
        enumerable: !0,
        configurable: !0
      }), Object.defineProperty(t.prototype, "shared", {
        get: function() {
          return this._shared;
        },
        set: function(n) {
          this._shared = n;
        },
        enumerable: !0,
        configurable: !0
      }), Object.defineProperty(t.prototype, "isDefault", {
        get: function() {
          return this._isDefault;
        },
        set: function(n) {
          this._isDefault = n;
        },
        enumerable: !0,
        configurable: !0
      }), Object.defineProperty(t.prototype, "ownerName", {
        get: function() {
          return this._ownerName;
        },
        enumerable: !0,
        configurable: !0
      }), Object.defineProperty(t.prototype, "url", {
        get: function() {
          return this._url;
        },
        enumerable: !0,
        configurable: !0
      }), t.prototype.saveAsync = function() {
        var n = r.ApiServiceRegistry.get(this._registryId).getService(
          "viz-service"
          /* Viz */
        );
        return n.saveAsync(this);
      }, t;
    }()
  );
  return tn.CustomViewImpl = e, tn;
}
var Yn = {}, Qn = {};
Object.defineProperty(Qn, "__esModule", { value: !0 });
var Wv = (
  /** @class */
  function() {
    function r(e, t) {
      this._x = e, this._y = t;
    }
    return Object.defineProperty(r.prototype, "x", {
      get: function() {
        return this._x;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "y", {
      get: function() {
        return this._y;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Qn.Point = Wv;
var je = {};
Object.defineProperty(je, "__esModule", { value: !0 });
var rc = O, nc = ae;
typeof window < "u" && (window.__tableauApiServiceRegistry = window.__tableauApiServiceRegistry || {});
var Hv = (
  /** @class */
  function() {
    function r() {
      this._services = {};
    }
    return r.prototype.registerService = function(e) {
      this._services[e.serviceName] = e;
    }, r.prototype.getService = function(e) {
      if (!this._services.hasOwnProperty(e))
        throw new nc.TableauError(rc.ErrorCodes.InternalError, "Service not registered: " + e);
      return this._services[e];
    }, r;
  }()
), Bv = (
  /** @class */
  function() {
    function r() {
    }
    return r.get = function(e) {
      if ((!window.__tableauApiServiceRegistry || !window.__tableauApiServiceRegistry[e]) && r.setInstance(e, new Hv()), !window.__tableauApiServiceRegistry[e])
        throw new nc.TableauError(rc.ErrorCodes.InternalError, "Service registry failed");
      return window.__tableauApiServiceRegistry[e];
    }, r.setInstance = function(e, t) {
      window.__tableauApiServiceRegistry || (window.__tableauApiServiceRegistry = {}), window.__tableauApiServiceRegistry[e] = t;
    }, r.clearRegistry = function() {
      window.__tableauApiServiceRegistry = {};
    }, r;
  }()
);
je.ApiServiceRegistry = Bv;
var rn = {}, nn = {}, Xs;
function Qt() {
  if (Xs) return nn;
  Xs = 1, Object.defineProperty(nn, "__esModule", { value: !0 });
  var r = O, e = ae, t = Fe(), n = (
    /** @class */
    function() {
      function a() {
      }
      return a.serializeDateForPlatform = function(i) {
        var o = i.getUTCFullYear(), s = i.getUTCMonth() + 1, u = i.getUTCDate(), l = i.getUTCHours(), c = i.getUTCMinutes(), d = i.getUTCSeconds();
        return o + "-" + s + "-" + u + " " + l + ":" + c + ":" + d;
      }, a.serializeBooleanForPlatform = function(i) {
        return i ? "true" : "false";
      }, a.serializeNumberForPlatform = function(i) {
        return i.toString(10);
      }, a.isTypeNumber = function(i) {
        return typeof i == "number" || i instanceof Number;
      }, a.isTypeDate = function(i) {
        return i instanceof Date;
      }, a.isTypeString = function(i) {
        return typeof i == "string" || i instanceof String;
      }, a.isTypeBool = function(i) {
        return typeof i == "boolean" || i instanceof Boolean;
      }, a.isNullOrUndefined = function(i) {
        return i == null;
      }, a.serializeParameterValue = function(i) {
        if (a.isTypeNumber(i))
          return a.serializeNumberForPlatform(i);
        if (a.isTypeDate(i))
          return a.serializeDateForPlatform(i);
        if (a.isTypeBool(i))
          return a.serializeBooleanForPlatform(i);
        if (a.isTypeString(i))
          return i;
        throw new e.TableauError(r.ErrorCodes.InternalError, "Unexpected invalid value for: " + i);
      }, a.convertParameterToMap = function(i, o) {
        if (t.ErrorHelpers.verifyParameterType(i, "object", o), Array.isArray(i))
          throw new e.TableauError(r.ErrorCodes.InvalidParameter, "Expecting object or Map for: " + o + ".");
        return i instanceof Map ? i : new Map(Object.entries(i));
      }, a.tryParseNumber = function(i) {
        if (a.isNullOrUndefined(i))
          return { success: !1 };
        if (a.isTypeNumber(i))
          return { parsed: i, success: !0 };
        var o = i.toString();
        if (o === "NaN")
          return { parsed: NaN, success: !0 };
        var s = parseFloat(o);
        return isNaN(s) ? { success: !1 } : { parsed: s, success: !0 };
      }, a;
    }()
  );
  return nn.Param = n, nn;
}
var qs;
function Fe() {
  if (qs) return rn;
  qs = 1, Object.defineProperty(rn, "__esModule", { value: !0 });
  var r = O, e = ae, t = Qt(), n = (
    /** @class */
    function() {
      function a() {
      }
      return a.apiNotImplemented = function(i) {
        return new e.TableauError(r.SharedErrorCodes.InternalError, i + " API not yet implemented.");
      }, a.verifyInternalValue = function(i, o) {
        if (i == null)
          throw new e.TableauError(r.SharedErrorCodes.InternalError, i + " is invalid value for: " + o);
      }, a.verifyParameter = function(i, o) {
        if (i == null)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, i + " is invalid value for parameter: " + o);
      }, a.verifyParameterType = function(i, o, s) {
        if (typeof i !== o)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, i + " has invalid type for parameter: " + s + ".");
      }, a.verifyStringParameter = function(i, o) {
        if (i == null || i === "")
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, i + " is invalid value for paramter: " + o);
      }, a.isValidEnumValue = function(i, o) {
        var s = !1;
        return Object.keys(o).forEach(function(u) {
          o[u] === i.toString() && (s = !0);
        }), s;
      }, a.verifyEnumValue = function(i, o, s) {
        if (!a.isValidEnumValue(i, o))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, i + " is invalid value for enum: " + s + ".");
      }, a.verifyRange = function(i, o, s) {
        var u = o <= i && i < s;
        if (!u)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, i + " is invalid value for range: [" + o + ".." + s + ")");
      }, a.verifyRangeParamType = function(i, o) {
        var s = i !== void 0, u = o !== void 0;
        if (!s && !u)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, at least one of min or max is required.");
        if (s && !t.Param.isTypeNumber(i) && !t.Param.isTypeDate(i))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, only Date and number are allowed for parameter min.");
        if (u && !t.Param.isTypeNumber(o) && !t.Param.isTypeDate(o))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, only Date and number are allowed for parameter max.");
        if (s && u && typeof i != typeof o)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, parameters min and max should be of the same type.");
      }, a.verifyZoneIsValid = function(i, o) {
        if (!i.has(o))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, Dashboard Object Id: " + o + " is not present in dashboard.");
      }, a.verifyZoneIsValidAndFloating = function(i, o) {
        if (!(i.has(o) && i.get(o).isFloating))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value, Dashboard Object Id: " + o + " is not present or is a fixed zone in the dashboard.");
      }, a.verifyWidthAndHeightOfDashboardObjectPositionAndSizeUpdate = function(i) {
        if (i.width < 0 || i.height < 0)
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "Unexpected invalid param value for dashboard object ID " + i.dashboardObjectID + ": negative widths and heights are not allowed.");
      }, a.verifySheetName = function(i, o) {
        if (!i.includes(o))
          throw new e.TableauError(r.SharedErrorCodes.InvalidSelectionSheet, "sheetName parameter must belong to a worksheet within the current view");
      }, a.verifyExportDataOptions = function(i) {
        if (!t.Param.isNullOrUndefined(i.ignoreAliases) && !t.Param.isTypeBool(i.ignoreAliases) || !t.Param.isNullOrUndefined(i.columnsToIncludeById) && !Array.isArray(i.columnsToIncludeById))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "options paramater must be of type ExportDataOptions");
      }, a.verifySheetNamesForPDFAndPPT = function(i, o) {
        if (!Array.isArray(i))
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "sheetNames parameter must be an array");
        if (i.length === 0)
          throw new e.TableauError(r.SharedErrorCodes.InternalError, "sheetNames should not be empty");
        var s = i.every(function(c) {
          return o.exportableSheetNamesFromDashboard.includes(c);
        });
        if (!s) {
          var u = i.every(function(c) {
            return o.exportableSheetNamesFromWorkbook.includes(c);
          });
          if (!u) {
            var l = i.length === 1 && i[0] === o.currentSheetName;
            if (!l)
              throw new e.TableauError(r.SharedErrorCodes.InvalidSelectionSheet, "sheetNames parameter must have all its entries be exportable sheet names from the dashboard or all its entries be exportable sheet names from the workbook");
          }
        }
      }, a.verifyExportPDFOptions = function(i) {
        try {
          this.verifyEnumValue(i.orientation, r.PrintOrientation, "PrintOrientation"), this.verifyEnumValue(i.pageSize, r.PrintPageSize, "PrintPageSize"), this.verifyEnumValue(i.scaling, r.PrintScaling, "PrintScaling");
        } catch {
          throw new e.TableauError(r.SharedErrorCodes.InvalidParameter, "options parameter must be of type ExportPDFOptions");
        }
      }, a;
    }()
  );
  return rn.ErrorHelpers = n, rn;
}
var Zn = {};
Object.defineProperty(Zn, "__esModule", { value: !0 });
var Gv = (
  /** @class */
  function() {
    function r(e, t, n, a, i, o, s, u, l, c) {
      this._dashboardImpl = e, this._type = t, this._position = n, this._size = a, this._worksheetImpl = i, this._name = o, this._isFloating = s, this._isVisible = u, this._id = l, this._fieldId = c;
    }
    return Object.defineProperty(r.prototype, "dashboardImpl", {
      get: function() {
        return this._dashboardImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "type", {
      get: function() {
        return this._type;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "position", {
      get: function() {
        return this._position;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "size", {
      get: function() {
        return this._size;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "worksheetImpl", {
      get: function() {
        return this._worksheetImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isFloating", {
      get: function() {
        return this._isFloating;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isVisible", {
      get: function() {
        return this._isVisible;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fieldId", {
      get: function() {
        return this._fieldId;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Zn.DashboardObjectImpl = Gv;
var Zt = {}, Tr = {};
Object.defineProperty(Tr, "__esModule", { value: !0 });
var Je = O, Bi = V(), Kv = ae, Yv = (
  /** @class */
  function() {
    function r() {
    }
    return r.getSheetSizeFromSizeConstraints = function(e) {
      var t = e.minWidth, n = e.minHeight, a = e.maxWidth, i = e.maxHeight;
      if (n === 0 && t === 0)
        return i === 0 && a === 0 ? {
          behavior: Je.SheetSizeBehavior.Automatic
        } : {
          behavior: Je.SheetSizeBehavior.AtMost,
          maxSize: { width: a, height: i }
        };
      if (i === 0 && a === 0)
        return {
          behavior: Je.SheetSizeBehavior.AtLeast,
          minSize: { width: t, height: n }
        };
      if (i === n && a === t && t > 0)
        return {
          behavior: Je.SheetSizeBehavior.Exactly,
          minSize: { width: t, height: n },
          maxSize: { width: t, height: n }
        };
      var o = t === 0 && a === 0;
      return {
        behavior: Je.SheetSizeBehavior.Range,
        minSize: { width: t, height: n },
        maxSize: { width: o ? 2147483647 : a, height: i }
      };
    }, r.createAutomaticSize = function() {
      var e = Je.SheetSizeBehavior.Automatic, t = { width: 0, height: 0 }, n = { width: 0, height: 0 };
      return { behavior: e, minSize: t, maxSize: n };
    }, r.getPublishedSheetInfoByName = function(e, t) {
      var n = t.find(function(a) {
        return a.name === e;
      });
      return n;
    }, r.getSheetTypeEnum = function(e) {
      var t;
      switch (e) {
        case Bi.SheetType.Worksheet: {
          t = Je.SheetType.Worksheet;
          break;
        }
        case Bi.SheetType.Dashboard: {
          t = Je.SheetType.Dashboard;
          break;
        }
        case Bi.SheetType.Story: {
          t = Je.SheetType.Story;
          break;
        }
        default:
          throw new Kv.TableauError(Je.SharedErrorCodes.ServerError, "Invalid SheetType");
      }
      return t;
    }, r.isValidSheetSize = function(e) {
      return e.behavior !== void 0;
    }, r;
  }()
);
Tr.SheetUtils = Yv;
Object.defineProperty(Zt, "__esModule", { value: !0 });
var te = O, an = je, me = ae, eu = Fe(), zt = Qt(), tu = Tr, Qv = (
  /** @class */
  function() {
    function r(e, t) {
      this._sheetInfoImpl = e, this._registryId = t;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._sheetInfoImpl.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "sheetType", {
      get: function() {
        return this._sheetInfoImpl.sheetType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "sheetPath", {
      get: function() {
        return this._sheetInfoImpl.sheetPath;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "size", {
      get: function() {
        return this._sheetInfoImpl.sheetSize;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "hidden", {
      get: function() {
        if (this._sheetInfoImpl.isHidden !== void 0)
          return this._sheetInfoImpl.isHidden;
        throw new me.TableauError(te.EmbeddingErrorCodes.ImplementationError, "isHidden not implemented");
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "active", {
      get: function() {
        if (this._sheetInfoImpl.isActive !== void 0)
          return this._sheetInfoImpl.isActive;
        throw new me.TableauError(te.EmbeddingErrorCodes.ImplementationError, "active not implemented");
      },
      set: function(e) {
        this._sheetInfoImpl.isActive !== void 0 && (this._sheetInfoImpl.active = e);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "index", {
      get: function() {
        if (this._sheetInfoImpl.index !== void 0)
          return this._sheetInfoImpl.index;
        throw new me.TableauError(te.EmbeddingErrorCodes.ImplementationError, "index not implemented");
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "url", {
      get: function() {
        if (this._sheetInfoImpl.url !== void 0)
          return this._sheetInfoImpl.url;
        throw new me.TableauError(te.EmbeddingErrorCodes.ImplementationError, "url not implemented");
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.getSheetSize = function() {
      if (!tu.SheetUtils.isValidSheetSize(this.size))
        throw new me.TableauError(te.EmbeddingErrorCodes.InternalError, "size is not of type SheetSize");
      return this.size;
    }, r.prototype.findParameterAsync = function(e) {
      eu.ErrorHelpers.verifyParameter(e, "parameterName");
      var t = an.ApiServiceRegistry.get(this._registryId).getService(
        "parameters-service"
        /* Parameters */
      );
      return t.findParameterByNameAsync(e);
    }, r.prototype.getParametersAsync = function() {
      var e = an.ApiServiceRegistry.get(this._registryId).getService(
        "parameters-service"
        /* Parameters */
      );
      return e.getParametersForSheetAsync(this.sheetPath);
    }, r.prototype.changeSizeAsync = function(e) {
      var t = this, n = new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Invalid sheet size parameter");
      if (!e || !e.behavior)
        throw n;
      var a = this.normalizeSheetSize(e), i = a.behavior === te.SheetSizeBehavior.Automatic;
      if (!i && !a.minSize && !a.maxSize)
        throw n;
      if (!i && this.sheetType === te.SheetType.Worksheet)
        throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSizeBehaviorOnWorksheet, "Only SheetSizeBehavior.Automatic is allowed on Worksheets");
      if (i && this.getSheetSize().behavior === a.behavior)
        return Promise.resolve(e);
      var o = this.processNewSize(a), s = an.ApiServiceRegistry.get(this._registryId).getService(
        "size-service"
        /* Size */
      );
      return s.changeSizeAsync(this.name, o).then(function() {
        var u = an.ApiServiceRegistry.get(t._registryId).getService(
          "client-info-service"
          /* ClientInfo */
        );
        return u.getClientInfoAsync().then(function(l) {
          var c = l.publishedSheets.find(function(y) {
            return y.name === t.name;
          });
          if (!c)
            throw new me.TableauError(te.SharedErrorCodes.InternalError, "Can't find sheet with name " + t.name);
          var d = tu.SheetUtils.getSheetSizeFromSizeConstraints(c.sizeConstraint);
          return t._sheetInfoImpl.sheetSize = d, d;
        });
      });
    }, r.prototype.normalizeSheetSize = function(e) {
      var t = e.behavior;
      eu.ErrorHelpers.verifyEnumValue(t, te.SheetSizeBehavior, "SheetSizeBehavior");
      var n = r.parseDimensions(e.minSize), a = r.parseDimensions(e.maxSize);
      return { behavior: t, minSize: n, maxSize: a };
    }, r.prototype.processNewSize = function(e) {
      var t, n, a, i, o = e.behavior, s = e.minSize, u = e.maxSize, l = !zt.Param.isNullOrUndefined((t = s) === null || t === void 0 ? void 0 : t.width), c = !zt.Param.isNullOrUndefined((n = s) === null || n === void 0 ? void 0 : n.height), d = !zt.Param.isNullOrUndefined((a = u) === null || a === void 0 ? void 0 : a.width), y = !zt.Param.isNullOrUndefined((i = u) === null || i === void 0 ? void 0 : i.height), f = l && c, v = d && y;
      switch (o) {
        case te.SheetSizeBehavior.Automatic:
          return { behavior: o };
        case te.SheetSizeBehavior.AtMost: {
          if (!u || !v)
            throw new me.TableauError(te.EmbeddingErrorCodes.MissingMaxSize, "Missing maxSize for SheetSizeBehavior.AtMost");
          var h = { width: u.width, height: u.height };
          if (h.width < 0 || h.height < 0)
            throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Size value cannot be less than zero");
          return { behavior: o, maxSize: h };
        }
        case te.SheetSizeBehavior.AtLeast: {
          if (!s || !f)
            throw new me.TableauError(te.EmbeddingErrorCodes.MissingMinSize, "Missing minSize for SheetSizeBehavior.AtLeast");
          var p = { width: s.width, height: s.height };
          if (p.width < 0 || p.height < 0)
            throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Size value cannot be less than zero");
          return { behavior: o, minSize: p };
        }
        case te.SheetSizeBehavior.Range: {
          if (!s || !u || !f || !v)
            throw new me.TableauError(te.EmbeddingErrorCodes.MissingMinMaxSize, "Missing minSize or maxSize for SheetSizeBehavior.Range");
          var p = { width: s.width, height: s.height }, h = { width: u.width, height: u.height };
          if (p.width < 0 || p.height < 0 || h.width < 0 || h.height < 0 || p.width > h.width || p.height > h.height)
            throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Missing minSize or maxSize for SheetSizeBehavior.Range");
          return { behavior: o, minSize: p, maxSize: h };
        }
        case te.SheetSizeBehavior.Exactly: {
          if (s && u) {
            if (f && v) {
              var p = { width: s.width, height: s.height }, h = { width: u.width, height: u.height };
              if (p.width !== h.width || p.height !== h.height)
                throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Conflicting size values for SheetSizeBehavior.Exactly");
              return { behavior: o, minSize: p, maxSize: h };
            }
            if (f) {
              var p = { width: s.width, height: s.height };
              return { behavior: o, minSize: p, maxSize: p };
            }
            if (v) {
              var h = { width: u.width, height: u.height };
              return { behavior: o, minSize: h, maxSize: h };
            }
          }
          throw new me.TableauError(te.EmbeddingErrorCodes.InvalidSize, "Invalid sheet size parameter");
        }
        default:
          throw new me.TableauError(te.SharedErrorCodes.InternalError, "Unsupported sheet size behavior: " + o);
      }
    }, r.parseDimensions = function(e) {
      var t = { width: void 0, height: void 0 };
      if (!e)
        return t;
      var n = zt.Param.tryParseNumber(e.width), a = n.success, i = n.parsed, o = zt.Param.tryParseNumber(e.height), s = o.success, u = o.parsed;
      return a && s ? { width: i, height: u } : a ? { width: i } : s ? { height: u } : t;
    }, r;
  }()
);
Zt.SheetImpl = Qv;
var Pr = {};
Object.defineProperty(Pr, "__esModule", { value: !0 });
var Zv = O, Jv = (
  /** @class */
  function() {
    function r(e, t, n, a, i, o, s) {
      this._name = e, this._sheetType = t, this._sheetSize = n, this._index = a, this._isActive = i, this._isHidden = o, this._url = s;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._name;
      },
      set: function(e) {
        this._name = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "sheetSize", {
      get: function() {
        return this._sheetSize;
      },
      set: function(e) {
        this._sheetSize = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "sheetType", {
      get: function() {
        return this._sheetType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "sheetPath", {
      get: function() {
        return {
          sheetName: this.name,
          isDashboard: this.sheetType === Zv.SheetType.Dashboard
        };
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "index", {
      get: function() {
        return this._index;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isActive", {
      get: function() {
        return this._isActive;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "active", {
      set: function(e) {
        this._isActive = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isHidden", {
      get: function() {
        return this._isHidden;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "url", {
      get: function() {
        return this._url;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Pr.SheetInfoImpl = Jv;
var Cr = {}, Jn = {};
Object.defineProperty(Jn, "__esModule", { value: !0 });
var Xv = (
  /** @class */
  function() {
    function r(e) {
      this._logicalTable = e;
    }
    return Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._logicalTable.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "caption", {
      get: function() {
        return this._logicalTable.caption;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Jn.LogicalTable = Xv;
var Ga = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), function(e) {
    e.Summary = "summary", e.Underlying = "underlying";
  }(r.GetDataType || (r.GetDataType = {}));
})(Ga);
var Dr = {}, Ka = {};
Object.defineProperty(Ka, "__esModule", { value: !0 });
var qv = (
  /** @class */
  function() {
    function r(e) {
      this._connectionInfo = e;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._connectionInfo.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._connectionInfo.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "serverURI", {
      get: function() {
        return this._connectionInfo.serverURI;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "type", {
      get: function() {
        return this._connectionInfo.type;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Ka.ConnectionSummary = qv;
var Ya = {};
Object.defineProperty(Ya, "__esModule", { value: !0 });
var em = (
  /** @class */
  function() {
    function r(e) {
      this._tableInfo = e;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._tableInfo.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._tableInfo.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "connectionId", {
      get: function() {
        return this._tableInfo.connectionId;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "customSQL", {
      get: function() {
        return this._tableInfo.customSQL;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Ya.TableSummary = em;
var Xn = {};
Object.defineProperty(Xn, "__esModule", { value: !0 });
var tm = O, rm = V(), Gi = ut, nm = (
  /** @class */
  function() {
    function r(e, t) {
      this._fieldInfo = e, this._parentDataSource = t;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._fieldInfo.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._fieldInfo.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "description", {
      get: function() {
        return this._fieldInfo.description;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataType", {
      get: function() {
        var e;
        return e = this._fieldInfo.dataType, e ?? tm.DataType.Unknown;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "aggregation", {
      get: function() {
        return Gi.InternalToExternalEnumMappings.fieldAggregationType.convert(this._fieldInfo.aggregation);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataSource", {
      get: function() {
        if (!this._parentDataSource)
          throw new Error("Data source information is not available for this field. Please use getFieldAsync method to get field's data source information");
        return this._parentDataSource;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "role", {
      get: function() {
        return Gi.InternalToExternalEnumMappings.fieldRoleType.convert(this._fieldInfo.role);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "columnType", {
      get: function() {
        var e = this._fieldInfo.columnType || rm.ColumnType.Unknown;
        return Gi.InternalToExternalEnumMappings.columnType.convert(e);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isCalculatedField", {
      get: function() {
        return this._fieldInfo.isCalculatedField;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isCombinedField", {
      get: function() {
        return this._fieldInfo.isCombinedField;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isGenerated", {
      get: function() {
        return this._fieldInfo.isGenerated;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isGeospatial", {
      get: function() {
        return this._fieldInfo.isGeospatial;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isHidden", {
      get: function() {
        return this._fieldInfo.isHidden;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isPresentOnPublishedDatasource", {
      get: function() {
        return this._fieldInfo.isPresentOnPublishedDatasource;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Xn.FieldImpl = nm;
Object.defineProperty(Dr, "__esModule", { value: !0 });
var Ki = O, im = Ka, ru = wr, am = Jn, _t = je, om = Ya, sm = Fe(), nu = Xn, um = (
  /** @class */
  function() {
    function r(e, t) {
      var n = this;
      this._dataSourceInfo = e, this._registryId = t, this._fields = e.fields.map(function(a) {
        var i = new nu.FieldImpl(a, n);
        return new ru.Field(i);
      });
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._dataSourceInfo.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._dataSourceInfo.id;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "extractUpdateTime", {
      get: function() {
        return this._dataSourceInfo.extractUpdateTime;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fields", {
      get: function() {
        return this._fields;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isExtract", {
      get: function() {
        return this._dataSourceInfo.isExtract;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isPublished", {
      get: function() {
        return this._dataSourceInfo.isPublished;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.publishedUrl = function() {
      return this._dataSourceInfo.publishedUrl;
    }, r.prototype.getMaxPageRowLimit = function() {
      return 1e4;
    }, r.prototype.refreshAsync = function() {
      var e = _t.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return e.refreshAsync(this._dataSourceInfo.id);
    }, r.prototype.getConnectionSummariesAsync = function() {
      var e = _t.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return e.getConnectionSummariesAsync(this._dataSourceInfo.id).then(function(t) {
        return t.map(function(n) {
          return new im.ConnectionSummary(n);
        });
      });
    }, r.prototype.getActiveTablesAsync = function() {
      var e = _t.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return e.getActiveTablesAsync(this._dataSourceInfo.id).then(function(t) {
        return t.map(function(n) {
          return new om.TableSummary(n);
        });
      });
    }, r.prototype.getUnderlyingDataAsync = function(e) {
      var t = _t.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return e = e || {}, t.getDataSourceDataAsync(
        this.id,
        !!e.ignoreAliases,
        e.maxRows || 0,
        // 0 and [] are defaults
        e.columnsToInclude || [],
        e.columnsToIncludeById || [],
        e.includeDataValuesOption || Ki.IncludeDataValuesOption.AllValues
      );
    }, r.prototype.getLogicalTableDataAsync = function(e, t) {
      var n = _t.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t = t || {}, n.getLogicalTableDataAsync(
        this.id,
        e,
        !!t.ignoreAliases,
        t.maxRows || 0,
        // 0 and [] are defaults
        t.columnsToInclude || [],
        t.columnsToIncludeById || [],
        t.includeDataValuesOption || Ki.IncludeDataValuesOption.AllValues
      );
    }, r.prototype.getLogicalTableDataReaderAsync = function(e, t, n) {
      var a = _t.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return n = n || {}, a.getLogicalTableDataReaderAsync(this.id, e, t || this.getMaxPageRowLimit(), !!n.ignoreAliases, n.columnsToIncludeById || [], n.includeDataValuesOption || Ki.IncludeDataValuesOption.AllValues);
    }, r.prototype.initializeWithPublicInterfaces = function(e) {
      sm.ErrorHelpers.verifyInternalValue(e, "dataSource"), this._fields = this._dataSourceInfo.fields.map(function(t) {
        var n = new nu.FieldImpl(t, e);
        return new ru.Field(n);
      });
    }, r.prototype.getLogicalTablesAsync = function() {
      var e = _t.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return e.getLogicalTablesAsync(this.id).then(function(t) {
        return t.map(function(n) {
          return new am.LogicalTable(n);
        });
      });
    }, r;
  }()
);
Dr.DataSourceImpl = um;
var lm = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(Cr, "__esModule", { value: !0 });
var jt = O, xe = O, cm = Ar, dm = Jn, iu = Ga, L = je, Nt = ae, de = Fe(), hm = Dr, pm = Zt, fm = (
  /** @class */
  function(r) {
    lm(e, r);
    function e(t, n, a, i, o, s, u) {
      s === void 0 && (s = null), u === void 0 && (u = null);
      var l = r.call(this, t, n) || this;
      return l._visualId = a, l._parentDashboardImpl = i, l._parentStoryPointImpl = o, l._backgroundColor = s, l._formatting = u, l;
    }
    return Object.defineProperty(e.prototype, "parentDashboard", {
      get: function() {
        return this._parentDashboardImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "parentStoryPoint", {
      get: function() {
        return this._parentStoryPointImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "visualId", {
      get: function() {
        return this._visualId;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getMaxPageRowLimit = function() {
      return 1e4;
    }, Object.defineProperty(e.prototype, "backgroundColor", {
      get: function() {
        return this._backgroundColor;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "formatting", {
      get: function() {
        return this._formatting;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.applyFilterAsync = function(t, n, a, i) {
      de.ErrorHelpers.verifyEnumValue(a, jt.FilterUpdateType, "Contract.FilterUpdateType"), this.verifyActiveSheet();
      var o = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return o.applyFilterAsync(this.visualId, t, n, a, i);
    }, e.prototype.applyRangeFilterAsync = function(t, n) {
      de.ErrorHelpers.verifyParameter(t, "fieldName"), de.ErrorHelpers.verifyParameter(n, "filterOptions"), n.nullOption ? de.ErrorHelpers.verifyEnumValue(n.nullOption, xe.FilterNullOption, "FilterNullOption") : de.ErrorHelpers.verifyRangeParamType(n.min, n.max), this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return a.applyRangeFilterAsync(this.visualId, t, n);
    }, e.prototype.applyHierarchicalFilterAsync = function(t, n, a, i) {
      if (de.ErrorHelpers.verifyParameter(t, "fieldName"), de.ErrorHelpers.verifyParameter(n, "values"), de.ErrorHelpers.verifyEnumValue(a, jt.FilterUpdateType, "Contract.FilterUpdateType"), !Array.isArray(n) && !n.levels)
        throw new Nt.TableauError(xe.ErrorCodes.InvalidParameter, "values parameter for applyHierarchicalFilterAsync must be an array or contain a levels key");
      this.verifyActiveSheet();
      var o = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return o.applyHierarchicalFilterAsync(this.visualId, t, n, a, i);
    }, e.prototype.clearFilterAsync = function(t) {
      de.ErrorHelpers.verifyParameter(t, "fieldName"), this.verifyActiveSheet();
      var n = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return n.clearFilterAsync(this.visualId, t);
    }, e.prototype.applyRelativeDateFilterAsync = function(t, n) {
      de.ErrorHelpers.verifyStringParameter(t, "fieldName"), de.ErrorHelpers.verifyParameter(n, "options"), de.ErrorHelpers.verifyEnumValue(n.periodType, xe.PeriodType, "PeriodType"), de.ErrorHelpers.verifyEnumValue(n.rangeType, xe.DateRangeType, "DateRangeType"), this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return a.applyRelativeDateFilterAsync(this.visualId, t, n);
    }, e.prototype.getDataSourcesAsync = function() {
      var t = this;
      this.verifyActiveSheet();
      var n = L.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return n.getDataSourcesAsync(this.visualId).then(function(a) {
        var i = a, o = i.worksheetDataSchemaMap[t.name], s = [], u = o.primaryDataSource;
        s.push(t.createDataSourceFromInfo(i.dataSources[u]));
        for (var l = 0, c = o.referencedDataSourceList; l < c.length; l++) {
          var d = c[l];
          d !== u && s.push(t.createDataSourceFromInfo(i.dataSources[d]));
        }
        return s;
      });
    }, e.prototype.getFiltersAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return t.getFiltersAsync(this.visualId);
    }, e.prototype.getSelectedMarksAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t.getSelectedMarksAsync(this.visualId);
    }, e.prototype.getHighlightedMarksAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t.getHighlightedMarksAsync(this.visualId);
    }, e.prototype.getSummaryDataAsync = function(t) {
      var n;
      this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t = t || {}, a.getUnderlyingDataAsync(this.visualId, iu.GetDataType.Summary, !!t.ignoreAliases, !!t.ignoreSelection, !0, t.columnsToIncludeById || [], t.maxRows || 0, t.includeDataValuesOption || xe.IncludeDataValuesOption.AllValues, (n = t.applyWorksheetFormatting, n ?? !1));
    }, e.prototype.getSummaryDataReaderAsync = function(t, n) {
      var a;
      this.verifyActiveSheet();
      var i = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return n = n || {}, i.getSummaryDataReaderAsync(
        this.visualId,
        t || this.getMaxPageRowLimit(),
        !!n.ignoreAliases,
        !!n.ignoreSelection,
        !0,
        // includeAllColumns (can be overridden by columnsToIncludeById)
        n.columnsToIncludeById || [],
        n.includeDataValuesOption || xe.IncludeDataValuesOption.AllValues,
        (a = n.applyWorksheetFormatting, a ?? !1)
      );
    }, e.prototype.getVisualSpecificationAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "visual-model-service"
        /* VisualModel */
      );
      return t.getVisualSpecificationAsync(this.visualId);
    }, e.prototype.addMarksCardFieldsAsync = function(t, n, a, i) {
      this.verifyActiveSheet();
      var o = L.ApiServiceRegistry.get(this._registryId).getService(
        "visual-model-service"
        /* VisualModel */
      );
      return o.addMarksCardFieldsAsync(this.visualId, t, n, a, i);
    }, e.prototype.moveMarksCardFieldAsync = function(t, n, a, i) {
      this.verifyActiveSheet();
      var o = L.ApiServiceRegistry.get(this._registryId).getService(
        "visual-model-service"
        /* VisualModel */
      );
      return o.moveMarksCardFieldAsync(this.visualId, t, n, a, i);
    }, e.prototype.spliceMarksCardFieldsAsync = function(t, n, a, i, o) {
      this.verifyActiveSheet();
      var s = L.ApiServiceRegistry.get(this._registryId).getService(
        "visual-model-service"
        /* VisualModel */
      );
      return s.spliceMarksCardFieldsAsync(this.visualId, t, n, a, i, o);
    }, e.prototype.getSummaryColumnsInfoAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t.getSummaryColumnsInfoAsync(this.visualId);
    }, e.prototype.getUnderlyingDataAsync = function(t) {
      var n;
      this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t = t || {}, a.getUnderlyingDataAsync(this.visualId, iu.GetDataType.Underlying, !!t.ignoreAliases, !!t.ignoreSelection, !!t.includeAllColumns, t.columnsToIncludeById || [], t.maxRows || 0, t.includeDataValuesOption || xe.IncludeDataValuesOption.AllValues, (n = t.applyWorksheetFormatting, n ?? !1));
    }, e.prototype.getUnderlyingTablesAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return t.getUnderlyingTablesAsync(this.visualId).then(function(n) {
        return n.map(function(a) {
          return new dm.LogicalTable(a);
        });
      });
    }, e.prototype.getUnderlyingTableDataAsync = function(t, n) {
      var a;
      this.verifyActiveSheet();
      var i = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return n = n || {}, i.getUnderlyingTableDataAsync(this.visualId, t, !!n.ignoreAliases, !!n.ignoreSelection, !!n.includeAllColumns, n.columnsToIncludeById || [], n.maxRows || 0, n.includeDataValuesOption || xe.IncludeDataValuesOption.AllValues, (a = n.applyWorksheetFormatting, a ?? !1));
    }, e.prototype.getUnderlyingTableDataReaderAsync = function(t, n, a) {
      var i;
      this.verifyActiveSheet();
      var o = L.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return a = a || {}, o.getUnderlyingTableDataReaderAsync(this.visualId, t, n || this.getMaxPageRowLimit(), !!a.ignoreAliases, !!a.ignoreSelection, !!a.includeAllColumns, a.columnsToIncludeById || [], a.includeDataValuesOption || xe.IncludeDataValuesOption.AllValues, (i = a.applyWorksheetFormatting, i ?? !1));
    }, e.prototype.clearSelectedMarksAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "selection-service"
        /* Selection */
      );
      return t.clearSelectedMarksAsync(this.visualId);
    }, e.prototype.selectMarksByValueAsync = function(t, n) {
      de.ErrorHelpers.verifyParameter(t, "fieldName"), de.ErrorHelpers.verifyEnumValue(n, xe.SelectionUpdateType, "SelectionUpdateType"), this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "selection-service"
        /* Selection */
      );
      return a.selectMarksByValueAsync(this.visualId, t, n);
    }, e.prototype.selectMarksByIdAsync = function(t, n) {
      de.ErrorHelpers.verifyParameter(t, "fieldName"), de.ErrorHelpers.verifyEnumValue(n, xe.SelectionUpdateType, "SelectionUpdateType"), this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "selection-service"
        /* Selection */
      );
      return a.selectMarksByIdAsync(this.visualId, t, n);
    }, e.prototype.annotateMarkAsync = function(t, n) {
      de.ErrorHelpers.verifyParameter(t, "mark"), this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "annotation-service"
        /* Annotation */
      );
      return a.annotateMarkAsync(this.visualId, t, n);
    }, e.prototype.getAnnotationsAsync = function() {
      this.verifyActiveSheet();
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "annotation-service"
        /* Annotation */
      );
      return t.getAnnotationsAsync(this.visualId);
    }, e.prototype.removeAnnotationAsync = function(t) {
      de.ErrorHelpers.verifyParameter(t, "annotation"), this.verifyActiveSheet();
      var n = L.ApiServiceRegistry.get(this._registryId).getService(
        "annotation-service"
        /* Annotation */
      );
      return n.removeAnnotationAsync(this.visualId, t);
    }, e.prototype.appendContextMenuAsync = function(t, n) {
      this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "external-context-menu-service"
        /* ExternalContextMenu */
      );
      return a.appendContextMenuAsync(this.visualId.worksheet, t, n);
    }, e.prototype.removeContextMenuAsync = function(t, n) {
      this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "external-context-menu-service"
        /* ExternalContextMenu */
      );
      return a.removeContextMenuAsync(this.visualId.worksheet, t, n);
    }, e.prototype.executeContextMenuAsync = function(t, n) {
      this.verifyActiveSheet();
      var a = L.ApiServiceRegistry.get(this._registryId).getService(
        "external-context-menu-service"
        /* ExternalContextMenu */
      );
      return a.executeContextMenuAsync(this.visualId.worksheet, t, n);
    }, e.prototype.renameContextMenuAsync = function(t, n, a) {
      this.verifyActiveSheet();
      var i = L.ApiServiceRegistry.get(this._registryId).getService(
        "external-context-menu-service"
        /* ExternalContextMenu */
      );
      return i.renameContextMenuAsync(this.visualId.worksheet, t, n, a);
    }, e.prototype.hoverTupleAsync = function(t, n, a) {
      if (this.isInsideDashboardExtension())
        return Promise.reject(new Nt.TableauError(jt.SharedErrorCodes.ImplementationError, "hoverTupleAsync is not supported in dashboard extensions"));
      var i = L.ApiServiceRegistry.get(this._registryId).getService(
        "selection-service"
        /* Selection */
      );
      return i.hoverTupleAsync(this.visualId, t, n, a);
    }, e.prototype.selectTuplesAsync = function(t, n, a) {
      if (this.isInsideDashboardExtension())
        return Promise.reject(new Nt.TableauError(jt.SharedErrorCodes.ImplementationError, "selectTuplesAsync is not supported in dashboard extensions"));
      var i = L.ApiServiceRegistry.get(this._registryId).getService(
        "selection-service"
        /* Selection */
      );
      return i.selectTuplesAsync(this.visualId, t, n, a);
    }, e.prototype.getTooltipTextAsync = function(t) {
      if (this.isInsideDashboardExtension())
        return Promise.reject(new Nt.TableauError(jt.SharedErrorCodes.ImplementationError, "getTooltipTextAsync is not supported in dashboard extensions"));
      var n = L.ApiServiceRegistry.get(this._registryId).getService(
        "accessibility"
        /* Accessibility */
      );
      return n.getTooltipTextAsync(this.visualId, t);
    }, e.prototype.leaveMarkNavigationAsync = function() {
      if (this.isInsideDashboardExtension())
        return Promise.reject(new Nt.TableauError(jt.SharedErrorCodes.ImplementationError, "leaveMarkNavigationAsync is not supported in dashboard extensions"));
      var t = L.ApiServiceRegistry.get(this._registryId).getService(
        "accessibility"
        /* Accessibility */
      );
      return t.leaveMarkNavigationAsync(this.visualId);
    }, e.prototype.editAliasesDialogAsync = function(t) {
      var n = L.ApiServiceRegistry.get(this._registryId).getService(
        "visual-model-service"
        /* VisualModel */
      );
      return n.editAliasesDialogAsync(t);
    }, e.prototype.createDataSourceFromInfo = function(t) {
      var n = new hm.DataSourceImpl(t, this._registryId), a = new cm.DataSource(n);
      return n.initializeWithPublicInterfaces(a), a;
    }, e.prototype.verifyActiveSheet = function() {
      var t = this.active, n = this.isInsideActiveDashboard(), a = this.isInsideActiveStoryPoint();
      if (!t && !n && !a)
        throw new Nt.TableauError(xe.SharedErrorCodes.NotActiveSheet, "Operation not allowed on non-active sheet");
    }, e.prototype.isInsideActiveStoryPoint = function() {
      return this._parentStoryPointImpl && this._parentStoryPointImpl.active;
    }, e.prototype.isInsideActiveDashboard = function() {
      return this._parentDashboardImpl && this._parentDashboardImpl.active;
    }, e.prototype.isInsideDashboardExtension = function() {
      return this._parentDashboardImpl !== null;
    }, e;
  }(pm.SheetImpl)
);
Cr.WorksheetImpl = fm;
var vm = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(Yn, "__esModule", { value: !0 });
var mm = O, Oe = O, on = V(), gm = ut, ym = Qn, gr = je, au = ae, ou = Fe(), bm = Zn, _m = Zt, Sm = Pr, Im = Cr, Em = (
  /** @class */
  function(r) {
    vm(e, r);
    function e(t, n, a, i, o, s) {
      s === void 0 && (s = 0);
      var u = r.call(this, t, i) || this;
      return u._zones = n, u._sheetPath = a, u._parentStoryPointImpl = o, u._activeDashboardObjectId = s, u;
    }
    return Object.defineProperty(e.prototype, "worksheetsImpl", {
      get: function() {
        return this._worksheetsImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "objects", {
      get: function() {
        return this._objects;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "parentStoryPoint", {
      get: function() {
        return this._parentStoryPointImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "activeDashboardObjectId", {
      get: function() {
        return this._activeDashboardObjectId;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "activeDashboardName", {
      get: function() {
        return this._sheetPath.sheetName;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.initializeWithPublicInterfaces = function() {
      this._worksheetsImpl = new Array(), this._objects = new Array(), this.zoneMap = /* @__PURE__ */ new Map();
      for (var t = 0, n = this._zones; t < n.length; t++) {
        var a = n[t], i = void 0, o = { width: a.width, height: a.height }, s = !1;
        if (a.zoneType === on.DashboardObjectType.Worksheet || a.zoneType === on.DashboardObjectType.QuickFilter) {
          var u = "", l = "", c = !1;
          a.sheetInfo ? (u = a.sheetInfo.name, l = a.sheetInfo.url || "", c = l === "") : u = a.name;
          var d = new Sm.SheetInfoImpl(u, Oe.SheetType.Worksheet, o, this._worksheetsImpl.length, s, c, l), y = {
            worksheet: u,
            dashboard: this._sheetInfoImpl.name,
            storyboard: this._sheetPath.storyboard,
            flipboardZoneID: this._sheetPath.flipboardZoneID,
            storyPointID: this._sheetPath.storyPointID
          };
          i = new Im.WorksheetImpl(d, this._registryId, y, this, this._parentStoryPointImpl), a.zoneType === on.DashboardObjectType.Worksheet && this._worksheetsImpl.push(i);
        }
        var f = new ym.Point(a.x, a.y), v = new bm.DashboardObjectImpl(
          this,
          gm.InternalToExternalEnumMappings.dashboardObjectType.convert(a.zoneType),
          f,
          o,
          i,
          a.name,
          a.isFloating !== void 0 ? a.isFloating : !1,
          // before 1.6.0 we didn't have isFloating, so we assume false
          a.isVisible !== void 0 ? a.isVisible : !0,
          // before 1.6.0 we didn't have isVisible, so we assume true
          a.zoneId,
          a.fieldId
        );
        this._objects.push(v), this.zoneMap.set(a.zoneId, v);
      }
    }, e.prototype.setDashboardObjectVisibilityAsync = function(t) {
      var n = gr.ApiServiceRegistry.get(this._registryId).getService(
        "zone-service"
        /* Zone */
      );
      return n.setVisibilityAsync(
        /*Dashboard Name*/
        this.name,
        this.zoneMap,
        t
      );
    }, e.prototype.getDashboardObjectById = function(t) {
      return this.zoneMap.get(t);
    }, e.prototype.updateZones = function(t, n, a) {
      var i = this;
      n === void 0 && (n = 0), a === void 0 && (a = "");
      var o = this._objects, s = this.zoneMap, u = this._activeDashboardObjectId, l = this._sheetPath.sheetName;
      this._zones = t, this._activeDashboardObjectId = n, a && (this._sheetPath.sheetName = a, this._sheetInfoImpl.name = a), this.initializeWithPublicInterfaces();
      var c = this._objects, d = this.zoneMap, y = /* @__PURE__ */ new Map();
      return o.forEach(function(f) {
        var v = f.id;
        if (!d.has(v)) {
          i.addChange(v, y, Oe.DashboardLayoutChange.Removed);
          return;
        }
        var h = d.get(v);
        f.isFloating !== h.isFloating && i.addChange(v, y, Oe.DashboardLayoutChange.IsFloatingChanged), f.isVisible !== h.isVisible && i.addChange(v, y, Oe.DashboardLayoutChange.IsVisibleChanged), f.name !== h.name && i.addChange(v, y, Oe.DashboardLayoutChange.NameChanged), (f.position.x !== h.position.x || f.position.y !== h.position.y) && i.addChange(v, y, Oe.DashboardLayoutChange.PositionChanged), (f.size.width !== h.size.width || f.size.height !== h.size.height) && i.addChange(v, y, Oe.DashboardLayoutChange.SizeChanged);
      }), c.forEach(function(f) {
        s.has(f.id) || i.addChange(f.id, y, Oe.DashboardLayoutChange.Added);
      }), u !== n && (n !== 0 && this.addChange(n, y, Oe.DashboardLayoutChange.Selected), u !== 0 && this.addChange(u, y, Oe.DashboardLayoutChange.Deselected)), a && l !== a && this.addChange(0, y, Oe.DashboardLayoutChange.DashboardChanged), y;
    }, e.prototype.addChange = function(t, n, a) {
      n.has(t) || n.set(t, []), n.get(t).push(a);
    }, e.prototype.moveAndResizeDashboardObjectsAsync = function(t) {
      var n = gr.ApiServiceRegistry.get(this._registryId).getService(
        "zone-service"
        /* Zone */
      );
      return n.moveAndResizeAsync(
        /*Dashboard Name*/
        this.name,
        this.zoneMap,
        t
      );
    }, e.prototype.replayAnimationAsync = function(t) {
      var n = gr.ApiServiceRegistry.get(this._registryId).getService(
        "animation-service"
        /* Animation */
      );
      return n.replayAsync(t);
    }, e.prototype.getFiltersAsync = function() {
      this.verifyActiveSheetOrEmbeddedInActiveStoryPoint();
      var t = gr.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return t.getDashboardFiltersAsync();
    }, e.prototype.applyFilterAsync = function(t, n, a, i) {
      if (ou.ErrorHelpers.verifyEnumValue(a, mm.FilterUpdateType, "FilterUpdateType"), ou.ErrorHelpers.verifyStringParameter(t, "fieldName"), !Array.isArray(n))
        throw new au.TableauError(Oe.ErrorCodes.InvalidParameter, "values parameter for applyDashboardFilterAsync must be an array");
      this.verifyActiveSheetOrEmbeddedInActiveStoryPoint();
      var o = gr.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return o.applyDashboardFilterAsync(t, n, a, i);
    }, e.prototype.getWorksheetNamesFromZones = function() {
      for (var t = [], n = 0, a = this._zones; n < a.length; n++) {
        var i = a[n];
        if (i.zoneType === on.DashboardObjectType.Worksheet) {
          var o = i.sheetInfo ? i.sheetInfo.name : i.name;
          t.push(o);
        }
      }
      return t;
    }, e.prototype.verifyActiveSheetOrEmbeddedInActiveStoryPoint = function() {
      var t = this.active, n = this.parentStoryPoint != null && this.parentStoryPoint.active;
      if (!t && !n)
        throw new au.TableauError(Oe.SharedErrorCodes.NotActiveSheet, "Operation not allowed on non-active sheet");
    }, e;
  }(_m.SheetImpl)
);
Yn.DashboardImpl = Em;
var qn = {}, kr = {}, wt = {};
Object.defineProperty(wt, "__esModule", { value: !0 });
var Am = (
  /** @class */
  function() {
    function r(e, t, n, a, i, o) {
      this._data = e, this._columns = t, this._totalRowCount = n, this._isTotalRowCountLimited = a, this._isSummaryData = i, this._marksInfo = o, this._name = i ? "Summary Data Table" : "Underlying Data Table";
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "data", {
      get: function() {
        return this._data;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "columns", {
      get: function() {
        return this._columns;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "marksInfo", {
      get: function() {
        return this._marksInfo;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "totalRowCount", {
      get: function() {
        return this._totalRowCount;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isTotalRowCountLimited", {
      get: function() {
        return this._isTotalRowCountLimited;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isSummaryData", {
      get: function() {
        return this._isSummaryData;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
wt.DataTable = Am;
var wm = (
  /** @class */
  function() {
    function r(e, t, n) {
      this._type = e, this._color = t, this._tupleId = n;
    }
    return Object.defineProperty(r.prototype, "type", {
      get: function() {
        return this._type;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "color", {
      get: function() {
        return this._color;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "tupleId", {
      get: function() {
        return this._tupleId;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
wt.MarkInfo = wm;
var Tm = (
  /** @class */
  function() {
    function r(e, t, n, a, i) {
      this._fieldName = e, this._fieldId = t, this._dataType = n, this._isReferenced = a, this._index = i;
    }
    return Object.defineProperty(r.prototype, "fieldName", {
      get: function() {
        return this._fieldName;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fieldId", {
      get: function() {
        return this._fieldId;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataType", {
      get: function() {
        return this._dataType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "isReferenced", {
      get: function() {
        return this._isReferenced;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "index", {
      get: function() {
        return this._index;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
wt.Column = Tm;
var Pm = (
  /** @class */
  function() {
    function r(e, t, n, a, i) {
      this._value = e, this._nativeValue = t, this._formattedValue = n, this._aliasValue = a, this._hasAlias = i;
    }
    return Object.defineProperty(r.prototype, "value", {
      get: function() {
        return this._value;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "nativeValue", {
      get: function() {
        return this._nativeValue;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "formattedValue", {
      get: function() {
        return this._formattedValue;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "aliasValue", {
      get: function() {
        return this._aliasValue;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "hasAlias", {
      get: function() {
        return this._hasAlias;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
wt.DataValue = Pm;
Object.defineProperty(kr, "__esModule", { value: !0 });
var su = V(), Yi = wt, Cm = (
  /** @class */
  function() {
    function r() {
    }
    return r.MakeParameterDataValue = function(e, t) {
      return new Yi.DataValue(e.value, su.DataTypeConverter.convertStringValueToNativeValue(e.value, t), e.formattedValue, e.aliasedValue, e.hasAlias);
    }, r.MakeFilterDataValue = function(e) {
      return new Yi.DataValue(e.value, e.value, e.formattedValue);
    }, r.MakeTableDataValue = function(e, t) {
      return new Yi.DataValue(e.value, e.value !== void 0 ? su.DataTypeConverter.convertValueToNativeValue(e.value, t) : void 0, e.formattedValue);
    }, r;
  }()
);
kr.DataValueFactory = Cm;
Object.defineProperty(qn, "__esModule", { value: !0 });
var uu = O, Qi = ut, Dm = je, sn = kr, km = Fe(), Om = Qt(), Mm = (
  /** @class */
  function() {
    function r(e, t) {
      this._registryId = t, this.setParameterInfo(e);
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._parameterInfo.name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "currentValue", {
      get: function() {
        return sn.DataValueFactory.MakeParameterDataValue(this._parameterInfo.currentValue, this._parameterInfo.dataType);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "dataType", {
      get: function() {
        return Qi.InternalToExternalEnumMappings.dataType.convert(this._parameterInfo.dataType);
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "id", {
      get: function() {
        return this._globalFieldName;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "allowableValues", {
      get: function() {
        return this._allowableValues;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.changeValueAsync = function(e) {
      var t = this;
      km.ErrorHelpers.verifyParameter(e, "newValue");
      var n = Om.Param.serializeParameterValue(e), a = Dm.ApiServiceRegistry.get(this._registryId).getService(
        "parameters-service"
        /* Parameters */
      );
      return a.changeParameterValueAsync(this._globalFieldName, n).then(function(i) {
        return t.setParameterInfo(i), t.currentValue;
      });
    }, r.prototype.setParameterInfo = function(e) {
      this._parameterInfo = e, this._globalFieldName = e.fieldName;
      var t = Qi.InternalToExternalEnumMappings.allowableValues.convert(e.allowableValuesType), n, a, i, o, s;
      if (t === uu.ParameterValueType.List) {
        var u = e.allowableValues || [];
        n = u.map(function(l) {
          return sn.DataValueFactory.MakeParameterDataValue(l, e.dataType);
        });
      } else t === uu.ParameterValueType.Range && (a = e.minValue && sn.DataValueFactory.MakeParameterDataValue(e.minValue, e.dataType), i = e.maxValue && sn.DataValueFactory.MakeParameterDataValue(e.maxValue, e.dataType), o = e.stepSize, s = e.dateStepPeriod && Qi.InternalToExternalEnumMappings.dateStepPeriod.convert(e.dateStepPeriod));
      this._allowableValues = {
        type: t,
        allowableValues: n,
        minValue: a,
        maxValue: i,
        stepSize: o,
        dateStepPeriod: s
      };
    }, r;
  }()
);
qn.ParameterImpl = Mm;
var Qa = {};
Object.defineProperty(Qa, "__esModule", { value: !0 });
var Fm = (
  /** @class */
  function() {
    function r(e) {
      this._eventType = e, this._handlers = [];
    }
    return Object.defineProperty(r.prototype, "eventType", {
      get: function() {
        return this._eventType;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.addEventListener = function(e) {
      var t = this;
      return this._handlers.push(e), function() {
        return t.removeEventListener(e);
      };
    }, r.prototype.removeEventListener = function(e) {
      var t = this._handlers.length;
      return this._handlers = this._handlers.filter(function(n) {
        return n !== e;
      }), t > this._handlers.length;
    }, r.prototype.triggerEvent = function(e) {
      for (var t = 0, n = this._handlers; t < n.length; t++) {
        var a = n[t];
        try {
          var i = e();
          a(i);
        } catch {
          continue;
        }
      }
    }, r;
  }()
);
Qa.SingleEventManagerImpl = Fm;
var Za = {}, Ja = {}, Or = {};
Object.defineProperty(Or, "__esModule", { value: !0 });
var Rm = (
  /** @class */
  function() {
    function r() {
      var e = this;
      this._promise = new Promise(function(t, n) {
        e._resolve = t, e._reject = n;
      });
    }
    return Object.defineProperty(r.prototype, "promise", {
      /**
       * Gets the Promise.
       *
       * @readonly
       * @type {Promise<TResolve>}
       */
      get: function() {
        return this._promise;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.resolve = function(e) {
      this._resolve && this._resolve(e);
    }, r.prototype.reject = function(e) {
      this._reject && this._reject(e);
    }, r;
  }()
);
Or.Deferred = Rm;
Or.UnregisterTimeoutInMilliseconds = 3e4;
Object.defineProperty(Ja, "__esModule", { value: !0 });
var lu = O, cu = ae, du = Or, xm = (
  /** @class */
  function() {
    function r(e) {
      e === void 0 && (e = du.UnregisterTimeoutInMilliseconds), this._timeoutInMilliseconds = e;
    }
    return r.prototype.getNewPromiseOrThrowIfBusy = function() {
      var e = this;
      if (this._deferred)
        throw new cu.TableauError(lu.SharedErrorCodes.ApiExecutionError, "This api cannot be executed till previous call is resolved.");
      return this._deferred = new du.Deferred(), this._timeoutId = setTimeout(function() {
        var t = new cu.TableauError(lu.SharedErrorCodes.Timeout, "Api failed to complete in " + e._timeoutInMilliseconds / 1e3 + " seconds");
        e.reject(t);
      }, this._timeoutInMilliseconds), this._deferred.promise;
    }, r.prototype.resolve = function(e) {
      this._deferred && (clearTimeout(this._timeoutId), this._deferred.resolve(e), this._deferred = void 0);
    }, r.prototype.reject = function(e) {
      this._deferred && (clearTimeout(this._timeoutId), this._deferred.reject(e), this._deferred = void 0);
    }, r;
  }()
);
Ja.ShortLivedDeferred = xm;
var ei = {};
Object.defineProperty(ei, "__esModule", { value: !0 });
var Zi = O, Vm = ae, Ji = Tr, zm = Yn, jm = Pr, Nm = Cr, $m = (
  /** @class */
  function() {
    function r(e, t, n, a) {
      this._storyPointInfoImpl = e, a && (this._containedSheetImpl = this.createContainedSheet(a, t, n));
    }
    return Object.defineProperty(r.prototype, "index", {
      get: function() {
        return this._storyPointInfoImpl.index;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "caption", {
      get: function() {
        return this._storyPointInfoImpl.caption;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "active", {
      get: function() {
        return this._storyPointInfoImpl.active;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "updated", {
      get: function() {
        return this._storyPointInfoImpl.updated;
      },
      set: function(e) {
        this._storyPointInfoImpl.updated = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "parentStory", {
      get: function() {
        return this._storyPointInfoImpl.parentStory;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "containedSheet", {
      get: function() {
        return this._containedSheetImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "storyPointId", {
      get: function() {
        return this._storyPointInfoImpl.storyPointId;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.createContainedSheet = function(e, t, n) {
      var a = -1, i = Ji.SheetUtils.getPublishedSheetInfoByName(e.name, t), o = Ji.SheetUtils.createAutomaticSize(), s = i === void 0, u = i ? i.url : "", l = !1, c = new jm.SheetInfoImpl(e.name, Ji.SheetUtils.getSheetTypeEnum(e.sheetType), o, a, l, s, u), d;
      switch (c.sheetType) {
        case Zi.SheetType.Worksheet: {
          var y = {
            worksheet: c.name
          };
          d = new Nm.WorksheetImpl(c, n, y, null, this);
          break;
        }
        case Zi.SheetType.Dashboard: {
          var f = {
            sheetName: c.name,
            isDashboard: !0
          };
          d = new zm.DashboardImpl(c, e.dashboardZones, f, n, this);
          break;
        }
        default:
          throw new Vm.TableauError(Zi.SharedErrorCodes.ServerError, "Invalid SheetType");
      }
      return d;
    }, r;
  }()
);
ei.StoryPointImpl = $m;
var ti = {};
Object.defineProperty(ti, "__esModule", { value: !0 });
var Um = (
  /** @class */
  function() {
    function r(e, t, n, a, i, o) {
      this._caption = e, this._index = t, this._storyPointId = n, this._active = a, this._updated = i, this._parentStoryImpl = o;
    }
    return Object.defineProperty(r.prototype, "caption", {
      get: function() {
        return this._caption;
      },
      set: function(e) {
        this._caption = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "index", {
      get: function() {
        return this._index;
      },
      set: function(e) {
        this._index = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "storyPointId", {
      get: function() {
        return this._storyPointId;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "active", {
      get: function() {
        return this._active;
      },
      set: function(e) {
        this._active = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "updated", {
      get: function() {
        return this._updated;
      },
      set: function(e) {
        this._updated = e;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "parentStory", {
      get: function() {
        return this._parentStoryImpl;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
ti.StoryPointInfoImpl = Um;
var Lm = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(Za, "__esModule", { value: !0 });
var Xi = O, un = je, qi = ae, ln = Fe(), Wm = Ja, Hm = Zt, hu = ei, pu = ti, Bm = (
  /** @class */
  function(r) {
    Lm(e, r);
    function e(t, n, a, i) {
      var o = r.call(this, t, i) || this;
      return o._sheetInfoImpl = t, o._publishedSheetInfos = a, o._registryId = i, o._storyPointInfoImpls = [], o._deferred = new Wm.ShortLivedDeferred(), o.initializeStory(n), o;
    }
    return e.prototype.initializeStory = function(t) {
      var n = this;
      t.storyPoints.forEach(function(a) {
        var i = a.index === t.activeStoryPointIndex, o = new pu.StoryPointInfoImpl(a.caption, a.index, a.storyPointId, i, a.updated, n);
        n._storyPointInfoImpls.push(o), i && (n._activeStoryPointImpl = new hu.StoryPointImpl(o, n._publishedSheetInfos, n._registryId, a.containedSheetInfo));
      });
    }, e.prototype.updateStoryInfo = function(t, n) {
      if (this._storyPointInfoImpls) {
        var a = this._storyPointInfoImpls[t];
        if (a.storyPointId !== n.storyPointId)
          throw new qi.TableauError(Xi.EmbeddingErrorCodes.StoryPointIdMismatch, "We should not be updating a story point when the IDs don't match. Existing storyPointID=" + a.storyPointId + ", newStoryPointID=" + n.storyPointId);
        a.caption = n.caption, a.updated = n.updated, this._activeStoryPointImpl.storyPointId === n.storyPointId && (this._activeStoryPointImpl.updated = a.updated);
      }
    }, e.prototype.updateStory = function(t) {
      var n = this;
      this._storyPointInfoImpls && (this._storyPointInfoImpls.forEach(function(a) {
        var i = a.storyPointId === t.storyPointId;
        i ? (a.caption = t.caption, a.index = t.index, a.active = !0, a.updated = t.updated, n._activeStoryPointImpl = new hu.StoryPointImpl(a, n._publishedSheetInfos, n._registryId, t.containedSheetInfo)) : a.active = !1;
      }), this.activeStoryPoint && this._deferred.resolve(this.activeStoryPoint));
    }, Object.defineProperty(e.prototype, "activeStoryPoint", {
      get: function() {
        return this._activeStoryPointImpl;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "storyPointsInfo", {
      get: function() {
        return this._storyPointInfoImpls;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "isActive", {
      get: function() {
        return this._sheetInfoImpl.active;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "isHidden", {
      get: function() {
        return !!this._sheetInfoImpl.isHidden;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.activateNextStoryPointAsync = function() {
      if (this._activeStoryPointImpl.index === this._storyPointInfoImpls.length - 1)
        return Promise.resolve(this._activeStoryPointImpl);
      var t = this._deferred.getNewPromiseOrThrowIfBusy(), n = un.ApiServiceRegistry.get(this._registryId).getService(
        "story-activation-service"
        /* StoryActivation */
      );
      return n.activateNextStoryPointAsync(), t;
    }, e.prototype.activatePreviousStoryPointAsync = function() {
      if (this._activeStoryPointImpl.index === 0)
        return Promise.resolve(this._activeStoryPointImpl);
      var t = this._deferred.getNewPromiseOrThrowIfBusy(), n = un.ApiServiceRegistry.get(this._registryId).getService(
        "story-activation-service"
        /* StoryActivation */
      );
      return n.activatePreviousStoryPointAsync(), t;
    }, e.prototype.activateStoryPointAsync = function(t) {
      if (ln.ErrorHelpers.verifyParameter(t, "index"), ln.ErrorHelpers.verifyParameterType(t, "number", "index"), t < 0 || t >= this._storyPointInfoImpls.length)
        throw new qi.TableauError(Xi.EmbeddingErrorCodes.IndexOutOfRange, "The index passed to this command is out of range.");
      if (t === this._activeStoryPointImpl.index)
        return Promise.resolve(this._activeStoryPointImpl);
      var n = this._deferred.getNewPromiseOrThrowIfBusy(), a = un.ApiServiceRegistry.get(this._registryId).getService(
        "story-activation-service"
        /* StoryActivation */
      );
      return a.activateStoryPointAsync(t), n;
    }, e.prototype.revertStoryPointAsync = function(t) {
      var n = this;
      if (ln.ErrorHelpers.verifyParameter(t, "index"), ln.ErrorHelpers.verifyParameterType(t, "number", "index"), t < 0 || t >= this._storyPointInfoImpls.length)
        throw new qi.TableauError(Xi.EmbeddingErrorCodes.IndexOutOfRange, "The index passed to this command is out of range.");
      var a = un.ApiServiceRegistry.get(this._registryId).getService(
        "story-activation-service"
        /* StoryActivation */
      );
      return a.revertStoryPointAsync(t).then(function(i) {
        n.updateStoryInfo(i.index, i);
        var o = new pu.StoryPointInfoImpl(i.caption, i.index, i.storyPointId, !1, i.updated, n);
        return o;
      });
    }, e.prototype.clearPendingPromises = function() {
      this._deferred && this._deferred.reject("All pending promises cleared");
    }, e;
  }(Hm.SheetImpl)
);
Za.StoryImpl = Bm;
var Xa = {};
Object.defineProperty(Xa, "__esModule", { value: !0 });
var Gm = (
  /** @class */
  /* @__PURE__ */ function() {
    function r() {
    }
    return r;
  }()
);
Xa.WorkbookImpl = Gm;
var cn = {}, qa = {}, eo = {};
Object.defineProperty(eo, "__esModule", { value: !0 });
var Km = (
  /** @class */
  /* @__PURE__ */ function() {
    function r(e, t) {
      this.visualIdPresModel = e, this.tupleId = t;
    }
    return r;
  }()
);
eo.TooltipTextRequestModel = Km;
var pe = {};
Object.defineProperty(pe, "__esModule", { value: !0 });
var Ym = ut, Qm = ae, Zm = Kn, Jm = (
  /** @class */
  function() {
    function r(e, t) {
      this._dispatcher = e, this._registryId = t;
    }
    return r.prototype.execute = function(e, t) {
      return this._dispatcher.execute(e, t).catch(function(n) {
        var a = n, i = Ym.InternalToExternalEnumMappings.errorCode.convert(a.errorCode, Zm.ShouldThrow.No);
        throw new Qm.TableauError(i, a.message);
      });
    }, r;
  }()
);
pe.ServiceImplBase = Jm;
var Xm = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(qa, "__esModule", { value: !0 });
var $t = V(), qm = eo, eg = pe, tg = (
  /** @class */
  function(r) {
    Xm(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "accessibility";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getTooltipTextAsync = function(t, n) {
      var a, i = new qm.TooltipTextRequestModel(t, n), o = (a = {}, a[$t.ParameterId.FunctionName] = "getTooltipTextAsync", a[$t.ParameterId.TooltipTextRequest] = i, a);
      return this.execute($t.VerbId.GetTooltipText, o).then(function(s) {
        return s.result;
      });
    }, e.prototype.leaveMarkNavigationAsync = function(t) {
      var n, a = (n = {}, n[$t.ParameterId.FunctionName] = "leaveMarkNavigationAsync", n[$t.ParameterId.VisualId] = t, n);
      return this.execute($t.VerbId.RaiseLeaveMarkNavNotification, a).then(function(i) {
      });
    }, e;
  }(eg.ServiceImplBase)
);
qa.AccessibilityServiceImpl = tg;
var to = {}, rg = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(to, "__esModule", { value: !0 });
var ng = O, ea = V(), ig = gt, ag = Fe(), og = pe, sg = (
  /** @class */
  function(r) {
    rg(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "animation-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.replayAsync = function(t) {
      var n, a = (n = {}, n[ea.ParameterId.ReplaySpeed] = 1, n);
      return ag.ErrorHelpers.verifyEnumValue(t, ng.ReplaySpeedType, "ReplaySpeedType"), a[ea.ParameterId.ReplaySpeed] = ig.ExternalToInternalEnumMappings.setReplaySpeedType.convert(t), this.execute(ea.VerbId.ReplayAnimation, a).then(function(i) {
      });
    }, e;
  }(og.ServiceImplBase)
);
to.AnimationServiceImpl = sg;
var ro = {}, Ne = {}, ri = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(Ne, "__esModule", { value: !0 });
var no = (
  /** @class */
  /* @__PURE__ */ function() {
    function r() {
    }
    return r;
  }()
);
Ne.SelectionModel = no;
var io = (
  /** @class */
  function(r) {
    ri(e, r);
    function e() {
      var t = r !== null && r.apply(this, arguments) || this;
      return t.selectValues = [], t;
    }
    return e;
  }(no)
);
Ne.ValueSelectionModel = io;
var ug = (
  /** @class */
  function(r) {
    ri(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e;
  }(io)
);
Ne.HierarchicalSelectionModel = ug;
var lg = (
  /** @class */
  function(r) {
    ri(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e;
  }(no)
);
Ne.RangeSelectionModel = lg;
var cg = (
  /** @class */
  function(r) {
    ri(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return e;
  }(io)
);
Ne.DimensionSelectionModel = cg;
var dg = (
  /** @class */
  /* @__PURE__ */ function() {
    function r() {
      this.objectIds = [];
    }
    return r;
  }()
);
Ne.TupleSelectionModel = dg;
var hg = (
  /** @class */
  /* @__PURE__ */ function() {
    function r() {
      this.hierModelArr = [], this.dimModelArr = [], this.quantModelArr = [];
    }
    return r;
  }()
);
Ne.SelectionModelsContainer = hg;
var pg = (
  /** @class */
  /* @__PURE__ */ function() {
    function r(e, t, n, a) {
      t === void 0 && (t = []), this.visualIdPresModel = e, this.tupleIds = t, this.selectOptions = n, this.tooltipContext = a;
    }
    return r;
  }()
);
Ne.SelectTuplesInteractionModel = pg;
var fg = (
  /** @class */
  /* @__PURE__ */ function() {
    function r(e, t, n, a) {
      this.visualIdPresModel = e, this.tupleId = t, this.tooltipContext = n, this.allowHoverActions = a;
    }
    return r;
  }()
);
Ne.HoverTupleInteractionModel = fg;
var vg = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(ro, "__esModule", { value: !0 });
var fu = O, Pe = V(), mg = ut, dn = Ne, vu = ae, gg = pe, yg = (
  /** @class */
  function(r) {
    vg(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "annotation-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.annotateMarkAsync = function(t, n, a) {
      var i, o = this.parseMarkSelectionIds([n]), s = { x: 0, y: 0 }, u = "<formatted-text><run>" + a + "</run></formatted-text>", l = (i = {}, i[Pe.ParameterId.FunctionName] = "annotateMarkAsync", i[Pe.ParameterId.VisualId] = t, i[Pe.ParameterId.AnnotateEnum] = Pe.AnnotateEnum.Mark, i[Pe.ParameterId.TargetPoint] = s, i[Pe.ParameterId.SelectionList] = [o.selection], i[Pe.ParameterId.FormattedText] = u, i);
      return this.execute(Pe.VerbId.CreateAnnotation, l).then(function(c) {
      });
    }, e.prototype.getAnnotationsAsync = function(t) {
      var n, a = this, i = (n = {}, n[Pe.ParameterId.FunctionName] = "getAnnotationsAsync", n[Pe.ParameterId.VisualId] = t, n);
      return this.execute(Pe.VerbId.GetAnnotations, i).then(function(o) {
        var s = o.result;
        return a.annotationFilterMap(s);
      });
    }, e.prototype.removeAnnotationAsync = function(t, n) {
      var a, i = this.parseAnnotationSelectionIds([n]), o = (a = {}, a[Pe.ParameterId.FunctionName] = "removeAnnotationAsync", a[Pe.ParameterId.VisualId] = t, a[Pe.ParameterId.SelectionList] = [i.selection], a);
      return this.execute(Pe.VerbId.RemoveAnnotation, o).then(function(s) {
      });
    }, e.prototype.parseMarkSelectionIds = function(t) {
      var n = [], a = new dn.SelectionModelsContainer();
      if (t.forEach(function(o) {
        var s = o.tupleId;
        if (s != null && s > 0)
          n.push(s.toString());
        else
          throw new vu.TableauError(fu.ErrorCodes.InternalError, "invalid tupleId");
      }), n.length !== 0) {
        var i = new dn.TupleSelectionModel();
        i.selectionType = "tuples", i.objectIds = n, a.selection = i;
      }
      return a;
    }, e.prototype.parseAnnotationSelectionIds = function(t) {
      var n = [], a = new dn.SelectionModelsContainer();
      if (t.forEach(function(o) {
        var s = o.annotationId;
        if (s != null && s >= 0)
          n.push(s.toString());
        else
          throw new vu.TableauError(fu.ErrorCodes.InternalError, "invalid annotationId");
      }), n.length !== 0) {
        var i = new dn.TupleSelectionModel();
        i.selectionType = "annotations", i.objectIds = n, a.selection = i;
      }
      return a;
    }, e.prototype.mapAnnotation = function(t) {
      return {
        annotationHTML: t.annotationText,
        annotationId: t.annotationId,
        annotationText: t.annotationPlainText,
        annotationType: mg.InternalToExternalEnumMappings.annotationType.convert(t.annotateEnum),
        tupleId: t.tupleId
      };
    }, e.prototype.annotationFilterMap = function(t) {
      var n = this, a = t.map(function(i) {
        return n.mapAnnotation(i);
      });
      return a;
    }, e;
  }(gg.ServiceImplBase)
);
ro.AnnotationServiceImpl = yg;
var ao = {}, bg = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(ao, "__esModule", { value: !0 });
var _g = O, X = V(), Sg = Ar, Ig = wr, Eg = Dr, Ag = Xn, wg = ae, Tg = pe, Pg = (
  /** @class */
  function(r) {
    bg(e, r);
    function e(t, n) {
      return r.call(this, t, n) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "data-source-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.refreshAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "refreshAsync", n[X.ParameterId.DeltaTimeMs] = 0, n[X.ParameterId.ShouldRefreshDS] = !0, n);
      return t && (a[X.ParameterId.DataSourceId] = t), this.execute(X.VerbId.RefreshDataSource, a).then(function(i) {
      });
    }, e.prototype.getActiveTablesAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "getActiveTablesAsync", n[X.ParameterId.DataSourceId] = t, n);
      return this.execute(X.VerbId.GetActiveTables, a).then(function(i) {
        var o = i.result;
        if (o.tables.length === 0)
          throw new wg.TableauError(_g.ErrorCodes.UnsupportedMethodForDataSourceType, "getActiveTables is not supported for: " + t);
        return o.tables;
      });
    }, e.prototype.getDataSourcesAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "getDataSourcesAsync", n[X.ParameterId.VisualId] = t, n);
      return this.execute(X.VerbId.GetDataSources, a).then(function(i) {
        var o = i.result;
        return o;
      });
    }, e.prototype.getAllDataSourcesAsync = function() {
      var t, n = (t = {}, t[X.ParameterId.FunctionName] = "getAllDataSourcesAsync", t);
      return this.execute(X.VerbId.GetAllDataSources, n).then(function(a) {
        var i = a.result;
        return i;
      });
    }, e.prototype.getConnectionSummariesAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "getConnectionSummariesAsync", n[X.ParameterId.DataSourceId] = t, n);
      return this.execute(X.VerbId.GetConnectionDescriptionSummaries, a).then(function(i) {
        var o = i.result;
        return o;
      });
    }, e.prototype.getFieldAsync = function(t) {
      var n, a = this, i = X.VerbId.GetFieldAndDataSource, o = (n = {}, n[X.ParameterId.FunctionName] = "getFieldAsync", n[X.ParameterId.FieldId] = t, n);
      return this.execute(i, o).then(function(s) {
        var u = s.result[X.ParameterId.DataSource], l = s.result[X.ParameterId.Field];
        return a.convertField(l, a.convertDataSource(u));
      });
    }, e.prototype.getLogicalTablesAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "getLogicalTablesAsync", n[X.ParameterId.DataSourceId] = t, n);
      return this.execute(X.VerbId.GetLogicalTables, a).then(function(i) {
        return i.result;
      });
    }, e.prototype.getUnderlyingTablesAsync = function(t) {
      var n, a = (n = {}, n[X.ParameterId.FunctionName] = "getUnderlyingTablesAsync", n[X.ParameterId.VisualId] = t, n);
      return this.execute(X.VerbId.GetUnderlyingTables, a).then(function(i) {
        return i.result;
      });
    }, e.prototype.convertField = function(t, n) {
      return new Ig.Field(new Ag.FieldImpl(t, n));
    }, e.prototype.convertDataSource = function(t) {
      return new Sg.DataSource(new Eg.DataSourceImpl(t, this._registryId));
    }, e;
  }(Tg.ServiceImplBase)
);
ao.DataSourceServiceImpl = Pg;
var oo = {}, ni = {};
Object.defineProperty(ni, "__esModule", { value: !0 });
var $ = V(), j = O, ta = ae, Cg = (
  /** @class */
  function() {
    function r() {
    }
    return r.updateInternalExportPDFOptions = function(e, t, n) {
      e.currentSheet = n[0], this.updateExportLayoutOptions(e, t), this.updateSheetOptions(e, n);
    }, r.updateExportLayoutOptions = function(e, t) {
      var n = e.exportLayoutOptions;
      switch (n.imageHeight = this.DefaultLayoutOptions.imageHeight, n.imageWidth = this.DefaultLayoutOptions.imageWidth, t.orientation) {
        case j.PrintOrientation.Landscape:
          n.pageOrientationOption = $.PageOrientation.Landscape;
          break;
        case j.PrintOrientation.Portrait:
          n.pageOrientationOption = $.PageOrientation.Portrait;
          break;
        default:
          throw new ta.TableauError(j.SharedErrorCodes.InternalError, "invalid orientation for ExportPDFOption");
      }
      switch (t.pageSize) {
        case j.PrintPageSize.A3:
          n.pageSizeOption = $.PageSizeOption.A3;
          break;
        case j.PrintPageSize.A4:
          n.pageSizeOption = $.PageSizeOption.A4;
          break;
        case j.PrintPageSize.A5:
          n.pageSizeOption = $.PageSizeOption.A5;
          break;
        case j.PrintPageSize.B4:
          n.pageSizeOption = $.PageSizeOption.B4;
          break;
        case j.PrintPageSize.B5:
          n.pageSizeOption = $.PageSizeOption.B5;
          break;
        case j.PrintPageSize.Executive:
          n.pageSizeOption = $.PageSizeOption.Executive;
          break;
        case j.PrintPageSize.Folio:
          n.pageSizeOption = $.PageSizeOption.Folio;
          break;
        case j.PrintPageSize.Ledger:
          n.pageSizeOption = $.PageSizeOption.Ledger;
          break;
        case j.PrintPageSize.Legal:
          n.pageSizeOption = $.PageSizeOption.Legal;
          break;
        case j.PrintPageSize.Letter:
          n.pageSizeOption = $.PageSizeOption.Letter;
          break;
        case j.PrintPageSize.Note:
          n.pageSizeOption = $.PageSizeOption.Note;
          break;
        case j.PrintPageSize.Quarto:
          n.pageSizeOption = $.PageSizeOption.Quarto;
          break;
        case j.PrintPageSize.Statement:
          n.pageSizeOption = $.PageSizeOption.Statement;
          break;
        case j.PrintPageSize.Tabloid:
          n.pageSizeOption = $.PageSizeOption.Tabloid;
          break;
        case j.PrintPageSize.Unspecified:
          n.pageSizeOption = $.PageSizeOption.Unspecified;
          break;
        default:
          throw new ta.TableauError(j.SharedErrorCodes.InternalError, "invalid pageSize for ExportPDFOption");
      }
      switch (t.scaling) {
        case j.PrintScaling.AtMost1PageHigh:
          this.setFitAndScaleValues(n, $.FitPages.FitOneHigh);
          break;
        case j.PrintScaling.AtMost1PageWide:
          this.setFitAndScaleValues(n, $.FitPages.FitOneWide);
          break;
        case j.PrintScaling.AtMost2PagesHigh:
          this.setFitAndScaleValues(n, $.FitPages.FitTwoHigh);
          break;
        case j.PrintScaling.AtMost2PagesWide:
          this.setFitAndScaleValues(n, $.FitPages.FitTwoWide);
          break;
        case j.PrintScaling.Automatic:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePctAuto);
          break;
        case j.PrintScaling.Perc100:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct100);
          break;
        case j.PrintScaling.Perc200:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct200);
          break;
        case j.PrintScaling.Perc25:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct25);
          break;
        case j.PrintScaling.Perc400:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct400);
          break;
        case j.PrintScaling.Perc50:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct50);
          break;
        case j.PrintScaling.Perc60:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct60);
          break;
        case j.PrintScaling.Perc75:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct75);
          break;
        case j.PrintScaling.Perc80:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct80);
          break;
        case j.PrintScaling.Perc90:
          this.setFitAndScaleValues(n, $.PageScalingOption.ScalePct90);
          break;
        default:
          throw new ta.TableauError(j.SharedErrorCodes.InternalError, "invalid scaling for ExportPDFOption");
      }
    }, r.updateSheetOptions = function(e, t) {
      for (var n = e.exportLayoutOptions, a = e.sheetOptions, i = 0, o = a; i < o.length; i++) {
        var s = o[i];
        s.exportLayoutOptions = n, s.isSelected = t.includes(s.sheet);
      }
    }, r.setFitAndScaleValues = function(e, t) {
      var n, a = this.DefaultLayoutOptions, i = a.pageFitHorizontal, o = a.pageFitVertical, s = a.pageScaleMode, u = a.pageScalePercent, l = this.fitRegex.exec(t), c = this.pctRegex.exec(t);
      l ? (n = l.slice(1).map(function(d) {
        return Number(d);
      }), i = n[0], o = n[1], s = $.ScaleMode.ScaleFitPages) : c && (u = c.slice(1).map(function(d) {
        return Number(d);
      })[0], s = $.ScaleMode.ScalePercentage), e.pageFitHorizontal = i, e.pageFitVertical = o, e.pageScaleMode = s, e.pageScalePercent = u;
    }, r.DefaultDataOptions = {
      ignoreAliases: !1,
      columnsToIncludeById: []
    }, r.DefaultPDFOptions = {
      scaling: j.PrintScaling.Automatic,
      pageSize: j.PrintPageSize.Letter,
      orientation: j.PrintOrientation.Portrait
    }, r.DefaultLayoutOptions = {
      imageHeight: 0,
      imageWidth: 0,
      pageFitHorizontal: 1,
      pageFitVertical: 1,
      pageOrientationOption: $.PageOrientation.Portrait,
      pageScaleMode: $.ScaleMode.ScaleAuto,
      pageScalePercent: 100,
      pageSizeOption: $.PageSizeOption.Letter
    }, r.fitRegex = new RegExp("fit([0-9]+)x([0-9]+)"), r.pctRegex = new RegExp("pct([0-9]+)"), r;
  }()
);
ni.ExportHelpers = Cg;
var Dg = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}(), mu = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
}, gu = w && w.__generator || function(r, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1) throw i[1];
    return i[1];
  }, trys: [], ops: [] }, n, a, i, o;
  return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function s(l) {
    return function(c) {
      return u([l, c]);
    };
  }
  function u(l) {
    if (n) throw new TypeError("Generator is already executing.");
    for (; t; ) try {
      if (n = 1, a && (i = l[0] & 2 ? a.return : l[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, l[1])).done) return i;
      switch (a = 0, i && (l = [l[0] & 2, i.value]), l[0]) {
        case 0:
        case 1:
          i = l;
          break;
        case 4:
          return t.label++, { value: l[1], done: !1 };
        case 5:
          t.label++, a = l[1], l = [0];
          continue;
        case 7:
          l = t.ops.pop(), t.trys.pop();
          continue;
        default:
          if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (l[0] === 6 || l[0] === 2)) {
            t = 0;
            continue;
          }
          if (l[0] === 3 && (!i || l[1] > i[0] && l[1] < i[3])) {
            t.label = l[1];
            break;
          }
          if (l[0] === 6 && t.label < i[1]) {
            t.label = i[1], i = l;
            break;
          }
          if (i && t.label < i[2]) {
            t.label = i[2], t.ops.push(l);
            break;
          }
          i[2] && t.ops.pop(), t.trys.pop();
          continue;
      }
      l = e.call(r, t);
    } catch (c) {
      l = [6, c], a = 0;
    } finally {
      n = i = 0;
    }
    if (l[0] & 5) throw l[1];
    return { value: l[0] ? l[1] : void 0, done: !0 };
  }
};
Object.defineProperty(oo, "__esModule", { value: !0 });
var re = V(), it = O, kg = gt, Og = ni, Ut = Fe(), Lt = ae, Mg = pe, Fg = (
  /** @class */
  function(r) {
    Dg(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "export-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getExportCrosstabSheetMapAsync = function(t) {
      var n, a = re.VerbId.GetExportCrosstabSheetMap, i = (n = {}, n[re.ParameterId.FunctionName] = "getExportCrosstabSheetMapAsync", n[re.ParameterId.CurrentSheetType] = kg.ExternalToInternalEnumMappings.sheetType.convert(t), n);
      return this.execute(a, i).then(function(o) {
        var s = o.result;
        return s;
      });
    }, e.prototype.exportCrosstabAsync = function(t, n, a, i) {
      return mu(this, void 0, void 0, function() {
        var o, s, u, l;
        return gu(this, function(c) {
          switch (c.label) {
            case 0:
              return Ut.ErrorHelpers.verifySheetName(a, t), Ut.ErrorHelpers.verifyEnumValue(n, it.CrosstabFileFormat, "CrosstabFileFormat"), [4, this.getExportCrosstabSheetMapAsync(i)];
            case 1:
              if (o = c.sent(), !o[t])
                throw new Lt.TableauError(it.SharedErrorCodes.InternalError, "missing sheet doc id from sheetMap");
              switch (s = (l = {}, l[re.ParameterId.FunctionName] = "exportCrosstabAsync", l[re.ParameterId.SheetIdentifier] = o[t], l[re.ParameterId.SendNotifications] = !0, l), n) {
                case it.CrosstabFileFormat.CSV:
                  u = re.VerbId.ExportCrosstabCsvDownload, s[re.ParameterId.UseTabDelimiters] = !0;
                  break;
                case it.CrosstabFileFormat.Excel:
                  u = re.VerbId.ExportCrosstabExcelDownload;
                  break;
                default:
                  throw new Lt.TableauError(it.SharedErrorCodes.InternalError, "unsupported Crosstab file format.");
              }
              return [2, this.execute(u, s).then(function(d) {
                var y = d.result;
                return y;
              }).catch(function() {
                throw new Lt.TableauError(it.SharedErrorCodes.CrosstabCreationError, "An unexpected error occurred while generating the document.");
              })];
          }
        });
      });
    }, e.prototype.exportDataAsync = function(t, n) {
      var a, i;
      Ut.ErrorHelpers.verifyExportDataOptions(n);
      var o = new Set(n.columnsToIncludeById), s = Array.from(o), u = re.VerbId.ExportDataDownload, l = (a = {}, a[re.ParameterId.FunctionName] = "exportDataAsync", a[re.ParameterId.VisualId] = t, a[re.ParameterId.IgnoreAliases] = (i = n.ignoreAliases, i ?? !1), a[re.ParameterId.ColumnsToIncludeById] = s, a);
      return this.execute(u, l).then(function() {
      }).catch(function() {
        throw new Lt.TableauError(it.SharedErrorCodes.DataCreationError, "An unexpected error occurred while generating the document.");
      });
    }, e.prototype.exportPowerPointAsync = function(t, n) {
      var a;
      Ut.ErrorHelpers.verifySheetNamesForPDFAndPPT(t, n);
      var i = re.VerbId.ExportPowerpointDownload, o = (a = {}, a[re.ParameterId.FunctionName] = "exportPowerPointAsync", a[re.ParameterId.ExportOriginUrl] = "", a[re.ParameterId.SelectedSheetNames] = t, a);
      return this.execute(i, o).then(function(s) {
        var u = s.result;
        return u;
      }).catch(function() {
        throw new Lt.TableauError(it.SharedErrorCodes.PowerPointCreationError, "An error occured while attempting to generate the PowerPoint file.");
      });
    }, e.prototype.exportPDFAsync = function(t, n, a) {
      return mu(this, void 0, void 0, function() {
        var i, o, s, u;
        return gu(this, function(l) {
          switch (l.label) {
            case 0:
              return Ut.ErrorHelpers.verifyExportPDFOptions(n), Ut.ErrorHelpers.verifySheetNamesForPDFAndPPT(t, a), [4, this.getExportPDFOptionsAsync()];
            case 1:
              return i = l.sent(), Og.ExportHelpers.updateInternalExportPDFOptions(i, n, t), o = re.VerbId.ExportPdfDownload, s = (u = {}, u[re.ParameterId.FunctionName] = "exportPDFAsync", u[re.ParameterId.ExportPdfOptions] = i, u), [2, this.execute(o, s).then(function(c) {
                var d = c.result;
                return d;
              }).catch(function() {
                throw new Lt.TableauError(it.SharedErrorCodes.PDFCreationError, "Unable to create PDF because something went wrong. Try again.");
              })];
          }
        });
      });
    }, e.prototype.getExportPDFOptionsAsync = function() {
      var t, n = re.VerbId.GetExportPdfOptions, a = (t = {}, t[re.ParameterId.FunctionName] = "getExportPdfOptionsAsync", t);
      return this.execute(n, a).then(function(i) {
        var o = i.result;
        return o;
      });
    }, e;
  }(Mg.ServiceImplBase)
);
oo.ExportServiceImpl = Fg;
var so = {}, Rg = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(so, "__esModule", { value: !0 });
var ge = V(), xg = pe, Vg = (
  /** @class */
  function(r) {
    Rg(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "external-context-menu-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.appendContextMenuAsync = function(t, n, a) {
      var i, o = ge.VerbId.AppendExternalMenuItem, s = (i = {}, i[ge.ParameterId.FunctionName] = "appendContextMenuAsync", i[ge.ParameterId.WorksheetName] = t, i[ge.ParameterId.ExternalMenuItemDisplayName] = a.displayName, i);
      return this.execute(o, s).then(function(u) {
        var l = u.result;
        return l;
      });
    }, e.prototype.removeContextMenuAsync = function(t, n, a) {
      var i, o = ge.VerbId.RemoveExternalMenuItem, s = (i = {}, i[ge.ParameterId.FunctionName] = "removeContextMenuAsync", i[ge.ParameterId.WorksheetName] = t, i[ge.ParameterId.ExternalMenuItemId] = a, i);
      return this.execute(o, s).then(function(u) {
      });
    }, e.prototype.executeContextMenuAsync = function(t, n, a) {
      var i, o = ge.VerbId.ExecuteExternalMenuItem, s = (i = {}, i[ge.ParameterId.FunctionName] = "executeContextMenuAsync", i[ge.ParameterId.WorksheetName] = t, i[ge.ParameterId.ExternalMenuItemId] = a, i);
      return this.execute(o, s).then(function(u) {
      });
    }, e.prototype.renameContextMenuAsync = function(t, n, a, i) {
      var o, s = ge.VerbId.RenameExternalMenu, u = (o = {}, o[ge.ParameterId.FunctionName] = "renameContextMenuAsync", o[ge.ParameterId.WorksheetName] = t, o[ge.ParameterId.ExternalMenuHeader] = a, o[ge.ParameterId.ExternalMenuDescription] = i, o);
      return this.execute(s, u).then(function(l) {
      });
    }, e;
  }(xg.ServiceImplBase)
);
so.ExternalContextMenuServiceImpl = Vg;
var hn = {}, Be = {}, ii = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(Be, "__esModule", { value: !0 });
var Vn = O, _r = je, uo = Fe(), Mr = (
  /** @class */
  function() {
    function r(e, t, n, a, i) {
      this._worksheetName = e, this._fieldName = t, this._filterType = n, this._fieldId = a, this._registryId = i;
    }
    return Object.defineProperty(r.prototype, "worksheetName", {
      get: function() {
        return this._worksheetName;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fieldName", {
      get: function() {
        return this._fieldName;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "fieldId", {
      get: function() {
        return this._fieldId;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "filterType", {
      get: function() {
        return this._filterType;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.getFieldAsync = function() {
      var e = _r.ApiServiceRegistry.get(this._registryId).getService(
        "data-source-service"
        /* DataSourceService */
      );
      return e.getFieldAsync(this._fieldId);
    }, r.prototype.getAppliedWorksheetsAsync = function() {
      var e = _r.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return e.getAppliedWorksheetsAsync(this._worksheetName, this._fieldId);
    }, r.prototype.setAppliedWorksheetsAsync = function(e) {
      uo.ErrorHelpers.verifyParameter(e, "applyToWorksheets");
      var t = new Set(e), n = _r.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return n.setAppliedWorksheetsAsync(this._worksheetName, this._fieldName, this._fieldId, Array.from(t));
    }, r;
  }()
);
Be.Filter = Mr;
var zg = (
  /** @class */
  function(r) {
    ii(e, r);
    function e(t, n, a, i, o, s, u, l) {
      var c = r.call(this, t, n, i, a, o) || this;
      return c._appliedValues = s, c._isExcludeMode = u, c._isAllSelected = l, c;
    }
    return Object.defineProperty(e.prototype, "isAllSelected", {
      get: function() {
        return this._isAllSelected;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "appliedValues", {
      get: function() {
        return this._appliedValues;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "isExcludeMode", {
      get: function() {
        return this._isExcludeMode;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getDomainAsync = function(t) {
      t || (t = Vn.FilterDomainType.Relevant), uo.ErrorHelpers.verifyEnumValue(t, Vn.FilterDomainType, "FilterDomainType");
      var n = _r.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return n.getCategoricalDomainAsync(this._worksheetName, this._fieldId, t);
    }, e;
  }(Mr)
);
Be.CategoricalFilter = zg;
var jg = (
  /** @class */
  function() {
    function r(e, t, n) {
      this._value = e, this._hierarchicalPath = t, this._level = n;
    }
    return Object.defineProperty(r.prototype, "value", {
      get: function() {
        return this._value;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "hierarchicalPath", {
      get: function() {
        return this._hierarchicalPath;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "level", {
      get: function() {
        return this._level;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Be.HierarchicalDataValue = jg;
var Ng = (
  /** @class */
  function() {
    function r(e, t) {
      this._name = e, this._levelSelectionState = t;
    }
    return Object.defineProperty(r.prototype, "name", {
      get: function() {
        return this._name;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "levelSelectionState", {
      get: function() {
        return this._levelSelectionState;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Be.HierarchicalLevelDetail = Ng;
var $g = (
  /** @class */
  function(r) {
    ii(e, r);
    function e(t, n, a, i, o, s, u, l, c, d, y) {
      var f = r.call(this, t, n, i, a, o) || this;
      return f._dimensionName = s, f._hierarchyCaption = u, f._numberOfLevels = l, f._levelDetails = c, f._appliedValues = d, f._isAllSelected = y, f;
    }
    return e.prototype.getDomainAsync = function(t) {
      throw new Error("Method not implemented.");
    }, Object.defineProperty(e.prototype, "dimensionName", {
      get: function() {
        return this._dimensionName;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "hierarchyCaption", {
      get: function() {
        return this._hierarchyCaption;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "numberOfLevels", {
      get: function() {
        return this._numberOfLevels;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "levelDetails", {
      get: function() {
        return this._levelDetails;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "isAllSelected", {
      get: function() {
        return this._isAllSelected;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "appliedValues", {
      get: function() {
        return this._appliedValues;
      },
      enumerable: !0,
      configurable: !0
    }), e;
  }(Mr)
);
Be.HierarchicalFilter = $g;
var Ug = (
  /** @class */
  function(r) {
    ii(e, r);
    function e(t, n, a, i, o, s, u, l) {
      var c = r.call(this, t, n, i, a, o) || this;
      return c._min = s, c._max = u, c._includeNullValues = l, c;
    }
    return Object.defineProperty(e.prototype, "minValue", {
      get: function() {
        return this._min;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "maxValue", {
      get: function() {
        return this._max;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "includeNullValues", {
      get: function() {
        return this._includeNullValues;
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getDomainAsync = function(t) {
      var n = _r.ApiServiceRegistry.get(this._registryId).getService(
        "filter-service"
        /* Filter */
      );
      return t || (t = Vn.FilterDomainType.Relevant), uo.ErrorHelpers.verifyEnumValue(t, Vn.FilterDomainType, "FilterDomainType"), n.getRangeDomainAsync(this._worksheetName, this._fieldId, t);
    }, e;
  }(Mr)
);
Be.RangeFilter = Ug;
var Lg = (
  /** @class */
  function(r) {
    ii(e, r);
    function e(t, n, a, i, o, s, u, l, c) {
      var d = r.call(this, t, n, i, a, o) || this;
      return d._anchorDate = s, d._periodType = u, d._rangeType = l, d._rangeN = c, d;
    }
    return Object.defineProperty(e.prototype, "anchorDate", {
      get: function() {
        return this._anchorDate;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "periodType", {
      get: function() {
        return this._periodType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "rangeType", {
      get: function() {
        return this._rangeType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(e.prototype, "rangeN", {
      get: function() {
        return this._rangeN;
      },
      enumerable: !0,
      configurable: !0
    }), e;
  }(Mr)
);
Be.RelativeDateFilter = Lg;
var Wg = (
  /** @class */
  function() {
    function r(e, t) {
      this._values = e, this._domainType = t;
    }
    return Object.defineProperty(r.prototype, "values", {
      get: function() {
        return this._values;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "type", {
      get: function() {
        return this._domainType;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Be.CategoricalDomain = Wg;
var Hg = (
  /** @class */
  function() {
    function r(e, t, n) {
      this._min = e, this._max = t, this._domainType = n;
    }
    return Object.defineProperty(r.prototype, "type", {
      get: function() {
        return this._domainType;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "min", {
      get: function() {
        return this._min;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "max", {
      get: function() {
        return this._max;
      },
      enumerable: !0,
      configurable: !0
    }), r;
  }()
);
Be.RangeDomain = Hg;
var yu;
function Bg() {
  if (yu) return hn;
  yu = 1;
  var r = w && w.__extends || /* @__PURE__ */ function() {
    var v = function(h, p) {
      return v = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(b, g) {
        b.__proto__ = g;
      } || function(b, g) {
        for (var _ in g) g.hasOwnProperty(_) && (b[_] = g[_]);
      }, v(h, p);
    };
    return function(h, p) {
      v(h, p);
      function b() {
        this.constructor = h;
      }
      h.prototype = p === null ? Object.create(p) : (b.prototype = p.prototype, new b());
    };
  }(), e = w && w.__awaiter || function(v, h, p, b) {
    function g(_) {
      return _ instanceof p ? _ : new p(function(S) {
        S(_);
      });
    }
    return new (p || (p = Promise))(function(_, S) {
      function P(F) {
        try {
          A(b.next(F));
        } catch (ee) {
          S(ee);
        }
      }
      function T(F) {
        try {
          A(b.throw(F));
        } catch (ee) {
          S(ee);
        }
      }
      function A(F) {
        F.done ? _(F.value) : g(F.value).then(P, T);
      }
      A((b = b.apply(v, h || [])).next());
    });
  }, t = w && w.__generator || function(v, h) {
    var p = { label: 0, sent: function() {
      if (_[0] & 1) throw _[1];
      return _[1];
    }, trys: [], ops: [] }, b, g, _, S;
    return S = { next: P(0), throw: P(1), return: P(2) }, typeof Symbol == "function" && (S[Symbol.iterator] = function() {
      return this;
    }), S;
    function P(A) {
      return function(F) {
        return T([A, F]);
      };
    }
    function T(A) {
      if (b) throw new TypeError("Generator is already executing.");
      for (; p; ) try {
        if (b = 1, g && (_ = A[0] & 2 ? g.return : A[0] ? g.throw || ((_ = g.return) && _.call(g), 0) : g.next) && !(_ = _.call(g, A[1])).done) return _;
        switch (g = 0, _ && (A = [A[0] & 2, _.value]), A[0]) {
          case 0:
          case 1:
            _ = A;
            break;
          case 4:
            return p.label++, { value: A[1], done: !1 };
          case 5:
            p.label++, g = A[1], A = [0];
            continue;
          case 7:
            A = p.ops.pop(), p.trys.pop();
            continue;
          default:
            if (_ = p.trys, !(_ = _.length > 0 && _[_.length - 1]) && (A[0] === 6 || A[0] === 2)) {
              p = 0;
              continue;
            }
            if (A[0] === 3 && (!_ || A[1] > _[0] && A[1] < _[3])) {
              p.label = A[1];
              break;
            }
            if (A[0] === 6 && p.label < _[1]) {
              p.label = _[1], _ = A;
              break;
            }
            if (_ && p.label < _[2]) {
              p.label = _[2], p.ops.push(A);
              break;
            }
            _[2] && p.ops.pop(), p.trys.pop();
            continue;
        }
        A = h.call(v, p);
      } catch (F) {
        A = [6, F], g = 0;
      } finally {
        b = _ = 0;
      }
      if (A[0] & 5) throw A[1];
      return { value: A[0] ? A[1] : void 0, done: !0 };
    }
  };
  Object.defineProperty(hn, "__esModule", { value: !0 });
  var n = O, a = V(), i = V(), o = G(), s = gt, u = ut, l = Be, c = kr, d = Qt(), y = pe, f = (
    /** @class */
    function(v) {
      r(h, v);
      function h() {
        return v !== null && v.apply(this, arguments) || this;
      }
      return Object.defineProperty(h.prototype, "serviceName", {
        get: function() {
          return "filter-service";
        },
        enumerable: !0,
        configurable: !0
      }), h.prototype.applyFilterAsync = function(p, b, g, _, S) {
        var P, T = i.VerbId.ApplyCategoricalFilter, A = (P = {}, P[i.ParameterId.FunctionName] = "applyFilterAsync", P);
        if (A[i.ParameterId.VisualId] = p, A[i.ParameterId.FieldName] = b, !Array.isArray(g))
          throw new o.TableauError(n.ErrorCodes.InvalidParameter, "values parameter for applyFilterAsync must be an array");
        return A[i.ParameterId.FilterValues] = g, A[i.ParameterId.FilterUpdateType] = s.ExternalToInternalEnumMappings.filterUpdateType.convert(_), A[i.ParameterId.IsExcludeMode] = S === void 0 || S.isExcludeMode === void 0 ? !1 : S.isExcludeMode, this.execute(T, A).then(function(F) {
          return b;
        });
      }, h.prototype.applyRangeFilterAsync = function(p, b, g) {
        var _, S = this, P = i.VerbId.ApplyRangeFilter, T = (_ = {}, _[i.ParameterId.FunctionName] = "applyRangeFilterAsync", _);
        if (g.min !== void 0 && g.min !== null) {
          var A = void 0;
          g.min instanceof Date ? A = d.Param.serializeDateForPlatform(g.min) : A = g.min, T[i.ParameterId.FilterRangeMin] = A;
        }
        if (g.max !== void 0 && g.max !== null) {
          var F = void 0;
          g.max instanceof Date ? F = d.Param.serializeDateForPlatform(g.max) : F = g.max, T[i.ParameterId.FilterRangeMax] = F;
        }
        return g.nullOption && (T[i.ParameterId.FilterRangeNullOption] = s.ExternalToInternalEnumMappings.nullOptions.convert(g.nullOption)), T[i.ParameterId.FieldName] = b, T[i.ParameterId.VisualId] = p, this.execute(P, T).then(function(ee) {
          return S.apiFilterHandlerCheckForCommandError(ee.result), b;
        });
      }, h.prototype.applyHierarchicalFilterAsync = function(p, b, g, _, S) {
        var P, T = i.VerbId.HierarchicalFilter, A = (P = {}, P[i.ParameterId.FunctionName] = "applyHierarchicalFilterAsync", P);
        A[i.ParameterId.VisualId] = p, A[i.ParameterId.FieldName] = b;
        var F = g.levels;
        return Array.isArray(F) && F.length > 0 ? A[i.ParameterId.FilterLevels] = F : g.length > 0 ? A[i.ParameterId.FilterValues] = g : A[i.ParameterId.FilterLevels] = [], A[i.ParameterId.FilterUpdateType] = s.ExternalToInternalEnumMappings.filterUpdateType.convert(_), A[i.ParameterId.IsExcludeMode] = S && !!S.isExcludeMode, this.execute(T, A).then(function(ee) {
          return b;
        });
      }, h.prototype.clearFilterAsync = function(p, b) {
        var g, _ = i.VerbId.ClearFilter, S = (g = {}, g[i.ParameterId.FunctionName] = "clearFilterAsync", g);
        return S[i.ParameterId.VisualId] = p, S[i.ParameterId.FieldName] = b, this.execute(_, S).then(function(P) {
          return b;
        });
      }, h.prototype.applyRelativeDateFilterAsync = function(p, b, g) {
        var _, S = i.VerbId.ApplyRelativeDateFilter, P = (_ = {}, _[i.ParameterId.FunctionName] = "applyRelativeDateFilterAsync", _);
        if (P[i.ParameterId.VisualId] = p, P[i.ParameterId.FieldName] = b, P[i.ParameterId.PeriodType] = s.ExternalToInternalEnumMappings.periodType.convert(g.periodType), P[i.ParameterId.DateRangeType] = s.ExternalToInternalEnumMappings.dateRangeType.convert(g.rangeType), g.rangeType === n.DateRangeType.LastN || g.rangeType === n.DateRangeType.NextN) {
          if (g.rangeN === void 0 || g.rangeN === null)
            throw new o.TableauError(n.EmbeddingErrorCodes.MissingRangeNForRelativeDateFilters, "Missing rangeN field for a relative date filter of LASTN or NEXTN.");
          P[i.ParameterId.RangeN] = g.rangeN;
        }
        return g.anchorDate !== void 0 && g.anchorDate !== null && (P[i.ParameterId.AnchorDate] = this.convertAnchorDate(g.anchorDate)), this.execute(S, P).then(function(T) {
          return T.result;
        });
      }, h.prototype.getFiltersAsync = function(p) {
        var b, g = this, _ = i.VerbId.GetFilters, S = (b = {}, b[i.ParameterId.FunctionName] = "getFiltersAsync", b);
        return S[i.ParameterId.VisualId] = p, this.execute(_, S).then(function(P) {
          var T = P.result;
          return g.convertDomainFilters(T);
        });
      }, h.prototype.getCategoricalDomainAsync = function(p, b, g) {
        var _, S = this, P = i.VerbId.GetCategoricalDomain, T = (_ = {}, _[i.ParameterId.FunctionName] = "getCategoricalDomainAsync", _);
        return T[i.ParameterId.VisualId] = {
          worksheet: p
        }, T[i.ParameterId.FieldId] = b, T[i.ParameterId.DomainType] = s.ExternalToInternalEnumMappings.filterDomainType.convert(g), this.execute(P, T).then(function(A) {
          var F = A.result;
          return S.convertCategoricalDomain(F, g);
        });
      }, h.prototype.getRangeDomainAsync = function(p, b, g) {
        var _, S = this, P = i.VerbId.GetRangeDomain, T = (_ = {}, _[i.ParameterId.FunctionName] = "getRangeDomainAsync", _);
        return T[i.ParameterId.VisualId] = {
          worksheet: p
        }, T[i.ParameterId.FieldId] = b, T[i.ParameterId.DomainType] = s.ExternalToInternalEnumMappings.filterDomainType.convert(g), this.execute(P, T).then(function(A) {
          var F = A.result;
          return S.convertRangeDomain(F, g);
        });
      }, h.prototype.getDashboardFiltersAsync = function() {
        var p, b = this, g = i.VerbId.GetDashboardFilters, _ = (p = {}, p[i.ParameterId.FunctionName] = "getDashboardFiltersAsync", p);
        return this.execute(g, _).then(function(S) {
          var P = S.result;
          return b.convertDomainFilters(P);
        });
      }, h.prototype.applyDashboardFilterAsync = function(p, b, g, _) {
        var S, P = i.VerbId.DashboardCategoricalFilter, T = (S = {}, S[i.ParameterId.FunctionName] = "applyDashboardFilterAsync", S);
        return T[i.ParameterId.FieldName] = p, T[i.ParameterId.FilterValues] = b, T[i.ParameterId.FilterUpdateType] = s.ExternalToInternalEnumMappings.filterUpdateType.convert(g), T[i.ParameterId.IsExcludeMode] = _ && !!_.isExcludeMode, this.execute(P, T).then(function(A) {
          return A.result;
        });
      }, h.prototype.getAppliedWorksheetsAsync = function(p, b) {
        var g;
        return e(this, void 0, void 0, function() {
          var _, S;
          return t(this, function(P) {
            switch (P.label) {
              case 0:
                return [4, this.executeGetAppliedWorksheets(p, b, "getAppliedWorksheetsAsync")];
              case 1:
                return _ = P.sent(), S = [], (g = _.worksheets) === null || g === void 0 || g.map(function(T) {
                  T.isSelected && S.push(T.worksheetName);
                }), [2, S];
            }
          });
        });
      }, h.prototype.setAppliedWorksheetsAsync = function(p, b, g, _) {
        return e(this, void 0, void 0, function() {
          var S, P, T, A, F;
          return t(this, function(ee) {
            switch (ee.label) {
              case 0:
                return [4, this.executeGetAppliedWorksheets(p, g, "getAppliedWorksheetsAsyncInternal")];
              case 1:
                if (S = ee.sent(), !S || !S.worksheets)
                  throw new o.TableauError(n.SharedErrorCodes.InternalError, "This filter does not apply to multiple worksheets");
                if (P = [], T = "", S.worksheets.forEach(function(oe) {
                  oe.isActive && (T = oe.worksheetName), (oe.isSelected || oe.isEnabled) && P.push(oe.worksheetName);
                }), T === "")
                  throw new o.TableauError(n.SharedErrorCodes.InternalError, "No active worksheet");
                if (!_.includes(T))
                  throw new o.TableauError(n.SharedErrorCodes.InternalError, T + " must be included in the applied worksheets");
                return _.forEach(function(oe) {
                  if (!P.includes(oe))
                    throw new o.TableauError(n.SharedErrorCodes.InternalError, "The field " + b + " isn't applicable to the worksheet " + oe);
                }), A = i.VerbId.ChangeSharedFilter, F = {}, F[i.ParameterId.FunctionName] = "setAppliedWorksheetsAsync", F[i.ParameterId.VisualId] = {
                  worksheet: p
                }, F[i.ParameterId.FieldId] = g, F[i.ParameterId.SharedFilterSheets] = _, [2, this.execute(A, F).then(function(oe) {
                  return _;
                })];
            }
          });
        });
      }, h.prototype.executeGetAppliedWorksheets = function(p, b, g) {
        var _ = i.VerbId.GetSharedFilter, S = {};
        return S[i.ParameterId.FunctionName] = g, S[i.ParameterId.VisualId] = {
          worksheet: p
        }, S[i.ParameterId.FieldId] = b, this.execute(_, S).then(function(P) {
          var T = P.result;
          return T;
        });
      }, h.prototype.convertDomainFilters = function(p) {
        var b = this, g = [];
        return p.forEach(function(_) {
          switch (_.filterType) {
            case i.FilterType.Categorical: {
              var S = _;
              if (S)
                g.push(b.convertCategoricalFilter(S));
              else
                throw new Error("Invalid Categorical Filter");
              break;
            }
            case i.FilterType.Hierarchical: {
              var S = _;
              if (S)
                g.push(b.convertHierarchicalFilter(S));
              else
                throw new Error("Invalid Hierarchical Filter");
              break;
            }
            case i.FilterType.Range: {
              var S = _;
              if (S)
                g.push(b.convertRangeFilter(S));
              else
                throw new Error("Invalid Range Filter");
              break;
            }
            case i.FilterType.RelativeDate: {
              var S = _;
              if (S)
                g.push(b.convertRelativeDateFilter(S));
              else
                throw new Error("Invalid Relative Date Filter");
              break;
            }
          }
        }), g;
      }, h.prototype.convertCategoricalFilter = function(p) {
        var b = p.values.map(function(g) {
          return c.DataValueFactory.MakeFilterDataValue(g);
        });
        return new l.CategoricalFilter(p.visualId.worksheet, p.fieldCaption, p.fieldName, i.FilterType.Categorical, this._registryId, b, p.isExclude, p.isAllSelected);
      }, h.prototype.convertHierarchicalFilter = function(p) {
        var b = p.values.map(function(_) {
          return new l.HierarchicalDataValue(c.DataValueFactory.MakeFilterDataValue(_.value), _.hierarchicalPath, _.level);
        }), g = p.levelInfo.map(function(_) {
          return new l.HierarchicalLevelDetail(_.name, u.InternalToExternalEnumMappings.hierarchicalLevelSelectionState.convert(_.levelSelectionState));
        });
        return new l.HierarchicalFilter(p.visualId.worksheet, p.fieldCaption, p.fieldName, i.FilterType.Hierarchical, this._registryId, p.dimensionName, p.hierarchyCaption, p.levels, g, b, p.isAllSelected);
      }, h.prototype.convertRangeFilter = function(p) {
        var b = c.DataValueFactory.MakeFilterDataValue(p.min), g = c.DataValueFactory.MakeFilterDataValue(p.max);
        return new l.RangeFilter(p.visualId.worksheet, p.fieldCaption, p.fieldName, i.FilterType.Range, this._registryId, b, g, p.includeNullValues);
      }, h.prototype.convertRelativeDateFilter = function(p) {
        var b = c.DataValueFactory.MakeFilterDataValue(p.anchorDate);
        return new l.RelativeDateFilter(p.visualId.worksheet, p.fieldCaption, p.fieldName, n.FilterType.RelativeDate, this._registryId, b, u.InternalToExternalEnumMappings.dateStepPeriod.convert(p.periodType), u.InternalToExternalEnumMappings.dateRangeType.convert(p.rangeType), p.rangeN);
      }, h.prototype.convertCategoricalDomain = function(p, b) {
        var g = p.values.map(function(_) {
          return c.DataValueFactory.MakeFilterDataValue(_);
        });
        return new l.CategoricalDomain(g, b);
      }, h.prototype.convertRangeDomain = function(p, b) {
        var g = c.DataValueFactory.MakeFilterDataValue(p.min), _ = c.DataValueFactory.MakeFilterDataValue(p.max);
        return new l.RangeDomain(g, _, b);
      }, h.prototype.convertAnchorDate = function(p) {
        var b = p.getUTCFullYear(), g = p.getUTCMonth() + 1, _ = p.getUTCDate(), S = p.getUTCHours(), P = p.getUTCMinutes(), T = p.getUTCSeconds();
        if (isNaN(b) || isNaN(g) || isNaN(_) || isNaN(S) || isNaN(P) || isNaN(T))
          throw new o.TableauError(n.EmbeddingErrorCodes.InvalidDateParameter, "Invalid date parameter: anchorDate");
        var A = b + "-" + g + "-" + _ + " " + S + ":" + P + ":" + T;
        return A;
      }, h.prototype.apiFilterHandlerCheckForCommandError = function(p) {
        if (p[a.ParameterId.ParameterError])
          throw p[a.ParameterId.InvalidFieldCaption] ? new o.TableauError(n.SharedErrorCodes.InvalidFilterFieldName, p[a.ParameterId.InvalidFieldCaption]) : p[a.ParameterId.InvalidValues] ? new o.TableauError(n.SharedErrorCodes.InvalidFilterFieldValue, p[a.ParameterId.InvalidValues]) : p[a.ParameterId.InvalidAggFieldName] ? new o.TableauError(n.SharedErrorCodes.InvalidAggregationFieldName, p[a.ParameterId.InvalidAggFieldName]) : new o.TableauError(n.SharedErrorCodes.ServerError, "Server Error");
      }, h;
    }(y.ServiceImplBase)
  );
  return hn.FilterServiceImpl = f, hn;
}
var pn = {}, fn, Gg = new Uint8Array(16);
function ic() {
  if (!fn && (fn = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto < "u" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), !fn))
    throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return fn(Gg);
}
const Kg = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function ai(r) {
  return typeof r == "string" && Kg.test(r);
}
var ye = [];
for (var ra = 0; ra < 256; ++ra)
  ye.push((ra + 256).toString(16).substr(1));
function oi(r) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, t = (ye[r[e + 0]] + ye[r[e + 1]] + ye[r[e + 2]] + ye[r[e + 3]] + "-" + ye[r[e + 4]] + ye[r[e + 5]] + "-" + ye[r[e + 6]] + ye[r[e + 7]] + "-" + ye[r[e + 8]] + ye[r[e + 9]] + "-" + ye[r[e + 10]] + ye[r[e + 11]] + ye[r[e + 12]] + ye[r[e + 13]] + ye[r[e + 14]] + ye[r[e + 15]]).toLowerCase();
  if (!ai(t))
    throw TypeError("Stringified UUID is invalid");
  return t;
}
var bu, na, ia = 0, aa = 0;
function Yg(r, e, t) {
  var n = e && t || 0, a = e || new Array(16);
  r = r || {};
  var i = r.node || bu, o = r.clockseq !== void 0 ? r.clockseq : na;
  if (i == null || o == null) {
    var s = r.random || (r.rng || ic)();
    i == null && (i = bu = [s[0] | 1, s[1], s[2], s[3], s[4], s[5]]), o == null && (o = na = (s[6] << 8 | s[7]) & 16383);
  }
  var u = r.msecs !== void 0 ? r.msecs : Date.now(), l = r.nsecs !== void 0 ? r.nsecs : aa + 1, c = u - ia + (l - aa) / 1e4;
  if (c < 0 && r.clockseq === void 0 && (o = o + 1 & 16383), (c < 0 || u > ia) && r.nsecs === void 0 && (l = 0), l >= 1e4)
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  ia = u, aa = l, na = o, u += 122192928e5;
  var d = ((u & 268435455) * 1e4 + l) % 4294967296;
  a[n++] = d >>> 24 & 255, a[n++] = d >>> 16 & 255, a[n++] = d >>> 8 & 255, a[n++] = d & 255;
  var y = u / 4294967296 * 1e4 & 268435455;
  a[n++] = y >>> 8 & 255, a[n++] = y & 255, a[n++] = y >>> 24 & 15 | 16, a[n++] = y >>> 16 & 255, a[n++] = o >>> 8 | 128, a[n++] = o & 255;
  for (var f = 0; f < 6; ++f)
    a[n + f] = i[f];
  return e || oi(a);
}
function ac(r) {
  if (!ai(r))
    throw TypeError("Invalid UUID");
  var e, t = new Uint8Array(16);
  return t[0] = (e = parseInt(r.slice(0, 8), 16)) >>> 24, t[1] = e >>> 16 & 255, t[2] = e >>> 8 & 255, t[3] = e & 255, t[4] = (e = parseInt(r.slice(9, 13), 16)) >>> 8, t[5] = e & 255, t[6] = (e = parseInt(r.slice(14, 18), 16)) >>> 8, t[7] = e & 255, t[8] = (e = parseInt(r.slice(19, 23), 16)) >>> 8, t[9] = e & 255, t[10] = (e = parseInt(r.slice(24, 36), 16)) / 1099511627776 & 255, t[11] = e / 4294967296 & 255, t[12] = e >>> 24 & 255, t[13] = e >>> 16 & 255, t[14] = e >>> 8 & 255, t[15] = e & 255, t;
}
function Qg(r) {
  r = unescape(encodeURIComponent(r));
  for (var e = [], t = 0; t < r.length; ++t)
    e.push(r.charCodeAt(t));
  return e;
}
var Zg = "6ba7b810-9dad-11d1-80b4-00c04fd430c8", Jg = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
function oc(r, e, t) {
  function n(a, i, o, s) {
    if (typeof a == "string" && (a = Qg(a)), typeof i == "string" && (i = ac(i)), i.length !== 16)
      throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    var u = new Uint8Array(16 + a.length);
    if (u.set(i), u.set(a, i.length), u = t(u), u[6] = u[6] & 15 | e, u[8] = u[8] & 63 | 128, o) {
      s = s || 0;
      for (var l = 0; l < 16; ++l)
        o[s + l] = u[l];
      return o;
    }
    return oi(u);
  }
  try {
    n.name = r;
  } catch {
  }
  return n.DNS = Zg, n.URL = Jg, n;
}
function Xg(r) {
  if (typeof r == "string") {
    var e = unescape(encodeURIComponent(r));
    r = new Uint8Array(e.length);
    for (var t = 0; t < e.length; ++t)
      r[t] = e.charCodeAt(t);
  }
  return qg(ey(ty(r), r.length * 8));
}
function qg(r) {
  for (var e = [], t = r.length * 32, n = "0123456789abcdef", a = 0; a < t; a += 8) {
    var i = r[a >> 5] >>> a % 32 & 255, o = parseInt(n.charAt(i >>> 4 & 15) + n.charAt(i & 15), 16);
    e.push(o);
  }
  return e;
}
function sc(r) {
  return (r + 64 >>> 9 << 4) + 14 + 1;
}
function ey(r, e) {
  r[e >> 5] |= 128 << e % 32, r[sc(e) - 1] = e;
  for (var t = 1732584193, n = -271733879, a = -1732584194, i = 271733878, o = 0; o < r.length; o += 16) {
    var s = t, u = n, l = a, c = i;
    t = _e(t, n, a, i, r[o], 7, -680876936), i = _e(i, t, n, a, r[o + 1], 12, -389564586), a = _e(a, i, t, n, r[o + 2], 17, 606105819), n = _e(n, a, i, t, r[o + 3], 22, -1044525330), t = _e(t, n, a, i, r[o + 4], 7, -176418897), i = _e(i, t, n, a, r[o + 5], 12, 1200080426), a = _e(a, i, t, n, r[o + 6], 17, -1473231341), n = _e(n, a, i, t, r[o + 7], 22, -45705983), t = _e(t, n, a, i, r[o + 8], 7, 1770035416), i = _e(i, t, n, a, r[o + 9], 12, -1958414417), a = _e(a, i, t, n, r[o + 10], 17, -42063), n = _e(n, a, i, t, r[o + 11], 22, -1990404162), t = _e(t, n, a, i, r[o + 12], 7, 1804603682), i = _e(i, t, n, a, r[o + 13], 12, -40341101), a = _e(a, i, t, n, r[o + 14], 17, -1502002290), n = _e(n, a, i, t, r[o + 15], 22, 1236535329), t = Se(t, n, a, i, r[o + 1], 5, -165796510), i = Se(i, t, n, a, r[o + 6], 9, -1069501632), a = Se(a, i, t, n, r[o + 11], 14, 643717713), n = Se(n, a, i, t, r[o], 20, -373897302), t = Se(t, n, a, i, r[o + 5], 5, -701558691), i = Se(i, t, n, a, r[o + 10], 9, 38016083), a = Se(a, i, t, n, r[o + 15], 14, -660478335), n = Se(n, a, i, t, r[o + 4], 20, -405537848), t = Se(t, n, a, i, r[o + 9], 5, 568446438), i = Se(i, t, n, a, r[o + 14], 9, -1019803690), a = Se(a, i, t, n, r[o + 3], 14, -187363961), n = Se(n, a, i, t, r[o + 8], 20, 1163531501), t = Se(t, n, a, i, r[o + 13], 5, -1444681467), i = Se(i, t, n, a, r[o + 2], 9, -51403784), a = Se(a, i, t, n, r[o + 7], 14, 1735328473), n = Se(n, a, i, t, r[o + 12], 20, -1926607734), t = Ie(t, n, a, i, r[o + 5], 4, -378558), i = Ie(i, t, n, a, r[o + 8], 11, -2022574463), a = Ie(a, i, t, n, r[o + 11], 16, 1839030562), n = Ie(n, a, i, t, r[o + 14], 23, -35309556), t = Ie(t, n, a, i, r[o + 1], 4, -1530992060), i = Ie(i, t, n, a, r[o + 4], 11, 1272893353), a = Ie(a, i, t, n, r[o + 7], 16, -155497632), n = Ie(n, a, i, t, r[o + 10], 23, -1094730640), t = Ie(t, n, a, i, r[o + 13], 4, 681279174), i = Ie(i, t, n, a, r[o], 11, -358537222), a = Ie(a, i, t, n, r[o + 3], 16, -722521979), n = Ie(n, a, i, t, r[o + 6], 23, 76029189), t = Ie(t, n, a, i, r[o + 9], 4, -640364487), i = Ie(i, t, n, a, r[o + 12], 11, -421815835), a = Ie(a, i, t, n, r[o + 15], 16, 530742520), n = Ie(n, a, i, t, r[o + 2], 23, -995338651), t = Ee(t, n, a, i, r[o], 6, -198630844), i = Ee(i, t, n, a, r[o + 7], 10, 1126891415), a = Ee(a, i, t, n, r[o + 14], 15, -1416354905), n = Ee(n, a, i, t, r[o + 5], 21, -57434055), t = Ee(t, n, a, i, r[o + 12], 6, 1700485571), i = Ee(i, t, n, a, r[o + 3], 10, -1894986606), a = Ee(a, i, t, n, r[o + 10], 15, -1051523), n = Ee(n, a, i, t, r[o + 1], 21, -2054922799), t = Ee(t, n, a, i, r[o + 8], 6, 1873313359), i = Ee(i, t, n, a, r[o + 15], 10, -30611744), a = Ee(a, i, t, n, r[o + 6], 15, -1560198380), n = Ee(n, a, i, t, r[o + 13], 21, 1309151649), t = Ee(t, n, a, i, r[o + 4], 6, -145523070), i = Ee(i, t, n, a, r[o + 11], 10, -1120210379), a = Ee(a, i, t, n, r[o + 2], 15, 718787259), n = Ee(n, a, i, t, r[o + 9], 21, -343485551), t = vt(t, s), n = vt(n, u), a = vt(a, l), i = vt(i, c);
  }
  return [t, n, a, i];
}
function ty(r) {
  if (r.length === 0)
    return [];
  for (var e = r.length * 8, t = new Uint32Array(sc(e)), n = 0; n < e; n += 8)
    t[n >> 5] |= (r[n / 8] & 255) << n % 32;
  return t;
}
function vt(r, e) {
  var t = (r & 65535) + (e & 65535), n = (r >> 16) + (e >> 16) + (t >> 16);
  return n << 16 | t & 65535;
}
function ry(r, e) {
  return r << e | r >>> 32 - e;
}
function si(r, e, t, n, a, i) {
  return vt(ry(vt(vt(e, r), vt(n, i)), a), t);
}
function _e(r, e, t, n, a, i, o) {
  return si(e & t | ~e & n, r, e, a, i, o);
}
function Se(r, e, t, n, a, i, o) {
  return si(e & n | t & ~n, r, e, a, i, o);
}
function Ie(r, e, t, n, a, i, o) {
  return si(e ^ t ^ n, r, e, a, i, o);
}
function Ee(r, e, t, n, a, i, o) {
  return si(t ^ (e | ~n), r, e, a, i, o);
}
var ny = oc("v3", 48, Xg);
function iy(r, e, t) {
  r = r || {};
  var n = r.random || (r.rng || ic)();
  if (n[6] = n[6] & 15 | 64, n[8] = n[8] & 63 | 128, e) {
    t = t || 0;
    for (var a = 0; a < 16; ++a)
      e[t + a] = n[a];
    return e;
  }
  return oi(n);
}
function ay(r, e, t, n) {
  switch (r) {
    case 0:
      return e & t ^ ~e & n;
    case 1:
      return e ^ t ^ n;
    case 2:
      return e & t ^ e & n ^ t & n;
    case 3:
      return e ^ t ^ n;
  }
}
function oa(r, e) {
  return r << e | r >>> 32 - e;
}
function oy(r) {
  var e = [1518500249, 1859775393, 2400959708, 3395469782], t = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if (typeof r == "string") {
    var n = unescape(encodeURIComponent(r));
    r = [];
    for (var a = 0; a < n.length; ++a)
      r.push(n.charCodeAt(a));
  } else Array.isArray(r) || (r = Array.prototype.slice.call(r));
  r.push(128);
  for (var i = r.length / 4 + 2, o = Math.ceil(i / 16), s = new Array(o), u = 0; u < o; ++u) {
    for (var l = new Uint32Array(16), c = 0; c < 16; ++c)
      l[c] = r[u * 64 + c * 4] << 24 | r[u * 64 + c * 4 + 1] << 16 | r[u * 64 + c * 4 + 2] << 8 | r[u * 64 + c * 4 + 3];
    s[u] = l;
  }
  s[o - 1][14] = (r.length - 1) * 8 / Math.pow(2, 32), s[o - 1][14] = Math.floor(s[o - 1][14]), s[o - 1][15] = (r.length - 1) * 8 & 4294967295;
  for (var d = 0; d < o; ++d) {
    for (var y = new Uint32Array(80), f = 0; f < 16; ++f)
      y[f] = s[d][f];
    for (var v = 16; v < 80; ++v)
      y[v] = oa(y[v - 3] ^ y[v - 8] ^ y[v - 14] ^ y[v - 16], 1);
    for (var h = t[0], p = t[1], b = t[2], g = t[3], _ = t[4], S = 0; S < 80; ++S) {
      var P = Math.floor(S / 20), T = oa(h, 5) + ay(P, p, b, g) + _ + e[P] + y[S] >>> 0;
      _ = g, g = b, b = oa(p, 30) >>> 0, p = h, h = T;
    }
    t[0] = t[0] + h >>> 0, t[1] = t[1] + p >>> 0, t[2] = t[2] + b >>> 0, t[3] = t[3] + g >>> 0, t[4] = t[4] + _ >>> 0;
  }
  return [t[0] >> 24 & 255, t[0] >> 16 & 255, t[0] >> 8 & 255, t[0] & 255, t[1] >> 24 & 255, t[1] >> 16 & 255, t[1] >> 8 & 255, t[1] & 255, t[2] >> 24 & 255, t[2] >> 16 & 255, t[2] >> 8 & 255, t[2] & 255, t[3] >> 24 & 255, t[3] >> 16 & 255, t[3] >> 8 & 255, t[3] & 255, t[4] >> 24 & 255, t[4] >> 16 & 255, t[4] >> 8 & 255, t[4] & 255];
}
var sy = oc("v5", 80, oy);
const uy = "00000000-0000-0000-0000-000000000000";
function ly(r) {
  if (!ai(r))
    throw TypeError("Invalid UUID");
  return parseInt(r.substr(14, 1), 16);
}
const cy = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  NIL: uy,
  parse: ac,
  stringify: oi,
  v1: Yg,
  v3: ny,
  v4: iy,
  v5: sy,
  validate: ai,
  version: ly
}, Symbol.toStringTag, { value: "Module" })), dy = /* @__PURE__ */ ed(cy);
var lo = {}, hy = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
}, py = w && w.__generator || function(r, e) {
  var t = { label: 0, sent: function() {
    if (i[0] & 1) throw i[1];
    return i[1];
  }, trys: [], ops: [] }, n, a, i, o;
  return o = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (o[Symbol.iterator] = function() {
    return this;
  }), o;
  function s(l) {
    return function(c) {
      return u([l, c]);
    };
  }
  function u(l) {
    if (n) throw new TypeError("Generator is already executing.");
    for (; t; ) try {
      if (n = 1, a && (i = l[0] & 2 ? a.return : l[0] ? a.throw || ((i = a.return) && i.call(a), 0) : a.next) && !(i = i.call(a, l[1])).done) return i;
      switch (a = 0, i && (l = [l[0] & 2, i.value]), l[0]) {
        case 0:
        case 1:
          i = l;
          break;
        case 4:
          return t.label++, { value: l[1], done: !1 };
        case 5:
          t.label++, a = l[1], l = [0];
          continue;
        case 7:
          l = t.ops.pop(), t.trys.pop();
          continue;
        default:
          if (i = t.trys, !(i = i.length > 0 && i[i.length - 1]) && (l[0] === 6 || l[0] === 2)) {
            t = 0;
            continue;
          }
          if (l[0] === 3 && (!i || l[1] > i[0] && l[1] < i[3])) {
            t.label = l[1];
            break;
          }
          if (l[0] === 6 && t.label < i[1]) {
            t.label = i[1], i = l;
            break;
          }
          if (i && t.label < i[2]) {
            t.label = i[2], t.ops.push(l);
            break;
          }
          i[2] && t.ops.pop(), t.trys.pop();
          continue;
      }
      l = e.call(r, t);
    } catch (c) {
      l = [6, c], a = 0;
    } finally {
      n = i = 0;
    }
    if (l[0] & 5) throw l[1];
    return { value: l[0] ? l[1] : void 0, done: !0 };
  }
};
Object.defineProperty(lo, "__esModule", { value: !0 });
var _u = je, fy = Fe(), vy = (
  /** @class */
  function() {
    function r(e, t, n, a) {
      this._id = e, this._totalRowCount = t, this._pageRowCount = n, this._registryId = a, this._pageCount = Math.ceil(t / n);
    }
    return Object.defineProperty(r.prototype, "totalRowCount", {
      get: function() {
        return this._totalRowCount;
      },
      enumerable: !0,
      configurable: !0
    }), Object.defineProperty(r.prototype, "pageCount", {
      get: function() {
        return this._pageCount;
      },
      enumerable: !0,
      configurable: !0
    }), r.prototype.getPageAsync = function(e) {
      fy.ErrorHelpers.verifyRange(e, 0, this._pageCount);
      var t = _u.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return t.getPageAsync(this._id, e, this._pageRowCount);
    }, r.prototype.getAllPagesAsync = function(e) {
      return hy(this, void 0, void 0, function() {
        var t, n, a, i, o, s, u, l, c, d;
        return py(this, function(y) {
          switch (y.label) {
            case 0:
              return [4, this.getPageAsync(0)];
            case 1:
              t = y.sent(), e = e || this.totalRowCount, n = Math.min(e, this.totalRowCount), a = Math.ceil(n / this._pageRowCount), i = Math.min(a, 400), o = i < a, s = [], u = 1, y.label = 2;
            case 2:
              return u < i ? [4, this.getPageAsync(u)] : [3, 5];
            case 3:
              l = y.sent(), s.push(l.data), y.label = 4;
            case 4:
              return u++, [3, 2];
            case 5:
              return c = (d = t.data).concat.apply(d, s), c.length = n, [2, {
                name: t.name,
                data: c,
                columns: t.columns,
                totalRowCount: o ? i * this._pageRowCount : n,
                isTotalRowCountLimited: o,
                isSummaryData: t.isSummaryData
              }];
          }
        });
      });
    }, r.prototype.releaseAsync = function() {
      var e = _u.ApiServiceRegistry.get(this._registryId).getService(
        "get-data-service"
        /* GetData */
      );
      return e.releaseAsync(this._id);
    }, r;
  }()
);
lo.DataTableReader = vy;
var Su;
function my() {
  if (Su) return pn;
  Su = 1;
  var r = w && w.__extends || /* @__PURE__ */ function() {
    var y = function(f, v) {
      return y = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(h, p) {
        h.__proto__ = p;
      } || function(h, p) {
        for (var b in p) p.hasOwnProperty(b) && (h[b] = p[b]);
      }, y(f, v);
    };
    return function(f, v) {
      y(f, v);
      function h() {
        this.constructor = f;
      }
      f.prototype = v === null ? Object.create(v) : (h.prototype = v.prototype, new h());
    };
  }();
  Object.defineProperty(pn, "__esModule", { value: !0 });
  var e = O, t = V(), n = dy, a = G(), i = gt, o = wt, s = lo, u = kr, l = Ga, c = pe, d = (
    /** @class */
    function(y) {
      r(f, y);
      function f() {
        var v = y !== null && y.apply(this, arguments) || this;
        return v.viewDataTableCacheId = n.v4(), v;
      }
      return Object.defineProperty(f.prototype, "serviceName", {
        get: function() {
          return "get-data-service";
        },
        enumerable: !0,
        configurable: !0
      }), f.prototype.getMaxRowLimit = function() {
        return 1e4;
      }, f.prototype.getViewDataTableCacheId = function() {
        return this.viewDataTableCacheId;
      }, f.prototype.getLimitedMaxRows = function(v, h) {
        return v > 0 && v < h ? v : h;
      }, f.prototype.getUnderlyingDataAsync = function(v, h, p, b, g, _, S, P, T) {
        var A, F = this, ee = h === l.GetDataType.Summary, oe = ee ? "getSummaryDataAsync" : "getUnderlyingDataAsync", $e = ee ? t.VerbId.GetDataSummaryData : t.VerbId.GetUnderlyingData, Pt = $e === t.VerbId.GetUnderlyingData ? this.getLimitedMaxRows(S, this.getMaxRowLimit() + 1) : S, le = (A = {}, A[t.ParameterId.FunctionName] = oe, A);
        return le[t.ParameterId.VisualId] = v, le[t.ParameterId.IgnoreAliases] = p, le[t.ParameterId.IgnoreSelection] = b, le[t.ParameterId.IncludeAllColumns] = g, le[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(_), le[t.ParameterId.MaxRows] = Pt, le[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(P), le[t.ParameterId.ApplyWorksheetFormatting] = T, this.execute($e, le).then(function(Ue) {
          var Ge = Ue.result;
          return F.processResultsTable(Ge.data, Ge.isSummary);
        });
      }, f.prototype.getSummaryDataReaderAsync = function(v, h, p, b, g, _, S, P) {
        var T, A = this, F = (T = {}, T[t.ParameterId.FunctionName] = "getSummaryDataReaderAsync", T[t.ParameterId.ViewDataTableCacheId] = this.getViewDataTableCacheId(), T[t.ParameterId.VisualId] = v, T[t.ParameterId.PageRowCount] = h, T[t.ParameterId.IgnoreAliases] = p, T[t.ParameterId.IgnoreSelection] = b, T[t.ParameterId.IncludeAllColumns] = g, T[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(_), T[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(S), T[t.ParameterId.ApplyWorksheetFormatting] = P, T);
        return this.execute(t.VerbId.GetDataSummaryDataReader, F).then(function(ee) {
          var oe = ee.result;
          return new s.DataTableReader(oe.id, oe.totalRowCount, h, A._registryId);
        });
      }, f.prototype.getSummaryColumnsInfoAsync = function(v) {
        var h, p = t.VerbId.GetDataSummaryData, b = (h = {}, h[t.ParameterId.FunctionName] = "getSummaryColumnsInfoAsync", h[t.ParameterId.VisualId] = v, h[t.ParameterId.IgnoreAliases] = !0, h[t.ParameterId.IgnoreSelection] = !0, h[t.ParameterId.IncludeAllColumns] = !0, h[t.ParameterId.MaxRows] = 1, h[t.ParameterId.ShowDataTableFormat] = t.ApiShowDataTableFormat.NativeValuesOnly, h);
        return this.execute(p, b).then(function(g) {
          var _ = g.result, S = _.data, P = S.headers.map(function(T) {
            return new o.Column(T.fieldCaption, T.fieldName, T.dataType, T.isReferenced, T.index);
          });
          return P;
        });
      }, f.prototype.getSelectedMarksAsync = function(v) {
        var h, p = this, b = (h = {}, h[t.ParameterId.FunctionName] = "getSelectedMarksAsync", h[t.ParameterId.VisualId] = v, h);
        return this.execute(t.VerbId.GetSelectedMarks, b).then(function(g) {
          var _ = g.result;
          return {
            data: _.data.map(function(S) {
              return p.processResultsTable(S, !0);
            })
          };
        });
      }, f.prototype.getHighlightedMarksAsync = function(v) {
        var h, p = this, b = (h = {}, h[t.ParameterId.FunctionName] = "getHighlightedMarksAsync", h[t.ParameterId.VisualId] = v, h);
        return this.execute(t.VerbId.GetHighlightedMarks, b).then(function(g) {
          var _ = g.result;
          return {
            data: _.data.map(function(S) {
              return p.processResultsTable(S, !0);
            })
          };
        });
      }, f.prototype.getDataSourceDataAsync = function(v, h, p, b, g, _) {
        var S, P = this, T = (S = {}, S[t.ParameterId.FunctionName] = "getDataSourceDataAsync", S[t.ParameterId.DataSourceId] = v, S[t.ParameterId.IgnoreAliases] = h, S[t.ParameterId.MaxRows] = this.getLimitedMaxRows(p, this.getMaxRowLimit() + 1), S[t.ParameterId.ColumnsToInclude] = this.verifyIncludeColumnArray(b), S[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(g), S[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(_), S);
        return this.execute(t.VerbId.GetDataSourceData, T).then(function(A) {
          var F = A.result;
          return P.processResultsTable(F.data, !1);
        });
      }, f.prototype.getLogicalTableDataAsync = function(v, h, p, b, g, _, S) {
        var P, T = this, A = (P = {}, P[t.ParameterId.FunctionName] = "getLogicalTableDataAsync", P[t.ParameterId.ColumnsToInclude] = g, P[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(_), P[t.ParameterId.DataSourceId] = v, P[t.ParameterId.IgnoreAliases] = p, P[t.ParameterId.LogicalTableId] = h, P[t.ParameterId.MaxRows] = this.getLimitedMaxRows(b, this.getMaxRowLimit() + 1), P[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(S), P);
        return this.execute(t.VerbId.GetLogicalTableData, A).then(function(F) {
          var ee = F.result;
          return T.processResultsTable(ee.data, !1);
        });
      }, f.prototype.getLogicalTableDataReaderAsync = function(v, h, p, b, g, _) {
        var S, P = this;
        p = this.getLimitedMaxRows(p, this.getMaxRowLimit());
        var T = (S = {}, S[t.ParameterId.FunctionName] = "getLogicalTableDataReaderAsync", S[t.ParameterId.ViewDataTableCacheId] = this.getViewDataTableCacheId(), S[t.ParameterId.DataSourceId] = v, S[t.ParameterId.LogicalTableId] = h, S[t.ParameterId.PageRowCount] = p, S[t.ParameterId.IgnoreAliases] = b, S[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(g), S[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(_), S);
        return this.execute(t.VerbId.GetLogicalTableDataReader, T).then(function(A) {
          var F = A.result;
          return new s.DataTableReader(F.id, F.totalRowCount, p, P._registryId);
        });
      }, f.prototype.getUnderlyingTableDataAsync = function(v, h, p, b, g, _, S, P, T) {
        var A, F = this, ee = (A = {}, A[t.ParameterId.FunctionName] = "getUnderlyingTableDataAsync", A[t.ParameterId.VisualId] = v, A[t.ParameterId.LogicalTableId] = h, A[t.ParameterId.IgnoreAliases] = p, A[t.ParameterId.IgnoreSelection] = b, A[t.ParameterId.IncludeAllColumns] = g, A[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(_), A[t.ParameterId.MaxRows] = this.getLimitedMaxRows(S, this.getMaxRowLimit() + 1), A[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(P), A[t.ParameterId.ApplyWorksheetFormatting] = T, A);
        return this.execute(t.VerbId.GetUnderlyingTableData, ee).then(function(oe) {
          var $e = oe.result;
          return F.processResultsTable($e.data, !1);
        });
      }, f.prototype.getUnderlyingTableDataReaderAsync = function(v, h, p, b, g, _, S, P, T) {
        var A, F = this;
        p = this.getLimitedMaxRows(p, this.getMaxRowLimit());
        var ee = (A = {}, A[t.ParameterId.FunctionName] = "getUnderlyingTableDataReaderAsync", A[t.ParameterId.ViewDataTableCacheId] = this.getViewDataTableCacheId(), A[t.ParameterId.VisualId] = v, A[t.ParameterId.LogicalTableId] = h, A[t.ParameterId.IgnoreAliases] = b, A[t.ParameterId.IgnoreSelection] = g, A[t.ParameterId.IncludeAllColumns] = _, A[t.ParameterId.ColumnsToIncludeById] = this.verifyIncludeColumnArray(S), A[t.ParameterId.ShowDataTableFormat] = i.ExternalToInternalEnumMappings.showDataTableFormatType.convert(P), A[t.ParameterId.PageRowCount] = p, A[t.ParameterId.ApplyWorksheetFormatting] = T, A);
        return this.execute(t.VerbId.GetUnderlyingTableDataReader, ee).then(function(oe) {
          var $e = oe.result;
          return new s.DataTableReader($e.id, $e.totalRowCount, p, F._registryId);
        });
      }, f.prototype.getPageAsync = function(v, h, p) {
        var b, g = this, _ = (b = {}, b[t.ParameterId.FunctionName] = "getPageAsync", b[t.ParameterId.ViewDataTableCacheId] = this.getViewDataTableCacheId(), b[t.ParameterId.ViewDataTableId] = v, b[t.ParameterId.DataRowIndex] = h * p, b);
        return this.execute(t.VerbId.GetDataTableReaderPage, _).then(function(S) {
          var P = S.result;
          return g.processResultsPage(P, v === f.summaryTableId);
        });
      }, f.prototype.releaseAsync = function(v) {
        var h, p = (h = {}, h[t.ParameterId.FunctionName] = "release", h[t.ParameterId.ViewDataTableCacheId] = this.getViewDataTableCacheId(), h[t.ParameterId.ViewDataTableId] = v, h);
        return this.execute(t.VerbId.ReleaseDataTableReader, p).then(function(b) {
        });
      }, f.prototype.verifyIncludeColumnArray = function(v) {
        if (!Array.isArray(v))
          throw new a.TableauError(e.ErrorCodes.InvalidParameter, "columnsToInclude and columnsToIncludeById must be valid arrays");
        var h = new Set(v);
        return Array.from(h);
      }, f.prototype.processResultsTable = function(v, h) {
        var p = v.headers.map(function(S) {
          return new o.Column(S.fieldCaption, S.fieldName, S.dataType, S.isReferenced, S.index);
        }), b;
        v.marks && (b = v.marks.map(function(S) {
          return new o.MarkInfo(S.type, S.color, S.tupleId);
        }));
        var g = h === !1 && v.dataTable.length === this.getMaxRowLimit() + 1;
        g && (v.dataTable.length -= 1);
        var _ = v.dataTable.map(function(S) {
          return S.map(function(P, T) {
            return u.DataValueFactory.MakeTableDataValue(P, p[T].dataType);
          });
        });
        return b ? new o.DataTable(_, p, _.length, g, h, b) : new o.DataTable(_, p, _.length, g, h);
      }, f.prototype.processResultsPage = function(v, h) {
        var p = v.headers.map(function(_) {
          return new o.Column(_.fieldCaption, _.fieldName, _.dataType, _.isReferenced, _.index);
        }), b;
        v.marks && (b = v.marks.map(function(_) {
          return new o.MarkInfo(_.type, _.color, _.tupleId);
        }));
        var g = v.dataTable.map(function(_) {
          return _.map(function(S, P) {
            return u.DataValueFactory.MakeTableDataValue(S, p[P].dataType);
          });
        });
        return b ? new o.DataTable(g, p, g.length, !1, h, b) : new o.DataTable(g, p, g.length, !1, h);
      }, f.summaryTableId = "", f;
    }(c.ServiceImplBase)
  );
  return pn.GetDataServiceImpl = d, pn;
}
var ui = {}, Fr = {};
Object.defineProperty(Fr, "__esModule", { value: !0 });
var uc = (
  /** @class */
  function() {
    function r(e, t) {
      this._filterFn = e, this._callbackFn = t;
    }
    return r.prototype.onNotification = function(e) {
      this._filterFn(e) && this._callbackFn(e);
    }, r;
  }()
);
Fr.Registration = uc;
var gy = (
  /** @class */
  function() {
    function r(e) {
      this.dispatcher = e, this._handlers = {}, this.dispatcher.registerNotificationHandler(this.onNotification.bind(this));
    }
    return r.prototype.registerHandler = function(e, t, n) {
      var a = this, i = this._handlers[e] || new Array(), o = new uc(t, n);
      return i.push(o), this._handlers[e] = i, function() {
        return a.removeRegistration(e, o);
      };
    }, r.prototype.hasHandlersForNotificationType = function(e) {
      return this._handlers.hasOwnProperty(e);
    }, r.prototype.onNotification = function(e) {
      this.hasHandlersForNotificationType(e.notificationId) && this._handlers[e.notificationId].forEach(function(t) {
        return t.onNotification(e.data);
      });
    }, r.prototype.removeRegistration = function(e, t) {
      this.hasHandlersForNotificationType(e) && (this._handlers[e] = this._handlers[e].filter(function(n) {
        return n !== t;
      }));
    }, r;
  }()
);
Fr.NotificationServiceImplBase = gy;
var yy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(ui, "__esModule", { value: !0 });
var by = Fr, _y = (
  /** @class */
  function(r) {
    yy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "notification-service";
      },
      enumerable: !0,
      configurable: !0
    }), e;
  }(by.NotificationServiceImplBase)
);
ui.NotificationServiceImpl = _y;
var co = {}, Sy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(co, "__esModule", { value: !0 });
var Iy = O, Ve = V(), Iu = qn, Ey = ae, Ay = pe, wy = (
  /** @class */
  function(r) {
    Sy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "parameters-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getParametersForSheetAsync = function(t) {
      var n, a = (n = {}, n[Ve.ParameterId.FunctionName] = "getParametersForSheetAsync", n[Ve.ParameterId.SheetPath] = t, n);
      return this.getParametersAsync(a);
    }, e.prototype.getAllParametersAsync = function() {
      var t, n = (t = {}, t[Ve.ParameterId.FunctionName] = "getParametersForSheetAsync", t);
      return this.getParametersAsync(n);
    }, e.prototype.getParametersAsync = function(t) {
      var n = this;
      return this.execute(Ve.VerbId.GetParametersForSheet, t).then(function(a) {
        var i = a.result;
        return i.map(function(o) {
          return new Iu.ParameterImpl(o, n._registryId);
        });
      });
    }, e.prototype.changeParameterValueAsync = function(t, n) {
      var a, i = (a = {}, a[Ve.ParameterId.FunctionName] = "changeParameterValueAsync", a[Ve.ParameterId.ParameterFieldName] = t, a[Ve.ParameterId.ParameterValue] = n, a);
      return this.execute(Ve.VerbId.ChangeParameterValue, i).then(function(o) {
        var s = o.result;
        return s;
      });
    }, e.prototype.findParameterByNameAsync = function(t) {
      return this.findParameterAsync(t, void 0);
    }, e.prototype.findParameterByGlobalFieldNameAsync = function(t) {
      return this.findParameterAsync(void 0, t);
    }, e.prototype.findParameterAsync = function(t, n) {
      var a, i = this, o = (a = {}, a[Ve.ParameterId.FunctionName] = "findParameterAsync", a);
      if (t !== void 0)
        o[Ve.ParameterId.ParameterCaption] = t;
      else if (n !== void 0)
        o[Ve.ParameterId.ParameterFieldName] = n;
      else
        throw new Ey.TableauError(Iy.ErrorCodes.InvalidParameter, "name or fieldName must be provided to find parameter");
      return this.execute(Ve.VerbId.FindParameter, o).then(function(s) {
        var u = function(c) {
          return "fieldName" in c;
        };
        if (u(s.result)) {
          var l = s.result;
          return new Iu.ParameterImpl(l, i._registryId);
        } else
          return;
      });
    }, e;
  }(Ay.ServiceImplBase)
);
co.ParametersServiceImpl = wy;
var ho = {}, Ty = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(ho, "__esModule", { value: !0 });
var Me = O, U = V(), St = Ne, It = ae, vn = Qt(), Py = pe, Cy = (
  /** @class */
  function(r) {
    Ty(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "selection-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.clearSelectedMarksAsync = function(t) {
      var n, a = (n = {}, n[U.ParameterId.FunctionName] = "clearSelectedMarksAsync", n[U.ParameterId.VisualId] = t, n);
      return this.execute(U.VerbId.ClearSelectedMarks, a).then(function(i) {
      });
    }, e.prototype.selectMarksByValueAsync = function(t, n, a) {
      var i, o = this;
      if (n.length === 0)
        throw new It.TableauError(Me.ErrorCodes.InvalidParameter, "Selection criteria missing for selecting marks by value");
      var s = this.validateSelectionUpdateType(a), u = this.parseSelectionMarks(n), l = (i = {}, i[U.ParameterId.FunctionName] = "selectMarksByValueAsync", i[U.ParameterId.VisualId] = t, i[U.ParameterId.SelectionUpdateType] = s, i);
      return u.hierModelArr && u.hierModelArr.length && (l[U.ParameterId.HierValSelectionModels] = u.hierModelArr), u.quantModelArr && u.quantModelArr.length && (l[U.ParameterId.QuantRangeSelectionModels] = u.quantModelArr), u.dimModelArr && u.dimModelArr.length && (l[U.ParameterId.DimValSelectionModels] = u.dimModelArr), this.execute(U.VerbId.SelectByValue, l).then(function(c) {
        o.apiFilterHandlerCheckForCommandError(c.result);
      });
    }, e.prototype.hoverTupleAsync = function(t, n, a, i) {
      var o, s = new St.HoverTupleInteractionModel(t, this.ensureTupleIDIsNonNegative(n), a, i), u = (o = {}, o[U.ParameterId.FunctionName] = "hoverTupleAsync", o[U.ParameterId.HoverTupleInteraction] = s, o);
      return this.execute(U.VerbId.RaiseHoverTupleNotification, u).then(function(l) {
      });
    }, e.prototype.selectTuplesAsync = function(t, n, a, i) {
      var o, s = new St.SelectTuplesInteractionModel(t, n, a, i), u = (o = {}, o[U.ParameterId.FunctionName] = "selectTuplesAsync", o[U.ParameterId.SelectTuplesInteraction] = s, o);
      return this.execute(U.VerbId.RaiseSelectTuplesNotification, u).then(function(l) {
      });
    }, e.prototype.apiFilterHandlerCheckForCommandError = function(t) {
      if (t[U.ParameterId.ParameterError]) {
        if (t[U.ParameterId.InvalidFields])
          throw new It.TableauError(Me.SharedErrorCodes.InvalidSelectionFieldName, t[U.ParameterId.InvalidFields]);
        if (t[U.ParameterId.InvalidValues])
          throw new It.TableauError(Me.SharedErrorCodes.InvalidSelectionValue, t[U.ParameterId.InvalidValues]);
        if (t[U.ParameterId.InvalidDates])
          throw new It.TableauError(Me.SharedErrorCodes.InvalidSelectionDate, t[U.ParameterId.InvalidDates]);
      }
    }, e.prototype.selectMarksByIdAsync = function(t, n, a) {
      var i;
      if (n.length === 0)
        throw new It.TableauError(Me.ErrorCodes.InvalidParameter, "Marks info missing for selecting marks by Id");
      var o = this.validateSelectionUpdateType(a), s = this.parseSelectionIds(n), u = (i = {}, i[U.ParameterId.FunctionName] = "selectMarksByIdAsync", i[U.ParameterId.VisualId] = t, i[U.ParameterId.SelectionUpdateType] = o, i[U.ParameterId.Selection] = s.selection, i);
      return this.execute(U.VerbId.SelectByValue, u).then(function(l) {
      });
    }, e.prototype.parseSelectionIds = function(t) {
      for (var n = [], a = new St.SelectionModelsContainer(), i = 0; i < t.length; i++) {
        var o = t[i].tupleId;
        if (o != null)
          n.push(o.toString());
        else
          throw new It.TableauError(Me.ErrorCodes.InternalError, "tupleId parsing error");
      }
      if (n.length !== 0) {
        var s = new St.TupleSelectionModel();
        s.selectionType = "tuples", s.objectIds = n, a.selection = s;
      }
      return a;
    }, e.prototype.parseSelectionMarks = function(t) {
      for (var n = new St.SelectionModelsContainer(), a = 0; a < t.length; a++) {
        var i = t[a];
        if (!(i.fieldName && i.value !== void 0 && i.value !== null))
          throw new It.TableauError(Me.ErrorCodes.InternalError, "Selection Criteria parsing error");
        var o = new RegExp("([[A-Za-z0-9]+]).*", "g"), s = i.value;
        if (o.test(i.fieldName)) {
          var u = this.addToParamsList(i.fieldName, i.value);
          n.hierModelArr.push(u);
        } else if (s.min !== void 0 && s.max !== void 0) {
          var l = this.addToRangeParamsList(i.fieldName, s);
          n.quantModelArr.push(l);
        } else {
          var c = this.addToParamsList(i.fieldName, i.value);
          n.dimModelArr.push(c);
        }
      }
      return n;
    }, e.prototype.addToParamsList = function(t, n) {
      var a = new St.ValueSelectionModel(), i = [];
      if (n instanceof Array)
        for (var o = n, s = 0; s < o.length; s++)
          i.push(vn.Param.serializeParameterValue(o[s]));
      else
        i.push(vn.Param.serializeParameterValue(n));
      return a.qualifiedFieldCaption = t, a.selectValues = i, a;
    }, e.prototype.addToRangeParamsList = function(t, n) {
      var a = new St.RangeSelectionModel();
      return a.qualifiedFieldCaption = t, n.max !== void 0 && n.max !== null && (a.maxValue = vn.Param.serializeParameterValue(n.max)), n.min !== void 0 && n.min !== null && (a.minValue = vn.Param.serializeParameterValue(n.min)), a.included = this.validateNullOptionType(n.nullOption), a;
    }, e.prototype.validateSelectionUpdateType = function(t) {
      return t === Me.SelectionUpdateType.Replace ? U.SelectionUpdateType.Replace : t === Me.SelectionUpdateType.Add ? U.SelectionUpdateType.Add : t === Me.SelectionUpdateType.Remove ? U.SelectionUpdateType.Remove : U.SelectionUpdateType.Replace;
    }, e.prototype.validateNullOptionType = function(t) {
      if (t) {
        if (t === Me.FilterNullOption.NullValues)
          return U.QuantitativeIncludedValues.IncludeNull;
        if (t === Me.FilterNullOption.NonNullValues)
          return U.QuantitativeIncludedValues.IncludeNonNull;
        if (t === Me.FilterNullOption.AllValues)
          return U.QuantitativeIncludedValues.IncludeAll;
      }
      return U.QuantitativeIncludedValues.IncludeAll;
    }, e.prototype.ensureTupleIDIsNonNegative = function(t) {
      return t && t > 0 ? t : 0;
    }, e;
  }(Py.ServiceImplBase)
);
ho.SelectionServiceImpl = Cy;
var li = {}, Dy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(li, "__esModule", { value: !0 });
var Et = V(), ky = pe, Oy = (
  /** @class */
  function(r) {
    Dy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "size-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.changeSizeAsync = function(t, n) {
      var a, i, o, s, u, l = (a = {}, a[Et.ParameterId.FunctionName] = "changeSizeAsync", a[Et.ParameterId.SheetName] = t, a[Et.ParameterId.MinHeight] = ((i = n.minSize) === null || i === void 0 ? void 0 : i.height) || 0, a[Et.ParameterId.MinWidth] = ((o = n.minSize) === null || o === void 0 ? void 0 : o.width) || 0, a[Et.ParameterId.MaxHeight] = ((s = n.maxSize) === null || s === void 0 ? void 0 : s.height) || 0, a[Et.ParameterId.MaxWidth] = ((u = n.maxSize) === null || u === void 0 ? void 0 : u.width) || 0, a);
      return this.execute(Et.VerbId.SetSheetSize, l).then(function(c) {
      });
    }, e;
  }(ky.ServiceImplBase)
);
li.SizeServiceImpl = Oy;
var po = {}, My = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(po, "__esModule", { value: !0 });
var Q = V(), Fy = pe, Ry = (
  /** @class */
  function(r) {
    My(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "visual-model-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getVisualSpecificationAsync = function(t) {
      var n, a = (n = {}, n[Q.ParameterId.FunctionName] = "getVisualSpecificationAsync", n[Q.ParameterId.WorksheetName] = t.worksheet, n);
      return this.execute(Q.VerbId.GetVisualSpecification, a).then(function(i) {
        var o = i.result;
        return o;
      });
    }, e.prototype.addMarksCardFieldsAsync = function(t, n, a, i, o) {
      var s, u = (s = {}, s[Q.ParameterId.FunctionName] = "addMarksCardFieldsAsync", s[Q.ParameterId.WorksheetName] = t.worksheet, s[Q.ParameterId.MarksCardIndex] = n, s[Q.ParameterId.EncodingType] = a, s[Q.ParameterId.Columns] = i, s[Q.ParameterId.StartIndex] = o, s);
      return this.execute(Q.VerbId.AddMarksCardFields, u).then(function() {
      });
    }, e.prototype.moveMarksCardFieldAsync = function(t, n, a, i, o) {
      var s;
      o === void 0 && (o = 1);
      var u = (s = {}, s[Q.ParameterId.FunctionName] = "addMarksCardFieldsAsync", s[Q.ParameterId.WorksheetName] = t.worksheet, s[Q.ParameterId.MarksCardIndex] = n, s[Q.ParameterId.FromIndex] = a, s[Q.ParameterId.ToIndex] = i, s[Q.ParameterId.FieldCount] = o, s);
      return this.execute(Q.VerbId.MoveMarksCardField, u).then(function() {
      });
    }, e.prototype.spliceMarksCardFieldsAsync = function(t, n, a, i, o, s) {
      var u, l = (u = {}, u[Q.ParameterId.FunctionName] = "spliceMarksCardFieldsAsync", u[Q.ParameterId.WorksheetName] = t.worksheet, u[Q.ParameterId.MarksCardIndex] = n, u[Q.ParameterId.EncodingType] = a, u[Q.ParameterId.StartIndex] = i, u[Q.ParameterId.DeleteCount] = o, u[Q.ParameterId.Columns] = s, u);
      return this.execute(Q.VerbId.SpliceMarksCardFields, l).then(function() {
      });
    }, e.prototype.editAliasesDialogAsync = function(t) {
      var n, a = (n = {}, n[Q.ParameterId.FunctionName] = "editAliasesDialogAsync", n[Q.ParameterId.FieldId] = t, n);
      return this.execute(Q.VerbId.EditAliasesDialog, a).then(function() {
      });
    }, e;
  }(Fy.ServiceImplBase)
);
po.VisualModelServiceImpl = Ry;
var mn = {}, Eu;
function xy() {
  if (Eu) return mn;
  Eu = 1;
  var r = w && w.__extends || /* @__PURE__ */ function() {
    var i = function(o, s) {
      return i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(u, l) {
        u.__proto__ = l;
      } || function(u, l) {
        for (var c in l) l.hasOwnProperty(c) && (u[c] = l[c]);
      }, i(o, s);
    };
    return function(o, s) {
      i(o, s);
      function u() {
        this.constructor = o;
      }
      o.prototype = s === null ? Object.create(s) : (u.prototype = s.prototype, new u());
    };
  }();
  Object.defineProperty(mn, "__esModule", { value: !0 });
  var e = V(), t = tc(), n = pe, a = (
    /** @class */
    function(i) {
      r(o, i);
      function o() {
        return i !== null && i.apply(this, arguments) || this;
      }
      return Object.defineProperty(o.prototype, "serviceName", {
        get: function() {
          return "viz-service";
        },
        enumerable: !0,
        configurable: !0
      }), o.prototype.createVizImageAsync = function(s) {
        var u, l = (u = {}, u[e.ParameterId.FunctionName] = "createVizImageAsync", u[e.ParameterId.VizAPIInputJson] = JSON.stringify(s), u);
        return this.execute(e.VerbId.VizAPI, l).then(function(c) {
          var d = c.result;
          return d;
        });
      }, o.prototype.activateSheetAsync = function(s) {
        var u, l = (u = {}, u[e.ParameterId.FunctionName] = "activateSheetAsync", u[e.ParameterId.SwitchToSheetName] = s, u);
        return this.execute(e.VerbId.ActivateSheet, l).then(function() {
        });
      }, o.prototype.getCustomViewsAsync = function() {
        var s, u = this, l = (s = {}, s[e.ParameterId.FunctionName] = "getCustomViewsAsync", s);
        return this.execute(e.VerbId.GetCustomViews, l).then(function(c) {
          var d = c.result;
          return d.map(function(y) {
            return new t.CustomViewImpl(y, u._registryId);
          });
        });
      }, o.prototype.showCustomViewAsync = function(s) {
        var u, l = this, c = (u = {}, u[e.ParameterId.FunctionName] = "showCustomViewAsync", u[e.ParameterId.CustomViewName] = s || "", u);
        return this.execute(e.VerbId.ShowCustomView, c).then(function(d) {
          var y, f = d.result;
          return !((y = f) === null || y === void 0) && y.luid ? new t.CustomViewImpl(f, l._registryId) : void 0;
        });
      }, o.prototype.removeCustomViewAsync = function(s) {
        var u, l = this, c = (u = {}, u[e.ParameterId.FunctionName] = "removeCustomViewAsync", u[e.ParameterId.CustomViewName] = s, u);
        return this.execute(e.VerbId.RemoveCustomView, c).then(function(d) {
          var y = d.result;
          return new t.CustomViewImpl(y, l._registryId);
        });
      }, o.prototype.saveCustomViewAsync = function(s) {
        var u, l = this, c = (u = {}, u[e.ParameterId.FunctionName] = "saveCustomViewAsync", u[e.ParameterId.CustomViewName] = s, u[e.ParameterId.CustomViewIsDefault] = !1, u);
        return this.execute(e.VerbId.SaveWorkbookAsCustomView, c).then(function(d) {
          var y = d.result;
          return new t.CustomViewImpl(y, l._registryId);
        });
      }, o.prototype.setActiveCustomViewAsDefaultAsync = function() {
        var s, u = (s = {}, s[e.ParameterId.FunctionName] = "setActiveCustomViewAsDefaultAsync", s);
        return this.execute(e.VerbId.SetActiveCustomViewAsDefault, u).then(function() {
        });
      }, o.prototype.saveAsync = function(s) {
        var u, l = this, c = (u = {}, u[e.ParameterId.FunctionName] = "saveAsync", u[e.ParameterId.CustomViewLuid] = s.luid, u[e.ParameterId.CustomViewName] = s.name, u[e.ParameterId.CustomViewIsDefault] = s.isDefault, u[e.ParameterId.CustomViewIsPublic] = s.shared, u);
        return this.execute(e.VerbId.UpdateCustomView, c).then(function(d) {
          var y = d.result;
          return new t.CustomViewImpl(y, l._registryId);
        });
      }, o.prototype.getCurrentSrcAsync = function() {
        var s, u = (s = {}, s[e.ParameterId.FunctionName] = "getCurrentSrcAsync", s);
        return this.execute(e.VerbId.GetCurrentSrc, u).then(function(l) {
          return l.result;
        });
      }, o;
    }(n.ServiceImplBase)
  );
  return mn.VizServiceImpl = a, mn;
}
var fo = {}, Vy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(fo, "__esModule", { value: !0 });
var zy = O, dt = V(), jy = gt, gn = Fe(), Ny = Qt(), $y = pe, Uy = (
  /** @class */
  function(r) {
    Vy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "zone-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.setVisibilityAsync = function(t, n, a) {
      var i, o = (i = {}, i[dt.ParameterId.FunctionName] = "setVisibilityAsync", i[dt.ParameterId.Dashboard] = t, i[dt.ParameterId.ZoneIdsVisibilityMap] = {}, i), s = Ny.Param.convertParameterToMap(a, "zoneVisibilityMap");
      return s.forEach(function(u, l) {
        gn.ErrorHelpers.verifyZoneIsValid(n, Number.parseInt(l, 10)), gn.ErrorHelpers.verifyEnumValue(u, zy.DashboardObjectVisibilityType, "DashboardObjectVisibilityType"), o[dt.ParameterId.ZoneIdsVisibilityMap][l] = jy.ExternalToInternalEnumMappings.setVisibilityType.convert(u);
      }), this.execute(dt.VerbId.SetZoneVisibility, o).then(function(u) {
      });
    }, e.prototype.moveAndResizeAsync = function(t, n, a) {
      var i, o = (i = {}, i[dt.ParameterId.Dashboard] = t, i[dt.ParameterId.DashboardObjectPositionAndSizeUpdateList] = a, i);
      return a.forEach(function(s) {
        gn.ErrorHelpers.verifyZoneIsValidAndFloating(n, s.dashboardObjectID), gn.ErrorHelpers.verifyWidthAndHeightOfDashboardObjectPositionAndSizeUpdate(s);
      }), this.execute(dt.VerbId.MoveAndResizeZones, o).then(function(s) {
      });
    }, e;
  }($y.ServiceImplBase)
);
fo.ZoneServiceImpl = Uy;
var Au;
function Ly() {
  if (Au) return cn;
  Au = 1, Object.defineProperty(cn, "__esModule", { value: !0 });
  var r = je, e = qa, t = to, n = ro, a = ao, i = oo, o = so, s = Bg(), u = my(), l = ui, c = co, d = ho, y = li, f = po, v = xy(), h = fo;
  function p(b, g) {
    r.ApiServiceRegistry.get(g).registerService(new t.AnimationServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new a.DataSourceServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new i.ExportServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new u.GetDataServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new s.FilterServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new l.NotificationServiceImpl(b)), r.ApiServiceRegistry.get(g).registerService(new c.ParametersServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new d.SelectionServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new n.AnnotationServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new h.ZoneServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new y.SizeServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new f.VisualModelServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new v.VizServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new o.ExternalContextMenuServiceImpl(b, g)), r.ApiServiceRegistry.get(g).registerService(new e.AccessibilityServiceImpl(b, g));
  }
  return cn.registerAllSharedServices = p, cn;
}
var vo = {}, Wy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(vo, "__esModule", { value: !0 });
var wu = V(), Hy = pe, By = (
  /** @class */
  function(r) {
    Wy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "client-info-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.getClientInfoAsync = function() {
      var t, n = wu.VerbId.GetEmbeddingClientInfo, a = (t = {}, t[wu.ParameterId.FunctionName] = "getClientInfoAsync", t);
      return this.execute(n, a).then(function(i) {
        var o = i.result;
        return o;
      });
    }, e;
  }(Hy.ServiceImplBase)
);
vo.ClientInfoServiceImpl = By;
var mo = {}, Gy = w && w.__extends || /* @__PURE__ */ function() {
  var r = function(e, t) {
    return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, a) {
      n.__proto__ = a;
    } || function(n, a) {
      for (var i in a) a.hasOwnProperty(i) && (n[i] = a[i]);
    }, r(e, t);
  };
  return function(e, t) {
    r(e, t);
    function n() {
      this.constructor = e;
    }
    e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());
  };
}();
Object.defineProperty(mo, "__esModule", { value: !0 });
var Xe = V(), Ky = pe, Yy = (
  /** @class */
  function(r) {
    Gy(e, r);
    function e() {
      return r !== null && r.apply(this, arguments) || this;
    }
    return Object.defineProperty(e.prototype, "serviceName", {
      get: function() {
        return "story-activation-service";
      },
      enumerable: !0,
      configurable: !0
    }), e.prototype.activateNextStoryPointAsync = function() {
      var t, n = Xe.VerbId.ActivateNextStoryPoint, a = (t = {}, t[Xe.ParameterId.FunctionName] = "activateNextStoryPointAsync", t);
      return this.execute(n, a).then(function(i) {
      });
    }, e.prototype.activatePreviousStoryPointAsync = function() {
      var t, n = Xe.VerbId.ActivatePreviousStoryPoint, a = (t = {}, t[Xe.ParameterId.FunctionName] = "activatePreviousStoryPointAsync", t);
      return this.execute(n, a).then(function(i) {
      });
    }, e.prototype.activateStoryPointAsync = function(t) {
      var n, a = Xe.VerbId.ActivateStoryPoint, i = (n = {}, n[Xe.ParameterId.FunctionName] = "activateStoryPointAsync", n);
      return i[Xe.ParameterId.StoryPointIndex] = t, this.execute(a, i).then(function(o) {
      });
    }, e.prototype.revertStoryPointAsync = function(t) {
      var n, a = Xe.VerbId.RevertStoryPoint, i = (n = {}, n[Xe.ParameterId.FunctionName] = "revertStoryPointAsync", n);
      return i[Xe.ParameterId.StoryPointIndex] = t, this.execute(a, i).then(function(o) {
        return o.result;
      });
    }, e;
  }(Ky.ServiceImplBase)
);
mo.StoryActivationServiceImpl = Yy;
var go = {};
Object.defineProperty(go, "__esModule", { value: !0 });
var yn = V(), Qy = (
  /** @class */
  function() {
    function r(e, t) {
      var n = this;
      this._apiDelegateDispatcher = e, this._versionConverter = yn.CreateExternalCompatibleVersionConverter(yn.INTERNAL_CONTRACT_VERSION, t), this._notificationHandlers = [], e.registerNotificationHandler(function(a) {
        if (n._notificationHandlers.length !== 0) {
          var i = n._versionConverter.upgradeNotification(a);
          n._notificationHandlers.forEach(function(o) {
            o(i);
          });
        }
      });
    }
    return r.needsVersionConverter = function(e) {
      return yn.VersionLessThan(e, yn.INTERNAL_CONTRACT_VERSION);
    }, r.prototype.execute = function(e, t) {
      var n = this;
      try {
        var a = this._versionConverter.downgradeExecuteCall(e, t);
        return this._apiDelegateDispatcher.execute(a.verb, a.parameters).then(function(i) {
          var o = n._versionConverter.upgradeExecuteReturn(i, e, t);
          return o;
        });
      } catch (i) {
        return Promise.reject(i);
      }
    }, r.prototype.registerNotificationHandler = function(e) {
      this._notificationHandlers.push(e);
    }, r.prototype.unregisterNotificationHandler = function(e) {
      this._notificationHandlers = this._notificationHandlers.filter(function(t) {
        return t !== e;
      });
    }, r;
  }()
);
go.VersionedExternalApiDispatcher = Qy;
var Tu;
function G() {
  return Tu || (Tu = 1, function(r) {
    function e(er) {
      for (var Ct in er) r.hasOwnProperty(Ct) || (r[Ct] = er[Ct]);
    }
    Object.defineProperty(r, "__esModule", { value: !0 });
    var t = Pa;
    r.ApiVersion = t.ApiVersion, e(Ca);
    var n = Gn;
    r.CrossFrameDispatcher = n.CrossFrameDispatcher;
    var a = Ar;
    r.DataSource = a.DataSource;
    var i = gt;
    r.ExternalToInternalEnumMappings = i.ExternalToInternalEnumMappings;
    var o = ut;
    r.InternalToExternalEnumMappings = o.InternalToExternalEnumMappings;
    var s = Ba;
    r.EventListenerManager = s.EventListenerManager;
    var u = wr;
    r.Field = u.Field;
    var l = tc();
    r.CustomViewImpl = l.CustomViewImpl;
    var c = Yn;
    r.DashboardImpl = c.DashboardImpl;
    var d = Zn;
    r.DashboardObjectImpl = d.DashboardObjectImpl;
    var y = Dr;
    r.DataSourceImpl = y.DataSourceImpl;
    var f = qn;
    r.ParameterImpl = f.ParameterImpl;
    var v = Zt;
    r.SheetImpl = v.SheetImpl;
    var h = Pr;
    r.SheetInfoImpl = h.SheetInfoImpl;
    var p = Qa;
    r.SingleEventManagerImpl = p.SingleEventManagerImpl;
    var b = Za;
    r.StoryImpl = b.StoryImpl;
    var g = ei;
    r.StoryPointImpl = g.StoryPointImpl;
    var _ = ti;
    r.StoryPointInfoImpl = _.StoryPointInfoImpl;
    var S = Xa;
    r.WorkbookImpl = S.WorkbookImpl;
    var P = Cr;
    r.WorksheetImpl = P.WorksheetImpl;
    var T = Qn;
    r.Point = T.Point, e(Ly()), e(je);
    var A = vo;
    r.ClientInfoServiceImpl = A.ClientInfoServiceImpl;
    var F = ui;
    r.NotificationServiceImpl = F.NotificationServiceImpl;
    var ee = Fr;
    r.NotificationServiceImplBase = ee.NotificationServiceImplBase, r.Registration = ee.Registration;
    var oe = pe;
    r.ServiceImplBase = oe.ServiceImplBase;
    var $e = li;
    r.SizeServiceImpl = $e.SizeServiceImpl;
    var Pt = mo;
    r.StoryActivationServiceImpl = Pt.StoryActivationServiceImpl;
    var le = ae;
    r.TableauError = le.TableauError;
    var Ue = Or;
    r.Deferred = Ue.Deferred;
    var Ge = Fe();
    r.ErrorHelpers = Ge.ErrorHelpers;
    var jr = ni;
    r.ExportHelpers = jr.ExportHelpers;
    var Nr = Tr;
    r.SheetUtils = Nr.SheetUtils;
    var $r = $n;
    r.VersionNumber = $r.VersionNumber;
    var Ur = go;
    r.VersionedExternalApiDispatcher = Ur.VersionedExternalApiDispatcher;
  }(Ti)), Ti;
}
var zn = {}, ci = {}, yt = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 }), r.SANITIZED_VALUES = {
    YES_VALUE: "y",
    NO_VALUE: "n"
  };
  const e = /* @__PURE__ */ new Set(["https:", "http:"]);
  class t {
    build() {
      return this._url;
    }
    /**
     * Appends the non-empty parameters to the URL, preserving parameters that already exist.
     * @param defaultParameters The map of key/value pairs to append to the search params.
     * @returns This object, so you can chain calls.
     */
    appendDefaultParameters(l) {
      for (const c of l.keys()) {
        const d = l.get(c);
        d && !this._url.searchParams.has(c) && this._url.searchParams.append(c, d);
      }
      return this;
    }
    /**
     * Appends the user-supplied options to the search params. Only known options will be passed
     * through. All unknown options are ignored.
     * @param options The options to set on the search params.
     * @returns This object, so you can chain calls.
     */
    appendUserOptions(l) {
      for (const c of Object.keys(l)) {
        if (l[c] === null || l[c] === void 0)
          continue;
        const d = this._optionNames[c];
        if (!d)
          continue;
        const y = this.sanitizeParameterValue(d, l[c]);
        this._url.searchParams.append(d, y);
      }
      return this;
    }
    appendCustomParams(l) {
      for (const c of l)
        this._url.searchParams.set(c.name, c.value);
      return this;
    }
    setToken(l) {
      if (this._token)
        throw new Error(`The token has already been set to ${this._token}`);
      if (!l)
        return this;
      this._token = l;
      const c = this._url.toString().substring(this._url.origin.length);
      return this._url = new URL(`${this._url.origin}/vizportal/api/web/v1/auth/embed/target`), this._url.searchParams.append("token", l), this._url.searchParams.append("target", c), this;
    }
    sanitizeValue(l) {
      const c = String(l);
      switch (c) {
        case "true":
          return r.SANITIZED_VALUES.YES_VALUE;
        case "false":
          return r.SANITIZED_VALUES.NO_VALUE;
        default:
          return c;
      }
    }
  }
  r.EmbeddingUrlBuilder = t;
  function n(u) {
    a(u);
  }
  r.validateUrl = n;
  function a(u) {
    const l = u.protocol;
    if (!e.has(l))
      throw new Error(`Invalid protocol in URL '${u}'. The protocols supported are ${Array.from(e).join(", ")}.`);
  }
  function i(u) {
    const c = s(new URL(u.toString())).pathname.split("/").filter((d) => d);
    return c.length === 0 ? "" : c[0] === "site" ? c[1] : c[0] === "pulse" && c[1] === "site" ? c[2] : "";
  }
  r.getSiteIdForPulse = i;
  function o(u) {
    const c = s(new URL(u.toString())).pathname.split("/").filter((d) => d);
    return c.length === 0 || c[0] !== "t" || c.length < 2 ? "" : c[1];
  }
  r.getSiteId = o;
  function s(u) {
    let l = u.toString();
    return l = l.replace("/#/site/", "/t/").replace("/#/", "/"), new URL(l);
  }
  r.canonicalizeVizPortalRoutingHashes = s;
})(yt);
Object.defineProperty(ci, "__esModule", { value: !0 });
const Zy = O, pt = V(), lc = G(), cc = yt;
function Jy(r, e, t, n) {
  const a = r.split("?")[0];
  let i;
  try {
    i = new URL(a), cc.validateUrl(i);
  } catch (u) {
    throw new lc.TableauError(Zy.EmbeddingErrorCodes.InvalidUrl, u.message);
  }
  const o = Xy(i, t), s = new dc(i).appendDefaultParameters(o).appendUserOptions(e).appendCustomParams(n);
  return e.iframeAuth && s.setToken(e.token), s.build();
}
ci.createAskDataUrl = Jy;
function Xy(r, e) {
  const t = /* @__PURE__ */ new Map(), n = `${pt.INTERNAL_CONTRACT_VERSION.major}.${pt.INTERNAL_CONTRACT_VERSION.minor}.${pt.INTERNAL_CONTRACT_VERSION.fix}`;
  t.set(pt.AskDataOptionNames.ApiInternalVersion, n);
  const a = lc.ApiVersion.Instance.formattedValue;
  return t.set(pt.AskDataOptionNames.ApiExternalVersion, a), t.set(pt.AskDataOptionNames.ApiID, `embhost${e}`), t.set(pt.AskDataOptionNames.AskDataWebComponent, "true"), t;
}
class dc extends cc.EmbeddingUrlBuilder {
  constructor(e) {
    super(), this._url = e, this._optionNames = pt.AskDataOptionNames;
  }
  /**
   * Sanitizes parameter values before they are added to the search params.
   * @param parameterName The name of the parameter. Some parameters require special handling.
   * @param value The raw value of the parameter.
   */
  sanitizeParameterValue(e, t) {
    return this.sanitizeValue(t);
  }
}
ci.EmbeddingAskDataUrlBuilder = dc;
var Tt = {}, yo = {}, qy = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
Object.defineProperty(yo, "__esModule", { value: !0 });
class eb {
  /**
   * Creates an instance of PromiseQueue.
   */
  constructor() {
    this.queue = [], this.pending = 0, this.concurrency = 1;
  }
  /**
   * Add a function that returns a promise to the queue.
   *
   * @template T
   * @param {PromiseFactory<T>} func
   * @return {*}  {Promise<T>}
   * @memberof PromiseQueue
   */
  add(e) {
    return new Promise((n, a) => {
      this.queue.push(() => qy(this, void 0, void 0, function* () {
        try {
          const i = yield e();
          n(i);
        } catch (i) {
          a(i);
        } finally {
          this.pending--, this.poll();
        }
      }));
    });
  }
  poll() {
    if (this.pending < this.concurrency && this.queue.length > 0) {
      const e = this.queue.shift();
      this.pending++, e();
    }
  }
  size() {
    return this.queue.length;
  }
}
yo.PromiseQueue = eb;
Object.defineProperty(Tt, "__esModule", { value: !0 });
const tb = yo;
class Rr {
  static authRequired(e, t) {
    if (!t)
      return !0;
    try {
      const n = new URL(e);
      if (this.signedInOrigins.has(n.origin))
        return !1;
    } catch {
      return !0;
    }
    return !0;
  }
  static updateSignedInOrigin(e, t) {
    if (t)
      try {
        const n = new URL(e);
        this.signedInOrigins.add(n.origin);
      } catch {
        return;
      }
  }
  static clearOrigin(e, t) {
    if (t && e)
      try {
        const n = new URL(e);
        this.signedInOrigins.delete(n.origin);
      } catch {
        return;
      }
  }
  static registerWebComponent(e) {
    const t = this.embeddingIndex;
    return this.webComponents.set(t, e), this.embeddingIndex++, t;
  }
  static unregisterWebComponent(e) {
    this.webComponents.delete(e);
  }
  // Methods below only used for testing
  static getWebComponents() {
    const e = /* @__PURE__ */ new Map();
    return this.webComponents.forEach((t, n) => {
      e.set(n, t);
    }), e;
  }
  static synchronizeRender(e) {
    const t = this.queue.add(e);
    return this.queue.poll(), t;
  }
  static clear() {
    this.webComponents.clear();
  }
}
Tt.WebComponentManager = Rr;
Rr.embeddingIndex = 0;
Rr.webComponents = /* @__PURE__ */ new Map();
Rr.queue = new tb.PromiseQueue();
Rr.signedInOrigins = /* @__PURE__ */ new Set();
var xr = {}, bo = {};
Object.defineProperty(bo, "__esModule", { value: !0 });
class rb {
  constructor(e, t) {
    this._errorCode = e, this._message = t;
  }
  get message() {
    return this._message;
  }
  get errorCode() {
    return this._errorCode;
  }
}
bo.VizLoadErrorEvent = rb;
var Vr = {};
Object.defineProperty(Vr, "__esModule", { value: !0 });
class hc {
}
Vr.HtmlElementHelpers = hc;
hc.getContentSize = (r) => {
  const e = window.getComputedStyle(r), t = parseInt(e.paddingLeft, 10) || 0, n = parseInt(e.paddingTop, 10) || 0, a = parseInt(e.paddingRight, 10) || 0, i = parseInt(e.paddingBottom, 10) || 0, o = r.clientWidth - Math.round(t + a), s = r.clientHeight - Math.round(n + i);
  return { width: o, height: s };
};
(function(r) {
  var e = w && w.__awaiter || function(y, f, v, h) {
    function p(b) {
      return b instanceof v ? b : new v(function(g) {
        g(b);
      });
    }
    return new (v || (v = Promise))(function(b, g) {
      function _(T) {
        try {
          P(h.next(T));
        } catch (A) {
          g(A);
        }
      }
      function S(T) {
        try {
          P(h.throw(T));
        } catch (A) {
          g(A);
        }
      }
      function P(T) {
        T.done ? b(T.value) : p(T.value).then(_, S);
      }
      P((h = h.apply(y, f || [])).next());
    });
  }, t;
  Object.defineProperty(r, "__esModule", { value: !0 });
  const n = O, a = G(), i = bo, o = Vr, s = Tt;
  var u;
  (function(y) {
    y.Skip = "skip", y.Success = "success", y.Failure = "failure";
  })(u = r.TableauAuthResponse || (r.TableauAuthResponse = {}));
  const l = {
    allowTransparency: "allowTransparency",
    allowFullScreen: "allowFullScreen",
    style: "style",
    class: "class",
    loading: "loading"
  };
  r.getLocalizedTitle = (y) => {
    const f = {
      en: "Data Visualization",
      "en-GB": "Data Visualisation",
      fr: "Visualisation de données",
      es: "Visualización de datos",
      it: "Visualizzazione dati",
      pt: "Visualização de dados",
      ja: "データ ビジュアライゼーション",
      de: "Datenvisualisierung",
      ko: "데이터 비주얼리제이션",
      "zh-CN": "数据可视化",
      "zh-TW": "資料可視化"
    };
    return f[y] || f[y.substr(0, 2)] || f.en;
  };
  const c = (t = globalThis.HTMLElement, t ?? class {
    attachShadow(y) {
    }
  });
  class d extends c {
    // https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-conformance
    constructor() {
      super(), this._initialized = !1, this._embeddingIdCounter = 0, this._fixedSize = !1, this.attachShadow({ mode: "open" });
    }
    disconnectedCallback() {
      var f, v;
      this._iframe && ((f = this.shadowRoot) === null || f === void 0 || f.removeChild(this._iframe)), this._iframeStyle && ((v = this.shadowRoot) === null || v === void 0 || v.removeChild(this._iframeStyle)), s.WebComponentManager.clearOrigin(this.src, this.forceTokenSync), s.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter), this._initialized = !1;
    }
    connectedCallback() {
      document.readyState === "loading" ? document.addEventListener("DOMContentLoaded", () => {
        this.initialize();
      }) : this.initialize();
    }
    /**
     * Invoked each time one of the custom element's attributes is added, removed, or changed.
     * @param  {string} name - The name of the attribute.
     * @param  {string|null} oldValue - The previous value of the attribute or null if the attribute was just added.
     * @param  {string|null} newValue - The new value of the attribute or null if the attribute was just removed.
     * @returns void
     */
    attributeChangedCallback(f, v, h) {
      if (!(!v && v === h)) {
        if (f === n.WebComponentAttributes.Width || f === n.WebComponentAttributes.Height) {
          this.setFrameSize();
          return;
        }
        f === n.WebComponentAttributes.Token && v && v !== h && s.WebComponentManager.clearOrigin(this.src, this.forceTokenSync), s.WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this, this.src));
      }
    }
    static get observedAttributes() {
      return Object.values(n.WebComponentAttributes);
    }
    initialize() {
      this._initialized || (this.style.display = "flex", this.setupFrame(), this.registerAttributeAuthErrorEvent(), s.WebComponentManager.synchronizeRender(this.updateRendering.bind(this, this.src)));
    }
    get fixedSize() {
      return this._fixedSize;
    }
    readCustomParamsFromChildren() {
      const f = [];
      return Array.from(this.children).forEach((v) => {
        v.localName === n.WebComponentChildElements.CustomParameter && v.getAttribute(n.WebComponentChildElementAttributes.Name) && v.getAttribute(n.WebComponentChildElementAttributes.Value) && f.push({
          name: v.getAttribute(n.WebComponentChildElementAttributes.Name),
          value: v.getAttribute(n.WebComponentChildElementAttributes.Value)
        });
      }), f;
    }
    getIframeStyleChild() {
      let f;
      for (const v of Array.from(this.children))
        if (v.localName === n.WebComponentChildElements.IframeStyle) {
          if (f)
            throw new a.TableauError(n.EmbeddingErrorCodes.InternalError, `Only one ${n.WebComponentChildElements.IframeStyle} child element is supported. Please combine your styles.`);
          f = v;
        }
      return f;
    }
    setupFrame() {
      var f;
      this._iframe = document.createElement("iframe");
      const v = navigator.language, h = r.getLocalizedTitle(v);
      if (this._iframe.setAttribute("title", h), this._iframe.setAttribute(l.allowTransparency, "true"), this._iframe.setAttribute(l.allowFullScreen, "true"), this.iframeAttributeLoading && this._iframe.setAttribute("loading", this.iframeAttributeLoading), this._iframe.style.margin = "0px", this._iframe.style.padding = "0px", this._iframe.style.border = "none", this._iframe.style.position = "relative", this._iframe.id = this.id, this._iframe.name = this.id, this.setFrameSize(), this.iframeAttributeStyle) {
        const p = this._iframe.getAttribute(l.style);
        this._iframe.setAttribute(l.style, `${p} ${this.iframeAttributeStyle}`);
      }
      if (this.iframeAttributeClass && this._iframe.setAttribute(l.class, this.iframeAttributeClass), this.shadowRoot) {
        const p = this.getIframeStyleChild();
        if (p) {
          p.style.display = "none";
          const b = (f = p.textContent) === null || f === void 0 ? void 0 : f.trim();
          b && (this._iframeStyle = document.createElement("style"), this._iframeStyle.textContent = b, this.shadowRoot.appendChild(this._iframeStyle));
        }
        this.shadowRoot.appendChild(this._iframe);
      }
    }
    setFrameSize() {
      this._iframe && (this._iframe.style.height = this.height, this._iframe.style.width = this.width);
    }
    /**
     * Compute the height and width by checking for the existence of
     * 1. The height and width attributes on the element, and
     * 2. The window computed height and width of the parent element.
     * If neither are defined for both dimensions, then return the default values.
     * @returns height and width to be used in setting the iframe size.
     */
    computeElementSize() {
      const f = this.getPixelAttribute(n.WebComponentAttributes.Height), v = this.getPixelAttribute(n.WebComponentAttributes.Width);
      if (f && v)
        return this._fixedSize = !0, { height: f, width: v };
      if (this.parentElement) {
        const { height: h, width: p } = o.HtmlElementHelpers.getContentSize(this.parentElement);
        if (h && p)
          return this._fixedSize = !0, { height: `${h}px`, width: `${p}px` };
      }
      return this._fixedSize = !1, { height: d.AttributeDefaults.height, width: d.AttributeDefaults.width };
    }
    //Simple Getters / Setters
    get src() {
      return this.getAttribute(n.WebComponentAttributes.Src);
    }
    set src(f) {
      f && this.setAttribute(n.WebComponentAttributes.Src, f);
    }
    get forceTokenSync() {
      return this.hasAttribute(n.WebComponentAttributes.ForceTokenSync);
    }
    set forceTokenSync(f) {
      f ? this.setAttribute(n.WebComponentAttributes.ForceTokenSync, "") : this.removeAttribute(n.WebComponentAttributes.ForceTokenSync);
    }
    get width() {
      return this.computeElementSize().width;
    }
    // non-valid css lengths will simply turn into '' e.g a number with no units
    set width(f) {
      this.setAttribute(n.WebComponentAttributes.Width, f);
    }
    get height() {
      return this.computeElementSize().height;
    }
    // non-valid css lengths will simply turn into '' e.g a number with no units
    set height(f) {
      this.setAttribute(n.WebComponentAttributes.Height, f);
    }
    get debug() {
      return this.hasAttribute(n.WebComponentAttributes.Debug);
    }
    set debug(f) {
      f ? this.setAttribute(n.WebComponentAttributes.Debug, "") : this.removeAttribute(n.WebComponentAttributes.Debug);
    }
    get token() {
      const f = this.getAttribute(n.WebComponentAttributes.Token);
      if (f)
        return f;
    }
    set token(f) {
      f ? this.setAttribute(n.WebComponentAttributes.Token, f) : this.removeAttribute(n.WebComponentAttributes.Token);
    }
    get iframeAuth() {
      return this.hasAttribute(n.WebComponentAttributes.IframeAuth);
    }
    set iframeAuth(f) {
      f ? this.setAttribute(n.WebComponentAttributes.IframeAuth, "") : this.removeAttribute(n.WebComponentAttributes.IframeAuth);
    }
    get iframeAttributeLoading() {
      const f = this.getAttribute(n.EmbeddedIframeAttributes.Loading);
      if (f)
        return f;
    }
    set iframeAttributeLoading(f) {
      var v, h;
      f ? (this.setAttribute(n.EmbeddedIframeAttributes.Loading, f), (v = this._iframe) === null || v === void 0 || v.setAttribute(l.loading, f)) : (this.removeAttribute(n.EmbeddedIframeAttributes.Loading), (h = this._iframe) === null || h === void 0 || h.removeAttribute(l.loading));
    }
    get iframeAttributeStyle() {
      const f = this.getAttribute(n.EmbeddedIframeAttributes.Style);
      if (f)
        return f;
    }
    set iframeAttributeStyle(f) {
      var v, h;
      f ? (this.setAttribute(n.EmbeddedIframeAttributes.Style, f), (v = this._iframe) === null || v === void 0 || v.setAttribute(l.style, f)) : (this.removeAttribute(n.EmbeddedIframeAttributes.Style), (h = this._iframe) === null || h === void 0 || h.removeAttribute(l.style));
    }
    get iframeAttributeClass() {
      const f = this.getAttribute(n.EmbeddedIframeAttributes.Class);
      if (f)
        return f;
    }
    set iframeAttributeClass(f) {
      var v, h;
      f ? (this.setAttribute(n.EmbeddedIframeAttributes.Class, f), (v = this._iframe) === null || v === void 0 || v.setAttribute(l.class, f)) : (this.removeAttribute(n.EmbeddedIframeAttributes.Class), (h = this._iframe) === null || h === void 0 || h.removeAttribute(l.class));
    }
    getPixelAttribute(f) {
      const v = this.getAttribute(f);
      return v && v !== "" ? isNaN(Number(v)) ? v : `${Math.round(Number(v))}px` : "";
    }
    get iframe() {
      return this._iframe;
    }
    registerAttributeAuthErrorEvent() {
      this.getWebComponentAttributeEvents().forEach((f) => {
        const [v, h] = f;
        this.registerCallback(v, h);
      });
    }
    getWebComponentAttributeEvents() {
      return [[n.WebComponentAttributes.OnVizLoadError, n.EmbeddingTableauEventType.VizLoadError]];
    }
    registerCallback(f, v) {
      const h = this.getAttribute(f);
      h && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(h) && window[h] && this.addEventListener(v, window[h]);
    }
    auth(f) {
      return e(this, void 0, void 0, function* () {
        try {
          if (!this.src || !this.token || this.iframeAuth || !s.WebComponentManager.authRequired(this.src, this.forceTokenSync))
            return u.Skip;
          const p = `${new URL(this.src).origin.toString()}/vizportal/api/web/v1/auth/embed/signin`, b = {
            siteName: f,
            jwt: this.token
          }, g = {
            method: "POST",
            credentials: "include",
            headers: {
              "content-type": "application/json"
            },
            body: JSON.stringify(b)
          }, _ = yield fetch(p, g);
          if (_.ok)
            return s.WebComponentManager.updateSignedInOrigin(this.src, this.forceTokenSync), u.Success;
          const P = yield _.text(), T = {
            statusCode: _.status,
            errorMessage: P
          };
          return this.isFallbackToRedirectAuthNeeded(T) ? (this.iframeAuth = !0, console.debug("Auth Fallback trigger"), u.Failure) : (this.raiseVizLoadErrorNotification(n.EmbeddingErrorCodes.AuthFailed, T), u.Failure);
        } catch (v) {
          return this.raiseVizLoadErrorNotification(n.EmbeddingErrorCodes.UnknownAuthError, v), u.Failure;
        }
      });
    }
    isFallbackToRedirectAuthNeeded(f) {
      try {
        if (f.statusCode === 404)
          return !0;
        if (f.statusCode === 401) {
          let v = JSON.parse(f.errorMessage).result.errors;
          if (v && v.length > 0 && v[0].code === 67)
            return !0;
        }
        return !1;
      } catch (v) {
        return console.error("Parsing error: " + v), !1;
      }
    }
    raiseIframeSrcUpdatedNotification() {
      this.dispatchEvent(new CustomEvent(n.EmbeddingTableauEventType.IframeSrcUpdated));
    }
    raiseVizLoadErrorNotification(f, v) {
      try {
        console.error(v);
        const h = new i.VizLoadErrorEvent(f, JSON.stringify(v));
        this.dispatchEvent(new CustomEvent(n.EmbeddingTableauEventType.VizLoadError, { detail: h }));
      } catch {
        const p = new i.VizLoadErrorEvent(n.EmbeddingErrorCodes.UnknownAuthError, "");
        this.dispatchEvent(new CustomEvent(n.EmbeddingTableauEventType.VizLoadError, { detail: p }));
      }
    }
  }
  r.TableauWebComponent = d, d.AttributeDefaults = {
    width: "800px",
    height: "600px"
  };
})(xr);
var Pu = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
};
Object.defineProperty(zn, "__esModule", { value: !0 });
const Ae = O, nb = ci, ib = yt, Cu = Tt, Du = xr;
class ab extends Du.TableauWebComponent {
  constructor() {
    super();
  }
  static get observedAttributes() {
    return [...super.observedAttributes, ...Object.values(Ae.AskDataAttributes)];
  }
  updateRenderingIfInitialized(e) {
    return Pu(this, void 0, void 0, function* () {
      if (this._initialized)
        return Cu.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter), this.updateRendering(e);
    });
  }
  updateRendering(e) {
    return Pu(this, void 0, void 0, function* () {
      try {
        if (this._initialized = !0, !e) {
          console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
          return;
        }
        if ((yield this.auth(ib.getSiteId(e))) === Du.TableauAuthResponse.Failure) {
          console.debug("Authentication failed.");
          return;
        }
        if (!this.src) {
          console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
          return;
        }
        if (!this.iframe) {
          console.debug("No iframe available to update the src.");
          return;
        }
        const n = this.readCustomParamsFromChildren();
        this._embeddingIdCounter = Cu.WebComponentManager.registerWebComponent(this);
        const a = nb.createAskDataUrl(this.src, this.constructOptions(), this._embeddingIdCounter, n).toString();
        this.iframe.src = a, this.raiseIframeSrcUpdatedNotification();
        return;
      } catch (t) {
        console.warn(t);
      }
    });
  }
  constructOptions() {
    return {
      origin: this.origin,
      showEmbed: this.showEmbed,
      showPin: this.showPin,
      showSave: this.showSave,
      showShare: this.showShare,
      token: this.token,
      iframeAuth: this.iframeAuth,
      debug: this.debug
    };
  }
  get origin() {
    const e = this.getAttribute(Ae.AskDataAttributes.Origin);
    return e || void 0;
  }
  set origin(e) {
    e ? this.setAttribute(Ae.AskDataAttributes.Origin, e) : this.removeAttribute(Ae.AskDataAttributes.Origin);
  }
  get showEmbed() {
    return this.hasAttribute(Ae.AskDataAttributes.ShowEmbed);
  }
  set showEmbed(e) {
    e ? this.setAttribute(Ae.AskDataAttributes.ShowEmbed, "") : this.removeAttribute(Ae.AskDataAttributes.ShowEmbed);
  }
  get showPin() {
    return this.hasAttribute(Ae.AskDataAttributes.ShowPin);
  }
  set showPin(e) {
    e ? this.setAttribute(Ae.AskDataAttributes.ShowPin, "") : this.removeAttribute(Ae.AskDataAttributes.ShowPin);
  }
  get showShare() {
    return this.hasAttribute(Ae.AskDataAttributes.ShowShare);
  }
  set showShare(e) {
    e ? this.setAttribute(Ae.AskDataAttributes.ShowShare, "") : this.removeAttribute(Ae.AskDataAttributes.ShowShare);
  }
  get showSave() {
    return this.hasAttribute(Ae.AskDataAttributes.ShowSave);
  }
  set showSave(e) {
    e ? this.setAttribute(Ae.AskDataAttributes.ShowSave, "") : this.removeAttribute(Ae.AskDataAttributes.ShowSave);
  }
}
zn.TableauAskData = ab;
var jn = {}, _o = {}, So = {};
Object.defineProperty(So, "__esModule", { value: !0 });
const sa = G();
class ob {
  constructor(e) {
    this._registryId = e;
  }
  getAbstractQueryWithDataModel() {
    return sa.ApiServiceRegistry.get(this._registryId).getService(
      "EmbeddingVizApiService"
      /* EmbeddingVizApiService */
    ).getEmbeddingAbstractQueryAsync();
  }
  getVizStateWithDataModel() {
    return sa.ApiServiceRegistry.get(this._registryId).getService(
      "EmbeddingVizApiService"
      /* EmbeddingVizApiService */
    ).getEmbeddingVizStateWithDataModelAsync();
  }
  setVizStateWithDataModel(e) {
    return sa.ApiServiceRegistry.get(this._registryId).getService(
      "EmbeddingVizApiService"
      /* EmbeddingVizApiService */
    ).setEmbeddingVizStateWithDataModelAsync(e);
  }
}
So.AuthoringWorksheetImpl = ob;
var Io = {};
Object.defineProperty(Io, "__esModule", { value: !0 });
class sb {
  constructor(e) {
    this._authoringWorksheetImpl = e;
  }
  getAbstractQueryWithDataModelAsync() {
    return this._authoringWorksheetImpl.getAbstractQueryWithDataModel();
  }
  getVizStateWithDataModelAsync() {
    return this._authoringWorksheetImpl.getVizStateWithDataModel();
  }
  setVizStateWithDataModelAsync(e) {
    return this._authoringWorksheetImpl.setVizStateWithDataModel(e);
  }
}
Io.AuthoringWorksheet = sb;
var ub = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(_o, "__esModule", { value: !0 });
const ku = ub(O), lb = G(), cb = So, db = Io;
class hb {
  constructor(e, t) {
    this._workbookImpl = e, this._registryId = t;
  }
  get activeSheet() {
    if (this._workbookImpl.activeSheet.sheetType === ku.SheetType.Worksheet) {
      const e = new cb.AuthoringWorksheetImpl(this._registryId);
      return new db.AuthoringWorksheet(e);
    }
    throw new lb.TableauError(ku.EmbeddingErrorCodes.InvalidSheetType, "Worksheet type not yet supported in Authoring");
  }
}
_o.AuthoringWorkbook = hb;
var Eo = {}, pc = {};
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = yt;
  r.VizUrlMode = {
    Viewing: "views",
    Authoring: "authoring"
  };
  class t {
    constructor(a, i) {
      this._url = a, this._segments = i;
    }
    get mode() {
      return this._segments.mode;
    }
    get siteId() {
      return this._segments.siteId;
    }
    get workbookId() {
      return this._segments.workbookId;
    }
    get sheetId() {
      return this._segments.sheetId;
    }
    get customView() {
      return this._segments.customView;
    }
    /**
     * Constructs a new URL representing a particular workbook/sheet in a particular mode (viewing,
     * authoring, etc.).
     * @param url An existing URL or href to parse.
     */
    static create(a) {
      const i = e.canonicalizeVizPortalRoutingHashes(new URL(a.toString())), o = t._parsePathName(i.pathname);
      return i.pathname = t._buildPathName(o), new t(i, o);
    }
    toURL() {
      return new URL(this.toString());
    }
    toString() {
      return this._url.toString();
    }
    /**
     * This returns a {@link VizUrl} in the requested mode, if the mode is valid.
     * @param desiredMode The desired {@link VizUrlMode} for a viz.
     * @returns A {@link VizUrl} in the desired mode; throws if the requested mode change is invalid.
     */
    withMode(a) {
      if (this._segments.mode === a)
        return this;
      const i = this._getSegmentsForMode(a);
      return this._makeVizUrlFromPathSegments(i);
    }
    /**
     * This returns a {@link VizUrl} with the requested custom view.
     * @param customView The desired {@link CustomViewPathPart} for a viz.
     * @returns A {@link VizUrl} with the requested view parameters, or no-op if the URL is a non-viewing URL.
     */
    withCustomView(a) {
      var i;
      if (a.luid === ((i = this.customView) === null || i === void 0 ? void 0 : i.luid) && a.name === this.customView.name)
        return this;
      const o = this._getSegmentsForMode(this.mode);
      return o.customView = a, this._makeVizUrlFromPathSegments(o);
    }
    /**
     * This returns a {@link VizUrl} with the requested sheet ID.
     * @param sheetId The desired {@link sheetId} for a viz.
     * @returns A {@link VizUrl} with the desired sheet ID, or no-op if the URL is already for the desired sheet.
     */
    withSheetId(a) {
      if (this.sheetId === a)
        return this;
      const i = Object.assign(Object.assign({}, this._segments), { sheetId: a });
      return this._makeVizUrlFromPathSegments(i);
    }
    /**
     * This returns a {@link VizUrl} with the requested workbook ID.
     * @param workbookId The desired {@link workbookId} for a viz.
     * @returns A {@link VizUrl} with the desired workbook ID, or no-op if the URL is already for the desired workbook.
     */
    withWorkbookId(a) {
      if (this.workbookId === a)
        return this;
      const i = Object.assign(Object.assign({}, this._segments), { workbookId: a });
      return this._makeVizUrlFromPathSegments(i);
    }
    _getSegmentsForMode(a) {
      return a === r.VizUrlMode.Authoring && (this._segments.customView = void 0), Object.assign(Object.assign({}, this._segments), { mode: a });
    }
    _makeVizUrlFromPathSegments(a) {
      const i = t._buildPathName(a), o = new URL(this._url.toString());
      return o.pathname = i, new t(o, a);
    }
    /**
     * Parses the input url and returns all the parts in its pathname.
     */
    static _parsePathName(a) {
      var i, o, s;
      const u = a.split("/").filter((h) => h);
      if (u.length === 0)
        throw new Error("Invalid path name");
      let l;
      if (u[0] === "t") {
        if (u.length < 2)
          throw new Error(`Invalid site in path '${a}'`);
        l = u[1], u.splice(0, 2);
      }
      const c = u.shift();
      if (!c)
        throw new Error(`Missing mode in path '${a}'`);
      const d = c;
      if (!Object.values(r.VizUrlMode).includes(d))
        throw new Error(`Invalid Viz Url Mode '${c}' in path '${a}'`);
      if (u.length === 0)
        throw new Error(`Missing workbook/sheet name in path '${a}'`);
      const y = (i = u.shift(), i ?? ""), f = u.shift();
      if (u.length !== 0 && u.length !== 2)
        throw new Error(`Invalid path name: unknown parts after sheet id: '${a}'`);
      let v;
      if (u.length === 2) {
        const h = (o = u.shift(), o ?? ""), p = (s = u.shift(), s ?? "");
        v = { luid: h, name: p };
      }
      return { mode: d, siteId: l, workbookId: y, sheetId: f, customView: v };
    }
    /**
     * Builds the pathname of a URL from its parts.
     * @param segments Parts of a URL pathname.
     * @returns A string that represents a URL pathname.
     */
    static _buildPathName(a) {
      const i = [];
      return a.siteId && (i.push("t"), i.push(a.siteId)), i.push(a.mode), a.workbookId && i.push(a.workbookId), a.sheetId && i.push(a.sheetId), a.customView && a.mode === r.VizUrlMode.Viewing && (i.push(a.customView.luid), i.push(a.customView.name)), i.join("/");
    }
  }
  r.VizUrl = t;
})(pc);
(function(r) {
  Object.defineProperty(r, "__esModule", { value: !0 });
  const e = O, t = V(), n = G(), a = yt, i = pc;
  var o;
  (function(d) {
    d[d.Viewing = 0] = "Viewing", d[d.Authoring = 1] = "Authoring";
  })(o = r.EmbeddingUrlMode || (r.EmbeddingUrlMode = {}));
  const s = /* @__PURE__ */ new Map([
    [o.Viewing, i.VizUrlMode.Viewing],
    [o.Authoring, i.VizUrlMode.Authoring]
  ]);
  class u extends a.EmbeddingUrlBuilder {
    constructor(y) {
      super(), this._url = y, this._optionNames = t.VizOptionNames;
    }
    appendFilters(y) {
      for (const f of y)
        this._url.searchParams.append(f.field, f.value);
      return this;
    }
    appendParams(y) {
      for (const f of y)
        this._url.searchParams.append(f.name, f.value);
      return this;
    }
    /**
     * Sanitizes parameter values before they are added to the search params.
     * @param parameterName The name of the parameter. Some parameters require special handling.
     * @param value The raw value of the parameter.
     */
    sanitizeParameterValue(y, f) {
      let v;
      switch (y) {
        case t.VizOptionNames.hideTabs:
          v = this.sanitizeValue(!f);
          break;
        case t.VizOptionNames.toolbar:
          v = this.sanitizeValue(f === e.Toolbar.Hidden ? !1 : f);
          break;
        default:
          v = this.sanitizeValue(f);
          break;
      }
      return v;
    }
  }
  r.EmbeddingVizUrlBuilder = u;
  function l(d, y, f, v, h, p, b) {
    if (!d)
      throw new n.TableauError(e.EmbeddingErrorCodes.InternalError, "We should not have attempted to render the component without a src");
    const g = s.get(y);
    if (!g)
      throw new n.TableauError(e.EmbeddingErrorCodes.InternalError, `'${y}' is not yet supported.`);
    const _ = d.split("?")[0];
    let S;
    try {
      S = new URL(_), a.validateUrl(S);
    } catch (A) {
      throw new n.TableauError(e.EmbeddingErrorCodes.InvalidUrl, A.message);
    }
    try {
      S = i.VizUrl.create(_).withMode(g).toURL();
    } catch {
    }
    const P = c(S, v), T = new u(S).appendDefaultParameters(P).appendUserOptions(f).appendFilters(h).appendParams(p).appendCustomParams(b);
    return f.iframeAuth && T.setToken(f.token), T.build();
  }
  r.createVizUrl = l;
  function c(d, y) {
    const f = /* @__PURE__ */ new Map();
    f.set(t.VizOptionNames.Embed, a.SANITIZED_VALUES.YES_VALUE), f.set(t.VizOptionNames.ApiID, `embhost${y}`), d.hostname === "public.tableau.com" && f.set(t.VizOptionNames.ShowVizHome, a.SANITIZED_VALUES.NO_VALUE);
    const v = `${t.INTERNAL_CONTRACT_VERSION.major}.${t.INTERNAL_CONTRACT_VERSION.minor}.${t.INTERNAL_CONTRACT_VERSION.fix}`;
    f.set(t.VizOptionNames.ApiInternalVersion, v);
    const h = n.ApiVersion.Instance.formattedValue;
    return f.set(t.VizOptionNames.ApiExternalVersion, h), f.set(t.VizOptionNames.NavType, "0"), f.set(t.VizOptionNames.NavSrc, "Opt"), f;
  }
})(Eo);
var Jt = {}, Ao = {}, wo = {};
Object.defineProperty(wo, "__esModule", { value: !0 });
class pb {
  constructor(e) {
    this._vizSize = e;
  }
  get vizSize() {
    return this._vizSize;
  }
}
wo.FirstVizSizeKnownEvent = pb;
var To = {};
Object.defineProperty(To, "__esModule", { value: !0 });
class fb {
  constructor(e, t) {
    this._oldSheetName = e, this._newSheetName = t;
  }
  get oldSheetName() {
    return this._oldSheetName;
  }
  get newSheetName() {
    return this._newSheetName;
  }
}
To.TabSwitchedEvent = fb;
var Po = {};
Object.defineProperty(Po, "__esModule", { value: !0 });
class vb {
  constructor(e, t) {
    this._canRedo = e, this._canUndo = t;
  }
  get canRedo() {
    return this._canRedo;
  }
  get canUndo() {
    return this._canUndo;
  }
}
Po.ToolbarStateChangedEvent = vb;
var Co = {}, mb = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
}, gb = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(Co, "__esModule", { value: !0 });
const at = gb(O), bn = V(), q = G();
class yb extends q.WorkbookImpl {
  constructor(e, t) {
    super(), this._registryId = t, this._publishedSheetsInfo = [], this._customViews = /* @__PURE__ */ new Map(), this._name = e.workbookName, this._canDownloadWorkbook = e.canDownloadWorkbook, this.initializeWorkbook(e);
  }
  get activeSheet() {
    return this._activeSheetImpl;
  }
  get publishedSheetsInfo() {
    return this._publishedSheetsInfo;
  }
  get name() {
    return this._name;
  }
  get canDownloadWorkbook() {
    return this._canDownloadWorkbook;
  }
  get pendingTabSwitchPromise() {
    return this._pendingTabSwitchPromise;
  }
  get pendingShowCustomViewPromise() {
    return this._pendingShowCustomViewPromise;
  }
  clearPendingShowCustomViewPromise() {
    this._pendingShowCustomViewPromise = void 0;
  }
  get activeCustomView() {
    return this._currentCustomView;
  }
  activateSheetAsync(e) {
    q.ErrorHelpers.verifyParameter(e, "sheetNameOrIndex");
    let t = this.convertSheetIndexToSheetName(e);
    return q.ErrorHelpers.verifyParameterType(t, "string", "sheetNameOrIndex"), this.validatePublishedSheet(t) || this.verifyDashboardSheets(t), this._activeSheetImpl && t === this._activeSheetImpl.name ? new Promise((i, o) => {
      i(this);
    }) : (q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).activateSheetAsync(t), new Promise((i, o) => {
      this._pendingTabSwitchPromise = { resolve: i, reject: o };
    }));
  }
  getParametersAsync() {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "parameters-service"
      /* Parameters */
    ).getAllParametersAsync();
  }
  changeParameterValueAsync(e, t) {
    return mb(this, void 0, void 0, function* () {
      q.ErrorHelpers.verifyParameter(e, "parameterName");
      const a = yield q.ApiServiceRegistry.get(this._registryId).getService(
        "parameters-service"
        /* Parameters */
      ).findParameterByNameAsync(e);
      if (a)
        return a.changeValueAsync(t).then(() => a);
    });
  }
  updateExistingActiveSheetReferences(e) {
    if (this._activeSheetImpl) {
      if (this._activeSheetImpl.name === e)
        return;
      this._activeSheetImpl.active = !1, this._publishedSheetsInfo.forEach((t, n) => {
        t.name === this._activeSheetImpl.name && (t.active = !1);
      });
    }
  }
  /**
   *
   * This method is responsible for processing custom views from Tableau. It does two things:
   * First, finds out what's the diff between our local cache & the incoming set of custom views depending on the notification
   * Then, updates the local cache
   *
   * @param customViewNotification
   * @param customViewsInfo
   * @returns The updated {@link CustomViewImpl}
   */
  processCustomViews(e, t) {
    var n;
    const a = (n = t.currentView) === null || n === void 0 ? void 0 : n.luid;
    let i = [];
    switch (e) {
      case bn.NotificationId.CustomViewsLoaded:
      case bn.NotificationId.CustomViewSaved: {
        if (this.refreshCustomViewCache(t), a) {
          const o = this._customViews.get(a);
          o && i.push(o);
        }
        break;
      }
      case bn.NotificationId.CustomViewRemoved: {
        let o = new Map(this._customViews);
        this._customViews.clear(), t.customViewsList.map((s) => {
          this._customViews.set(s.luid, new q.CustomViewImpl(s, this._registryId)), o.delete(s.luid);
        });
        for (let s of o.values())
          i.push(s);
        break;
      }
      case bn.NotificationId.CustomViewSetDefault: {
        this.refreshCustomViewCache(t);
        const o = t.customViewsList.find((s) => s.isDefault);
        o && i.push(new q.CustomViewImpl(o, this._registryId));
        break;
      }
    }
    return this._currentCustomView = a ? this._customViews.get(a) : void 0, i;
  }
  refreshCustomViewCache(e) {
    this._customViews.clear(), e.customViewsList.map((t) => {
      this._customViews.set(t.luid, new q.CustomViewImpl(t, this._registryId));
    });
  }
  revertAllAsync() {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).revertAllAsync();
  }
  getCustomViewsAsync() {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).getCustomViewsAsync();
  }
  showCustomViewAsync(e) {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).showCustomViewAsync(e), new Promise((a, i) => {
      this._pendingShowCustomViewPromise = { resolve: a, reject: i };
    });
  }
  removeCustomViewAsync(e) {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).removeCustomViewAsync(e);
  }
  saveCustomViewAsync(e) {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).saveCustomViewAsync(e);
  }
  setActiveCustomViewAsDefaultAsync() {
    return q.ApiServiceRegistry.get(this._registryId).getService(
      "viz-service"
      /* Viz */
    ).setActiveCustomViewAsDefaultAsync();
  }
  initializeWorkbook(e) {
    e.publishedSheets.forEach((t, n) => {
      const a = q.SheetUtils.getSheetSizeFromSizeConstraints(t.sizeConstraint), i = t.name === e.currWorksheetName, o = !1, s = q.SheetUtils.getSheetTypeEnum(t.sheetType), u = new q.SheetInfoImpl(t.name, s, a, n, i, o, t.url);
      if (this._publishedSheetsInfo.push(u), i)
        switch (u.sheetType) {
          case at.SheetType.Worksheet: {
            const l = {
              worksheet: u.name
            };
            this._activeSheetImpl = new q.WorksheetImpl(u, this._registryId, l, null, null);
            break;
          }
          case at.SheetType.Dashboard: {
            const l = {
              sheetName: u.name,
              isDashboard: !0
            };
            this._activeSheetImpl = new q.DashboardImpl(u, e.dashboardZones, l, this._registryId, null);
            break;
          }
          case at.SheetType.Story: {
            if (!e.story)
              throw new q.TableauError(at.SharedErrorCodes.ServerError, "Unable to receive story information from Tableau");
            this._activeSheetImpl = new q.StoryImpl(u, e.story, e.publishedSheets, this._registryId);
            break;
          }
          default:
            throw new q.TableauError(at.SharedErrorCodes.ServerError, "Invalid SheetType");
        }
    });
  }
  convertSheetIndexToSheetName(e) {
    if (typeof e == "number") {
      const t = e;
      if (this.publishedSheetsInfo[t])
        return this.publishedSheetsInfo[t].name;
      throw new q.TableauError(at.EmbeddingErrorCodes.IndexOutOfRange, `Index ${t} is out of range.`);
    }
    return e;
  }
  validatePublishedSheet(e) {
    return this.publishedSheetsInfo.find((n) => n.name === e) !== void 0;
  }
  verifyDashboardSheets(e) {
    if (this._activeSheetImpl.sheetType === at.SheetType.Dashboard) {
      let t = this._activeSheetImpl, n = t.worksheetsImpl.findIndex((a) => a.name === e);
      if (n !== -1) {
        if (t.worksheetsImpl[n].hidden)
          throw new q.TableauError(at.SharedErrorCodes.ServerError, "Cannot activate hidden sheet");
        return;
      }
    }
    throw new q.TableauError(at.EmbeddingErrorCodes.SheetNotInWorkbook, "Sheet is not found in Workbook");
  }
}
Co.EmbeddingWorkbookImpl = yb;
var _n = {}, Sn = {}, In = {}, En = {}, An = {}, wn = {}, Ou;
function Do() {
  if (Ou) return wn;
  Ou = 1;
  var r = w && w.__importStar || function(i) {
    if (i && i.__esModule) return i;
    var o = {};
    if (i != null) for (var s in i) Object.hasOwnProperty.call(i, s) && (o[s] = i[s]);
    return o.default = i, o;
  };
  Object.defineProperty(wn, "__esModule", { value: !0 });
  const e = r(O), t = G(), n = vi();
  let a = class {
    constructor(o, s) {
      this._sheetImpl = o, this._workbookImpl = s;
    }
    get isHidden() {
      return this._sheetImpl.hidden;
    }
    get isActive() {
      return this._sheetImpl.active;
    }
    get name() {
      return this._sheetImpl.name;
    }
    get sheetType() {
      return this._sheetImpl.sheetType;
    }
    get size() {
      if (t.SheetUtils.isValidSheetSize(this._sheetImpl.size))
        return this._sheetImpl.size;
      throw new t.TableauError(e.EmbeddingErrorCodes.NotImplemented, "Not implemented");
    }
    get url() {
      if (this.isHidden)
        throw new t.TableauError(e.EmbeddingErrorCodes.NoUrlForHiddenWorksheet, "No URL for hidden worksheet");
      return this._sheetImpl.url;
    }
    get index() {
      return this._sheetImpl.index;
    }
    get workbook() {
      return new n.Workbook(this._workbookImpl);
    }
    changeSizeAsync(o) {
      return this._sheetImpl.changeSizeAsync(o);
    }
  };
  return wn.Sheet = a, wn;
}
var Tn = {}, Pn = {}, Cn = {}, Mu;
function fc() {
  if (Mu) return Cn;
  Mu = 1, Object.defineProperty(Cn, "__esModule", { value: !0 });
  const r = ko();
  let e = class {
    constructor(n, a) {
      this._storyPointInfoImpl = n, this._workbookImpl = a;
    }
    get index() {
      return this._storyPointInfoImpl.index;
    }
    get caption() {
      return this._storyPointInfoImpl.caption;
    }
    get active() {
      return this._storyPointInfoImpl.active;
    }
    get updated() {
      return this._storyPointInfoImpl.updated;
    }
    get parentStory() {
      return new r.Story(this._storyPointInfoImpl.parentStory, this._workbookImpl);
    }
  };
  return Cn.StoryPointInfo = e, Cn;
}
var Fu;
function ko() {
  if (Fu) return Pn;
  Fu = 1;
  var r = w && w.__importStar || function(s) {
    if (s && s.__esModule) return s;
    var u = {};
    if (s != null) for (var l in s) Object.hasOwnProperty.call(s, l) && (u[l] = s[l]);
    return u.default = s, u;
  };
  Object.defineProperty(Pn, "__esModule", { value: !0 });
  const e = r(O), t = G(), n = Do(), a = di(), i = fc();
  let o = class extends n.Sheet {
    constructor(u, l) {
      super(u, l), this._storyImpl = u;
    }
    get activeStoryPoint() {
      if (!this._storyImpl.activeStoryPoint)
        throw new t.TableauError(e.EmbeddingErrorCodes.ImplementationError, "Active story point has not been initialized");
      return new a.StoryPoint(this._storyImpl.activeStoryPoint, this._workbookImpl);
    }
    get storyPointsInfo() {
      return this._storyImpl.storyPointsInfo.map((u) => new i.StoryPointInfo(u, this._workbookImpl));
    }
    activateNextStoryPointAsync() {
      return this._storyImpl.activateNextStoryPointAsync().then((u) => new a.StoryPoint(u, this._workbookImpl));
    }
    activatePreviousStoryPointAsync() {
      return this._storyImpl.activatePreviousStoryPointAsync().then((u) => new a.StoryPoint(u, this._workbookImpl));
    }
    activateStoryPointAsync(u) {
      return this._storyImpl.activateStoryPointAsync(u).then((l) => new a.StoryPoint(l, this._workbookImpl));
    }
    revertStoryPointAsync(u) {
      return this._storyImpl.revertStoryPointAsync(u).then((l) => new i.StoryPointInfo(l, this._workbookImpl));
    }
  };
  return Pn.Story = o, Pn;
}
var Ru;
function di() {
  if (Ru) return Tn;
  Ru = 1;
  var r = w && w.__importStar || function(s) {
    if (s && s.__esModule) return s;
    var u = {};
    if (s != null) for (var l in s) Object.hasOwnProperty.call(s, l) && (u[l] = s[l]);
    return u.default = s, u;
  };
  Object.defineProperty(Tn, "__esModule", { value: !0 });
  const e = r(O), t = G(), n = pi(), a = ko(), i = hi();
  let o = class {
    constructor(u, l) {
      this._storyPointImpl = u, this._workbookImpl = l;
    }
    get index() {
      return this._storyPointImpl.index;
    }
    get caption() {
      return this._storyPointImpl.caption;
    }
    get active() {
      return this._storyPointImpl.active;
    }
    get updated() {
      return this._storyPointImpl.updated;
    }
    get containedSheet() {
      const u = this._storyPointImpl.containedSheet;
      if (u)
        switch (u.sheetType) {
          case e.SheetType.Worksheet:
            return new i.Worksheet(u, this._workbookImpl);
          case e.SheetType.Dashboard:
            return new n.Dashboard(u, this._workbookImpl);
          case e.SheetType.Story:
            throw new t.TableauError(e.EmbeddingErrorCodes.ImplementationError, "A story cannot contain another story");
          default:
            throw new t.TableauError(e.EmbeddingErrorCodes.ImplementationError, "Unable to initialize contained sheet");
        }
    }
    get parentStory() {
      return new a.Story(this._storyPointImpl.parentStory, this._workbookImpl);
    }
  };
  return Tn.StoryPoint = o, Tn;
}
var xu;
function hi() {
  if (xu) return An;
  xu = 1, Object.defineProperty(An, "__esModule", { value: !0 });
  const r = pi(), e = Do(), t = di();
  let n = class extends e.Sheet {
    constructor(i, o) {
      super(i, o), this._worksheetImpl = i;
    }
    get parentDashboard() {
      return this._worksheetImpl.parentDashboard == null ? null : new r.Dashboard(this._worksheetImpl.parentDashboard, this._workbookImpl);
    }
    get parentStoryPoint() {
      return this._worksheetImpl.parentStoryPoint == null ? null : new t.StoryPoint(this._worksheetImpl.parentStoryPoint, this._workbookImpl);
    }
    getDataSourcesAsync() {
      return this._worksheetImpl.getDataSourcesAsync();
    }
    getSummaryDataAsync(i) {
      return this._worksheetImpl.getSummaryDataAsync(i);
    }
    getSummaryDataReaderAsync(i, o) {
      return this._worksheetImpl.getSummaryDataReaderAsync(i, o);
    }
    getSummaryColumnsInfoAsync() {
      return this._worksheetImpl.getSummaryColumnsInfoAsync();
    }
    getUnderlyingDataAsync(i) {
      return console.warn("Worksheet.getUnderlyingDataAsync is deprecated. Please use Worksheet.getUnderlyingTablesAsync and Worksheet.getUnderlyingTableDataAsync"), this._worksheetImpl.getUnderlyingDataAsync(i);
    }
    getUnderlyingTablesAsync() {
      return this._worksheetImpl.getUnderlyingTablesAsync();
    }
    getUnderlyingTableDataAsync(i, o) {
      return this._worksheetImpl.getUnderlyingTableDataAsync(i, o);
    }
    getUnderlyingTableDataReaderAsync(i, o, s) {
      return this._worksheetImpl.getUnderlyingTableDataReaderAsync(i, o, s);
    }
    getFiltersAsync() {
      return this._worksheetImpl.getFiltersAsync();
    }
    applyFilterAsync(i, o, s, u) {
      return this._worksheetImpl.applyFilterAsync(i, o, s, u);
    }
    applyRangeFilterAsync(i, o) {
      return this._worksheetImpl.applyRangeFilterAsync(i, o);
    }
    clearFilterAsync(i) {
      return this._worksheetImpl.clearFilterAsync(i);
    }
    applyRelativeDateFilterAsync(i, o) {
      return this._worksheetImpl.applyRelativeDateFilterAsync(i, o);
    }
    applyHierarchicalFilterAsync(i, o, s, u) {
      return this._worksheetImpl.applyHierarchicalFilterAsync(i, o, s, u);
    }
    clearSelectedMarksAsync() {
      return this._worksheetImpl.clearSelectedMarksAsync();
    }
    getSelectedMarksAsync() {
      return this._worksheetImpl.getSelectedMarksAsync();
    }
    annotateMarkAsync(i, o) {
      return this._worksheetImpl.annotateMarkAsync(i, o);
    }
    getAnnotationsAsync() {
      return this._worksheetImpl.getAnnotationsAsync();
    }
    removeAnnotationAsync(i) {
      return this._worksheetImpl.removeAnnotationAsync(i);
    }
    selectMarksByValueAsync(i, o) {
      return this._worksheetImpl.selectMarksByValueAsync(i, o);
    }
    appendContextMenuAsync(i, o) {
      return this._worksheetImpl.appendContextMenuAsync(i, o);
    }
    removeContextMenuAsync(i, o) {
      return this._worksheetImpl.removeContextMenuAsync(i, o);
    }
    executeContextMenuAsync(i, o) {
      return this._worksheetImpl.executeContextMenuAsync(i, o);
    }
    renameContextMenuAsync(i, o, s) {
      return this._worksheetImpl.renameContextMenuAsync(i, o, s);
    }
    getVisualSpecificationAsync() {
      return this._worksheetImpl.getVisualSpecificationAsync();
    }
    addMarksCardFieldsAsync(i, o, s, u) {
      return this._worksheetImpl.addMarksCardFieldsAsync(i, o, s, u);
    }
    moveMarksCardFieldAsync(i, o, s, u) {
      return this._worksheetImpl.moveMarksCardFieldAsync(i, o, s, u);
    }
    spliceMarksCardFieldsAsync(i, o, s, u, l) {
      return this._worksheetImpl.spliceMarksCardFieldsAsync(i, o, s, u, l);
    }
  };
  return An.Worksheet = n, An;
}
var Vu;
function bb() {
  if (Vu) return En;
  Vu = 1, Object.defineProperty(En, "__esModule", { value: !0 });
  const r = pi(), e = hi();
  let t = class {
    constructor(a, i) {
      this._dashboardObjectImpl = a, this._workbookImpl = i;
    }
    get dashboard() {
      return new r.Dashboard(this._dashboardObjectImpl.dashboardImpl, this._workbookImpl);
    }
    get type() {
      return this._dashboardObjectImpl.type;
    }
    get position() {
      return this._dashboardObjectImpl.position;
    }
    get size() {
      return this._dashboardObjectImpl.size;
    }
    get worksheet() {
      if (this._dashboardObjectImpl.worksheetImpl)
        return new e.Worksheet(this._dashboardObjectImpl.worksheetImpl, this._workbookImpl);
    }
    get name() {
      return this._dashboardObjectImpl.name;
    }
    get isFloating() {
      return this._dashboardObjectImpl.isFloating;
    }
    get isVisible() {
      return this._dashboardObjectImpl.isVisible;
    }
    get id() {
      return this._dashboardObjectImpl.id;
    }
  };
  return En.DashboardObject = t, En;
}
var zu;
function pi() {
  if (zu) return In;
  zu = 1, Object.defineProperty(In, "__esModule", { value: !0 });
  const r = bb(), e = Do(), t = di(), n = hi();
  let a = class extends e.Sheet {
    constructor(o, s) {
      super(o, s), this._dashboardImpl = o, o.initializeWithPublicInterfaces();
    }
    get objects() {
      return this._dashboardImpl.objects.map((o) => new r.DashboardObject(o, this._workbookImpl));
    }
    get worksheets() {
      return this._dashboardImpl.worksheetsImpl.map((o) => new n.Worksheet(o, this._workbookImpl));
    }
    get parentStoryPoint() {
      return this._dashboardImpl.parentStoryPoint == null ? null : new t.StoryPoint(this._dashboardImpl.parentStoryPoint, this._workbookImpl);
    }
    getFiltersAsync() {
      return this._dashboardImpl.getFiltersAsync();
    }
    applyFilterAsync(o, s, u, l) {
      return this._dashboardImpl.applyFilterAsync(o, s, u, l);
    }
  };
  return In.Dashboard = a, In;
}
var fi = {};
Object.defineProperty(fi, "__esModule", { value: !0 });
class _b {
  constructor(e) {
    this.parameterImpl = e;
  }
  get name() {
    return this.parameterImpl.name;
  }
  get currentValue() {
    return this.parameterImpl.currentValue;
  }
  get dataType() {
    return this.parameterImpl.dataType;
  }
  get allowableValues() {
    return this.parameterImpl.allowableValues;
  }
  get id() {
    return this.parameterImpl.id;
  }
  changeValueAsync(e) {
    return this.parameterImpl.changeValueAsync(e);
  }
}
fi.Parameter = _b;
var Dn = {}, ju;
function Sb() {
  if (ju) return Dn;
  ju = 1;
  var r = w && w.__importStar || function(i) {
    if (i && i.__esModule) return i;
    var o = {};
    if (i != null) for (var s in i) Object.hasOwnProperty.call(i, s) && (o[s] = i[s]);
    return o.default = i, o;
  };
  Object.defineProperty(Dn, "__esModule", { value: !0 });
  const e = r(O), t = G(), n = vi();
  let a = class {
    constructor(o, s) {
      this._sheetInfoImpl = o, this._workbookImpl = s;
    }
    get name() {
      return this._sheetInfoImpl.name;
    }
    get sheetType() {
      return this._sheetInfoImpl.sheetType;
    }
    get index() {
      if (this._sheetInfoImpl.index !== void 0)
        return this._sheetInfoImpl.index;
      throw new t.TableauError(e.EmbeddingErrorCodes.ImplementationError, "index not implemented");
    }
    get isActive() {
      return this._sheetInfoImpl.isActive ? this._sheetInfoImpl.isActive : !1;
    }
    get isHidden() {
      return this._sheetInfoImpl.isHidden ? this._sheetInfoImpl.isHidden : !1;
    }
    get workbook() {
      return new n.Workbook(this._workbookImpl);
    }
    get url() {
      return this._sheetInfoImpl.url ? this._sheetInfoImpl.url : "";
    }
    get size() {
      if (t.SheetUtils.isValidSheetSize(this._sheetInfoImpl.sheetSize))
        return this._sheetInfoImpl.sheetSize;
      throw new t.TableauError(e.EmbeddingErrorCodes.NotImplemented, "Not implemented");
    }
  };
  return Dn.SheetInfo = a, Dn;
}
var Nu;
function vi() {
  if (Nu) return Sn;
  Nu = 1;
  var r = w && w.__importStar || function(c) {
    if (c && c.__esModule) return c;
    var d = {};
    if (c != null) for (var y in c) Object.hasOwnProperty.call(c, y) && (d[y] = c[y]);
    return d.default = c, d;
  };
  Object.defineProperty(Sn, "__esModule", { value: !0 });
  const e = r(O), t = G(), n = mc(), a = pi(), i = fi, o = Sb(), s = ko(), u = hi();
  let l = class {
    constructor(d) {
      this._workbookImpl = d;
    }
    get activeSheet() {
      switch (this._workbookImpl.activeSheet.sheetType) {
        case e.SheetType.Worksheet:
          return new u.Worksheet(this._workbookImpl.activeSheet, this._workbookImpl);
        case e.SheetType.Dashboard:
          return new a.Dashboard(this._workbookImpl.activeSheet, this._workbookImpl);
        case e.SheetType.Story:
          return new s.Story(this._workbookImpl.activeSheet, this._workbookImpl);
        default:
          throw new t.TableauError(e.EmbeddingErrorCodes.ImplementationError, "Unable to initialize ActiveSheet");
      }
    }
    get publishedSheetsInfo() {
      return this._workbookImpl.publishedSheetsInfo.map((d) => new o.SheetInfo(d, this._workbookImpl));
    }
    get name() {
      return this._workbookImpl.name;
    }
    get activeCustomView() {
      if (this._workbookImpl.activeCustomView)
        return new n.CustomView(this._workbookImpl.activeCustomView, this._workbookImpl);
    }
    activateSheetAsync(d) {
      return this._workbookImpl.activateSheetAsync(d).then((y) => (this._workbookImpl !== y && (this._workbookImpl = y), this.activeSheet));
    }
    revertAllAsync() {
      return this._workbookImpl.revertAllAsync();
    }
    getCustomViewsAsync() {
      return this._workbookImpl.getCustomViewsAsync().then((d) => d.map((y) => new n.CustomView(y, this._workbookImpl)));
    }
    showCustomViewAsync(d) {
      return this._workbookImpl.showCustomViewAsync(d).then((y) => y ? new n.CustomView(y, this._workbookImpl) : void 0);
    }
    removeCustomViewAsync(d) {
      return this._workbookImpl.removeCustomViewAsync(d).then((y) => new n.CustomView(y, this._workbookImpl));
    }
    saveCustomViewAsync(d) {
      return this._workbookImpl.saveCustomViewAsync(d).then((y) => new n.CustomView(y, this._workbookImpl));
    }
    setActiveCustomViewAsDefaultAsync() {
      return this._workbookImpl.setActiveCustomViewAsDefaultAsync();
    }
    getParametersAsync() {
      return this._workbookImpl.getParametersAsync().then((d) => d.map((y) => new i.Parameter(y)));
    }
    changeParameterValueAsync(d, y) {
      return this._workbookImpl.changeParameterValueAsync(d, y).then((f) => {
        if (f)
          return new i.Parameter(f);
        throw new t.TableauError(e.EmbeddingErrorCodes.InvalidParameter, `Invalid parameter:  ${d}`);
      });
    }
  };
  return Sn.Workbook = l, Sn;
}
var $u;
function mc() {
  if ($u) return _n;
  $u = 1, Object.defineProperty(_n, "__esModule", { value: !0 });
  const r = vi();
  let e = class vc {
    constructor(n, a) {
      this._customViewImpl = n, this._workbookImpl = a;
    }
    get name() {
      return this._customViewImpl.name;
    }
    set name(n) {
      this._customViewImpl.name = n;
    }
    get shared() {
      return this._customViewImpl.shared;
    }
    set shared(n) {
      this._customViewImpl.shared = n;
    }
    get default() {
      return this._customViewImpl.isDefault;
    }
    set default(n) {
      this._customViewImpl.isDefault = n;
    }
    get ownerName() {
      return this._customViewImpl.ownerName;
    }
    get url() {
      return this._customViewImpl.url;
    }
    get workbook() {
      return new r.Workbook(this._workbookImpl);
    }
    saveAsync() {
      return this._customViewImpl.saveAsync().then((n) => new vc(n, this._workbookImpl));
    }
  };
  return _n.CustomView = e, _n;
}
var Oo = {};
Object.defineProperty(Oo, "__esModule", { value: !0 });
class Ib {
  constructor(e, t) {
    this._sheetSize = e, this._chromeHeight = t;
  }
  get sheetSize() {
    return this._sheetSize;
  }
  get chromeHeight() {
    return this._chromeHeight;
  }
}
Oo.VizSize = Ib;
var zr = {}, Xt = {}, Mo = {};
Object.defineProperty(Mo, "__esModule", { value: !0 });
const Eb = V(), Ab = G();
class wb extends Ab.ServiceImplBase {
  get serviceName() {
    return "authentication";
  }
  setAuthToken(e) {
    const t = {
      authToken: e
    };
    return this.execute(Eb.VerbId.Authenticate, t).then((n) => {
    });
  }
}
Mo.AuthServiceImpl = wb;
var Fo = {};
Object.defineProperty(Fo, "__esModule", { value: !0 });
const Uu = O, qe = V(), ua = G();
class Tb extends ua.ServiceImplBase {
  get serviceName() {
    return "EmbeddingVizApiService";
  }
  getEmbeddingVizStateWithDataModelAsync() {
    const e = qe.VerbId.GetVizStateWithDataModel, t = {
      [qe.ParameterId.FunctionName]: "getVizStateWithDataModel"
    };
    return this.execute(e, t).then((n) => {
      const a = n.result;
      return this.checkForErrorParameter(a), {
        vizStateWithDataModel: a[qe.ParameterId.VizAPIStateWithDataModel]
      };
    });
  }
  checkForErrorParameter(e) {
    if (e[qe.ParameterId.VizAPIStateWarningMsg])
      throw new ua.TableauError(Uu.ErrorCodes.InternalError, e[qe.ParameterId.VizAPIStateWarningMsg]);
  }
  setEmbeddingVizStateWithDataModelAsync(e) {
    const t = qe.VerbId.SetVizStateWithDataModel, n = {
      [qe.ParameterId.FunctionName]: "setVizStateWithDataModel",
      [qe.ParameterId.VizAPIStateWithDataModel]: e.vizStateWithDataModel
    };
    return this.execute(t, n).then((a) => {
      if (Object.keys(a.result).length !== 0) {
        const i = a.result;
        throw new ua.TableauError(Uu.ErrorCodes.InternalError, i);
      }
    });
  }
  getEmbeddingAbstractQueryAsync() {
    const e = qe.VerbId.GetEmbeddingAbstractQueryWithDataModel, t = {
      [qe.ParameterId.FunctionName]: "getEmbeddingAbstractQuery"
    };
    return this.execute(e, t).then((n) => n.result);
  }
}
Fo.EmbeddingVizApiServiceImpl = Tb;
var Ro = {};
Object.defineProperty(Ro, "__esModule", { value: !0 });
const Pb = G();
class Cb extends Pb.NotificationServiceImplBase {
  get serviceName() {
    return "initialization-service";
  }
}
Ro.InitializationServiceImpl = Cb;
var xo = {};
Object.defineProperty(xo, "__esModule", { value: !0 });
const ne = V(), Db = G();
class kb extends Db.ServiceImplBase {
  get serviceName() {
    return "ToolbarService";
  }
  revertAllAsync() {
    const e = ne.VerbId.RevertWorkbook, t = {
      [ne.ParameterId.FunctionName]: "revertAllAsync"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  redoAsync() {
    const e = ne.VerbId.Redo, t = {
      [ne.ParameterId.FunctionName]: "redoAsync"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  undoAsync() {
    const e = ne.VerbId.Undo, t = {
      [ne.ParameterId.FunctionName]: "undoAsync"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  exportImageAsync() {
    const e = ne.VerbId.ExportImage, t = {
      [ne.ParameterId.FunctionName]: "exportImageAsync"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  setAutoUpdateAsync(e) {
    const t = ne.VerbId.SetAutoUpdate, n = {
      [ne.ParameterId.FunctionName]: "setAutoUpdateAsync",
      [ne.ParameterId.State]: e
    };
    return this.execute(t, n).then(() => {
    });
  }
  displayDownloadWorkbookDialogAsync() {
    const e = ne.VerbId.DownloadWorkbook, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(Workbook)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  displayExportPdfDialogAsync() {
    const e = ne.VerbId.ExportPdf, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(ExportPDF)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  displayExportPowerpointDialogAsync() {
    const e = ne.VerbId.ExportPowerpoint, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(ExportPowerPoint)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  displayExportDataDialogAsync() {
    const e = ne.VerbId.ExportData, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(ExportData)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  displayExportCrosstabDialogAsync() {
    const e = ne.VerbId.ExportCrosstab, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(ExportCrossTab)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
  displayShareDialogAsync() {
    const e = ne.VerbId.Share, t = {
      [ne.ParameterId.FunctionName]: "displayDialogAsync(Share)"
    };
    return this.execute(e, t).then((n) => {
    });
  }
}
xo.ToolbarServiceImpl = kb;
Object.defineProperty(Xt, "__esModule", { value: !0 });
const Bt = G(), Ob = Mo, Mb = Fo, Fb = Ro, Rb = xo;
function xb(r, e) {
  const t = Bt.ApiServiceRegistry.get(e);
  t.registerService(new Bt.ClientInfoServiceImpl(r, e)), t.registerService(new Mb.EmbeddingVizApiServiceImpl(r, e)), t.registerService(new Bt.SizeServiceImpl(r, e)), t.registerService(new Bt.StoryActivationServiceImpl(r, e)), t.registerService(new Rb.ToolbarServiceImpl(r, e));
}
Xt.registerAllEmbeddingServices = xb;
function Vb(r, e) {
  Bt.ApiServiceRegistry.get(e).registerService(new Fb.InitializationServiceImpl(r));
}
Xt.registerInitializationEmbeddingServices = Vb;
function zb(r, e) {
  Bt.ApiServiceRegistry.get(e).registerService(new Ob.AuthServiceImpl(r, e));
}
Xt.registerAuthServices = zb;
Object.defineProperty(zr, "__esModule", { value: !0 });
var gc = Xt;
zr.registerAllEmbeddingServices = gc.registerAllEmbeddingServices;
zr.registerInitializationEmbeddingServices = gc.registerInitializationEmbeddingServices;
var la = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
}, jb = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(Ao, "__esModule", { value: !0 });
const W = jb(O), Wt = wa, he = V(), Z = G(), Nb = xr, $b = wo, Ub = To, Lb = Po, Lu = Co, Wb = mc(), Hb = Oo, Wu = zr, Bb = Xt, Gb = Vr;
class Kb {
  constructor(e, t, n, a) {
    if (this._viz = e, this._iframe = t, this._frameUrl = n, this._embeddingId = a, this._automaticUpdatesArePaused = !1, this._resizeEventType = "resize", !this._iframe)
      throw new Z.TableauError(W.EmbeddingErrorCodes.InternalError, "Iframe has not been created yet");
  }
  get workbookImpl() {
    return this._workbookImpl;
  }
  get iframe() {
    return this._iframe;
  }
  get embeddingId() {
    return this._embeddingId;
  }
  get exportScenariosForPdfAndPowerPoint() {
    return {
      currentSheetName: this._workbookImpl.activeSheet.name,
      exportableSheetNamesFromDashboard: this.exportableSheetNamesFromDashboard,
      exportableSheetNamesFromWorkbook: this.exportableSheetNamesFromWorkbook
    };
  }
  get exportableSheetNamesFromDashboard() {
    const e = this._workbookImpl.activeSheet;
    return e && e.sheetType === W.SheetType.Dashboard ? e.getWorksheetNamesFromZones() : [];
  }
  get exportableSheetNamesFromWorkbook() {
    const e = [];
    if (this._workbookImpl)
      for (const t of this._workbookImpl.publishedSheetsInfo)
        e.push(t.name);
    return e;
  }
  get automaticUpdatesArePaused() {
    return this._automaticUpdatesArePaused;
  }
  // TODO: TFS 892510 TabSwitchEvent etc is resposible for updating the state
  set automaticUpdatesArePaused(e) {
    this._automaticUpdatesArePaused = e;
  }
  getVisualIdForSheetName(e) {
    var t, n, a;
    const i = this._workbookImpl.activeSheet;
    switch (i.sheetType) {
      case W.SheetType.Worksheet:
        if (i.name === e)
          return i.visualId;
        break;
      case W.SheetType.Dashboard: {
        const o = i;
        for (const s of o.getWorksheetNamesFromZones())
          if (s === e)
            return { worksheet: s, dashboard: o.name };
        break;
      }
      case W.SheetType.Story: {
        const o = i, s = (t = o.activeStoryPoint) === null || t === void 0 ? void 0 : t.containedSheet;
        if (s && s.sheetType === W.SheetType.Worksheet && s.name === e) {
          const u = Object.assign({}, s.visualId);
          return u.dashboard = u.worksheet, u.storyboard = o.name, u.storyPointID = (n = o.activeStoryPoint) === null || n === void 0 ? void 0 : n.storyPointId, u;
        } else if (s && s.sheetType === W.SheetType.Dashboard) {
          const u = s;
          for (const l of u.getWorksheetNamesFromZones())
            if (l === e)
              return {
                worksheet: l,
                dashboard: u.name,
                storyboard: o.name,
                storyPointID: (a = o.activeStoryPoint) === null || a === void 0 ? void 0 : a.storyPointId
              };
        }
        break;
      }
      default:
        throw new Z.TableauError(W.SharedErrorCodes.ServerError, "Invalid SheetType");
    }
    throw new Z.TableauError(W.SharedErrorCodes.InvalidParameter, "sheetName parameter must belong to a worksheet within the current view");
  }
  get exportableWorksheetNames() {
    var e;
    const t = this._workbookImpl.activeSheet;
    switch (t.sheetType) {
      case W.SheetType.Worksheet:
        return [t.name];
      case W.SheetType.Dashboard:
        return t.getWorksheetNamesFromZones();
      case W.SheetType.Story: {
        const n = (e = t.activeStoryPoint) === null || e === void 0 ? void 0 : e.containedSheet;
        if (n && n.sheetType === W.SheetType.Worksheet)
          return [n.name];
        if (n && n.sheetType === W.SheetType.Dashboard)
          return n.getWorksheetNamesFromZones();
        break;
      }
    }
    return [];
  }
  initializeViz() {
    const e = this._iframe.contentWindow;
    if (!e)
      throw new Z.TableauError(W.EmbeddingErrorCodes.InternalError, "Iframe has not been created yet");
    try {
      this._messenger = new he.CrossFrameMessenger(window, e, this._frameUrl.origin), this._dispatcher = new Z.CrossFrameDispatcher(this._messenger), Wu.registerInitializationEmbeddingServices(this._dispatcher, this.embeddingId), Bb.registerAuthServices(this._dispatcher, this.embeddingId);
      const t = Z.ApiServiceRegistry.get(this.embeddingId).getService(
        "initialization-service"
        /* Initialization */
      ), n = t.registerHandler(he.NotificationId.FirstVizSizeKnown, () => !0, (i) => {
        this.handleVizSizeKnownEvent(i), n();
      }), a = t.registerHandler(he.NotificationId.VizInteractive, () => !0, (i) => {
        this.handleVizInteractiveEvent(i), a();
      });
      t.registerHandler(he.NotificationId.ReadyToReceiveAuthToken, () => !0, () => {
        this._viz.dispatchEvent(new CustomEvent(W.EmbeddingTableauEventType.ReadyToReceiveAuthToken, {}));
      }), t.registerHandler(he.NotificationId.ToolbarStateChanged, () => !0, (i) => this.handleToolbarStateEvent(i)), t.registerHandler(he.NotificationId.TabSwitched, () => !0, (i) => this.handleTabSwitch(i)), t.registerHandler(he.NotificationId.CustomViewsLoaded, () => !0, (i) => this.handleCustomViews(i)), t.registerHandler(he.NotificationId.CustomViewRemoved, () => !0, (i) => this.handleCustomViewRemoved(i)), t.registerHandler(he.NotificationId.CustomViewSaved, () => !0, (i) => this.handleCustomViewSaved(i)), t.registerHandler(he.NotificationId.CustomViewSetDefault, () => !0, (i) => this.handleCustomViewSetDefault(i)), this._messenger.startListening();
    } catch {
      throw new Z.TableauError(W.EmbeddingErrorCodes.InternalError, "Unexpected error during initialization.");
    }
  }
  dispose() {
    this._messenger && this._messenger.stopListening(), this.removeWindowResizeHandler();
  }
  getCurrentSrcAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "viz-service"
      /* Viz */
    ).getCurrentSrcAsync();
  }
  revertAllAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).revertAllAsync();
  }
  redoAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).redoAsync();
  }
  undoAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).undoAsync();
  }
  refreshDataAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "data-source-service"
      /* DataSourceService */
    ).refreshAsync();
  }
  pauseAutomaticUpdatesAsync() {
    return this._automaticUpdatesArePaused ? Promise.resolve() : this.setAutoUpdateAsync(!1);
  }
  resumeAutomaticUpdatesAsync() {
    return this._automaticUpdatesArePaused ? this.setAutoUpdateAsync(!0) : Promise.resolve();
  }
  toggleAutomaticUpdatesAsync() {
    return this.setAutoUpdateAsync(this._automaticUpdatesArePaused);
  }
  exportImageAsync() {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).exportImageAsync();
  }
  exportCrosstabAsync(e, t) {
    return la(this, void 0, void 0, function* () {
      yield Z.ApiServiceRegistry.get(this.embeddingId).getService(
        "export-service"
        /* Export */
      ).exportCrosstabAsync(e, t, this.exportableWorksheetNames, this._workbookImpl.activeSheet.sheetType);
    });
  }
  exportDataAsync(e, t = Z.ExportHelpers.DefaultDataOptions) {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "export-service"
      /* Export */
    ).exportDataAsync(this.getVisualIdForSheetName(e), t);
  }
  exportPowerPointAsync(e = []) {
    return la(this, void 0, void 0, function* () {
      const t = Z.ApiServiceRegistry.get(this.embeddingId).getService(
        "export-service"
        /* Export */
      ), n = this.exportScenariosForPdfAndPowerPoint;
      e.length === 0 && e.push(n.currentSheetName), yield t.exportPowerPointAsync(e, n);
    });
  }
  exportPDFAsync(e = [], t = Z.ExportHelpers.DefaultPDFOptions) {
    return la(this, void 0, void 0, function* () {
      const n = Z.ApiServiceRegistry.get(this.embeddingId).getService(
        "export-service"
        /* Export */
      ), a = this.exportScenariosForPdfAndPowerPoint;
      e.length === 0 && e.push(a.currentSheetName), yield n.exportPDFAsync(e, t, a);
    });
  }
  displayDialogAsync(e) {
    const t = Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    );
    switch (e) {
      case Wt.TableauDialogType.ExportWorkbook:
        if (!this.workbookImpl.canDownloadWorkbook)
          throw new Z.TableauError(W.EmbeddingErrorCodes.DownloadWorkbookNotAllowed, "Download workbook is not allowed");
        return t.displayDownloadWorkbookDialogAsync();
      case Wt.TableauDialogType.ExportPDF:
        return t.displayExportPdfDialogAsync();
      case Wt.TableauDialogType.ExportPowerPoint:
        return t.displayExportPowerpointDialogAsync();
      case Wt.TableauDialogType.ExportData:
        return t.displayExportDataDialogAsync();
      case Wt.TableauDialogType.ExportCrossTab:
        return t.displayExportCrosstabDialogAsync();
      case Wt.TableauDialogType.Share:
        return t.displayShareDialogAsync();
      default:
        throw new Z.TableauError(W.EmbeddingErrorCodes.UnknownDialogType, "Unknown dialog type");
    }
  }
  setAuthToken(e) {
    Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "authentication"
      /* Authentication */
    ).setAuthToken(e);
  }
  setAutoUpdateAsync(e) {
    return Z.ApiServiceRegistry.get(this.embeddingId).getService(
      "ToolbarService"
      /* ToolbarService */
    ).setAutoUpdateAsync(e).then(() => {
      this._automaticUpdatesArePaused = !e;
    });
  }
  isVersionCompatible(e) {
    return e ? he.VersionLessThan(he.INTERNAL_CONTRACT_VERSION, e) || he.VersionEqualTo(he.INTERNAL_CONTRACT_VERSION, e) : !1;
  }
  updateIframeTitle(e) {
    this._iframe.setAttribute("title", Nb.getLocalizedTitle(navigator.language) + ": " + e.workbookName + ": " + e.currWorksheetName);
  }
  handleVizInteractiveEvent(e) {
    if (!this._viz.disableVersionCheck && !this.isVersionCompatible(e.platformVersion))
      throw this._messenger.stopListening(), new Z.TableauError(W.EmbeddingErrorCodes.IncompatibleVersionError, "The version of the Embedding library is not compatible with the version of Tableau. The visualization will load, but the Embedding API methods and events are not available.");
    this.updateIframeTitle(e), Z.registerAllSharedServices(this._dispatcher, this.embeddingId), Wu.registerAllEmbeddingServices(this._dispatcher, this.embeddingId), this._viz.initializeEvents(), this._workbookImpl = new Lu.EmbeddingWorkbookImpl(e, this.embeddingId);
    let t = [];
    this._customViewsTemp && (t = this._workbookImpl.processCustomViews(he.NotificationId.CustomViewsLoaded, this._customViewsTemp)), this._viz.dispatchEvent(new CustomEvent(W.EmbeddingTableauEventType.FirstInteractive)), this._customViewsTemp && (this.sendCustomViewEvents(W.EmbeddingTableauEventType.CustomViewLoaded, t), this._customViewsTemp = null);
  }
  handleVizSizeKnownEvent(e) {
    const t = Z.SheetUtils.getSheetSizeFromSizeConstraints(e.sheetSize);
    this._vizSize = new Hb.VizSize(t, e.chromeHeight);
    const n = new $b.FirstVizSizeKnownEvent(this._vizSize);
    this._viz.dispatchEvent(new CustomEvent(W.EmbeddingTableauEventType.FirstVizSizeKnown, { detail: n })), !this._viz.fixedSize && (this.resize(), this.addWindowResizeHandler());
  }
  resize() {
    const { height: e, width: t } = this.calculateLayoutSize();
    e !== this._vizSize.chromeHeight && (this._iframe.style.height = e + "px", this._iframe.style.width = t + "px");
  }
  calculateLayoutSize() {
    const e = this._viz.parentElement ? Gb.HtmlElementHelpers.getContentSize(this._viz.parentElement) : { height: 0, width: 0 }, { chromeHeight: t, sheetSize: n } = this._vizSize;
    let a = 0, i = 0;
    const o = n.minSize || { height: 0, width: 0 }, s = n.maxSize || { height: 0, width: 0 };
    if (n.behavior === W.SheetSizeBehavior.Exactly)
      a = s.width, i = s.height + t;
    else {
      let u, l, c, d;
      switch (n.behavior) {
        case W.SheetSizeBehavior.Range:
          u = o.width, l = s.width, c = o.height + t, d = s.height + t, a = Math.max(u, Math.min(l, e.width)), i = Math.max(c, Math.min(d, e.height));
          break;
        case W.SheetSizeBehavior.AtLeast:
          u = o.width, c = o.height + t, a = Math.max(u, e.width), i = Math.max(c, e.height);
          break;
        case W.SheetSizeBehavior.AtMost:
          l = s.width, d = s.height + t, a = Math.min(l, e.width), i = Math.min(d, e.height);
          break;
        case W.SheetSizeBehavior.Automatic:
          a = e.width, i = Math.max(e.height, t);
          break;
        default:
          throw new Z.TableauError(W.EmbeddingErrorCodes.InvalidSizeBehavior, "Unknown SheetSizeBehavior for viz: " + n.behavior);
      }
    }
    return { height: i, width: a };
  }
  removeWindowResizeHandler() {
    this._windowResizeHandler && window.removeEventListener(this._resizeEventType, this._windowResizeHandler);
  }
  addWindowResizeHandler() {
    this._windowResizeHandler || (this._windowResizeHandler = this.resize.bind(this), window.addEventListener(this._resizeEventType, this._windowResizeHandler));
  }
  handleToolbarStateEvent(e) {
    const t = new Lb.ToolbarStateChangedEvent(e.toolbarState.canRedo, e.toolbarState.canUndo);
    this._viz.dispatchEvent(new CustomEvent(W.EmbeddingTableauEventType.ToolbarStateChanged, { detail: t }));
  }
  handleTabSwitch(e) {
    if (!this._workbookImpl || !e.oldSheetName)
      return;
    this.updateIframeTitle(e);
    const t = this._workbookImpl.pendingTabSwitchPromise;
    this._workbookImpl.updateExistingActiveSheetReferences(e.currWorksheetName), this._workbookImpl = new Lu.EmbeddingWorkbookImpl(e, this.embeddingId), t && t.resolve(this._workbookImpl);
    const n = new Ub.TabSwitchedEvent(e.oldSheetName, e.currWorksheetName);
    this._viz.dispatchEvent(new CustomEvent(W.EmbeddingTableauEventType.TabSwitched, { detail: n }));
  }
  handleCustomViews(e) {
    if (!this._workbookImpl)
      this._customViewsTemp = e;
    else {
      const t = this._workbookImpl.processCustomViews(he.NotificationId.CustomViewsLoaded, e), n = this._workbookImpl.pendingShowCustomViewPromise;
      if (n) {
        const a = t[0];
        n.resolve(a), this._workbookImpl.clearPendingShowCustomViewPromise();
      }
      this.sendCustomViewEvents(W.EmbeddingTableauEventType.CustomViewLoaded, t);
    }
  }
  handleCustomViewRemoved(e) {
    const t = this._workbookImpl.processCustomViews(he.NotificationId.CustomViewRemoved, e);
    this.sendCustomViewEvents(W.EmbeddingTableauEventType.CustomViewRemoved, t);
  }
  handleCustomViewSaved(e) {
    const t = this._workbookImpl.processCustomViews(he.NotificationId.CustomViewSaved, e);
    this.sendCustomViewEvents(W.EmbeddingTableauEventType.CustomViewSaved, t);
  }
  handleCustomViewSetDefault(e) {
    const t = this._workbookImpl.processCustomViews(he.NotificationId.CustomViewSetDefault, e);
    this.sendCustomViewEvents(W.EmbeddingTableauEventType.CustomViewSetDefault, t);
  }
  sendCustomViewEvents(e, t) {
    for (let n of t) {
      const a = { customView: new Wb.CustomView(n, this._workbookImpl) };
      this._viz.dispatchEvent(new CustomEvent(e, { detail: a }));
    }
  }
}
Ao.VizImpl = Kb;
var Hu = w && w.__awaiter || function(r, e, t, n) {
  function a(i) {
    return i instanceof t ? i : new t(function(o) {
      o(i);
    });
  }
  return new (t || (t = Promise))(function(i, o) {
    function s(c) {
      try {
        l(n.next(c));
      } catch (d) {
        o(d);
      }
    }
    function u(c) {
      try {
        l(n.throw(c));
      } catch (d) {
        o(d);
      }
    }
    function l(c) {
      c.done ? i(c.value) : a(c.value).then(s, u);
    }
    l((n = n.apply(r, e || [])).next());
  });
}, Yb = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(Jt, "__esModule", { value: !0 });
const be = Yb(O), Qb = V(), Bu = G(), Zb = Ao, Jb = yt, Gu = Tt, Ku = xr;
class yc extends Ku.TableauWebComponent {
  // ========================================== Begin Custom Element definition ==========================================
  // https://html.spec.whatwg.org/multipage/custom-elements.html#custom-element-conformance
  disconnectedCallback() {
    super.disconnectedCallback(), this._vizImpl && this._vizImpl.dispose();
  }
  static get observedAttributes() {
    return [...super.observedAttributes, ...Object.values(be.VizSharedAttributes)];
  }
  updateRenderingIfInitialized(e) {
    return Hu(this, void 0, void 0, function* () {
      if (this._initialized)
        return this._vizImpl && this._vizImpl.dispose(), Gu.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter), this.updateRendering(e);
    });
  }
  updateRendering(e) {
    return Hu(this, void 0, void 0, function* () {
      try {
        if (this._initialized = !0, !e) {
          console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
          return;
        }
        if ((yield this.auth(Jb.getSiteId(e))) === Ku.TableauAuthResponse.Failure) {
          console.debug("Authentication failed.");
          return;
        }
        if (!this.src) {
          console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
          return;
        }
        if (!this.iframe) {
          console.debug("No iframe available to update the src.");
          return;
        }
        this._embeddingIdCounter = Gu.WebComponentManager.registerWebComponent(this), this.registerAttributeEvents();
        const n = this.createFrameUrlWithParams();
        this._vizImpl = this.createAndInitializeVizImpl(n), this.iframe.src = n.toString(), this.raiseIframeSrcUpdatedNotification();
        return;
      } catch (t) {
        console.debug(t);
      }
    });
  }
  createAndInitializeVizImpl(e) {
    const t = new Zb.VizImpl(this, this.iframe, e, this._embeddingIdCounter);
    return t.initializeViz(), t;
  }
  registerAttributeEvents() {
    this.getAttributeEvents().forEach((e) => {
      const [t, n] = e;
      this.registerCallback(t, n);
    });
  }
  initializeEvents() {
    let e;
    try {
      e = Bu.ApiServiceRegistry.get(this.vizImpl.embeddingId).getService(
        "notification-service"
        /* Notification */
      );
    } catch {
      throw new Bu.TableauError(be.EmbeddingErrorCodes.EventInitializationError, "Event initialization failed");
    }
    const t = this.getRegisteredEvents();
    for (const [n, a, i] of t)
      e.registerHandler(n, a, i);
  }
  getRegisteredEvents() {
    return [
      [
        Qb.NotificationId.EditInDesktopButtonClicked,
        () => !0,
        () => this.dispatchEvent(new CustomEvent(be.EmbeddingTableauEventType.EditInDesktopButtonClicked))
      ]
    ];
  }
  //#region Simple Getters / Setters
  get touchOptimize() {
    return this.hasAttribute(be.VizSharedAttributes.TouchOptimize);
  }
  set touchOptimize(e) {
    e ? this.setAttribute(be.VizSharedAttributes.TouchOptimize, "") : this.removeAttribute(be.VizSharedAttributes.TouchOptimize);
  }
  get vizImpl() {
    return this._vizImpl;
  }
  get hideEditInDesktopButton() {
    return this.hasAttribute(be.VizSharedAttributes.HideEditInDesktopButton);
  }
  set hideEditInDesktopButton(e) {
    e ? this.setAttribute(be.VizSharedAttributes.HideEditInDesktopButton, "") : this.removeAttribute(be.VizSharedAttributes.HideEditInDesktopButton);
  }
  get suppressDefaultEditBehavior() {
    return this.hasAttribute(be.VizSharedAttributes.SuppressDefaultEditBehavior);
  }
  set suppressDefaultEditBehavior(e) {
    e ? this.setAttribute(be.VizSharedAttributes.SuppressDefaultEditBehavior, "") : this.removeAttribute(be.VizSharedAttributes.SuppressDefaultEditBehavior);
  }
  get disableVersionCheck() {
    return this.hasAttribute(be.VizSharedAttributes.DisableVersionCheck);
  }
  set disableVersionCheck(e) {
    e ? this.setAttribute(be.VizSharedAttributes.DisableVersionCheck, "") : this.removeAttribute(be.VizSharedAttributes.DisableVersionCheck);
  }
  //#endregion
  getCurrentSrcAsync() {
    return this.vizImpl.getCurrentSrcAsync();
  }
  resize() {
    this.vizImpl.resize();
  }
}
Jt.TableauVizBase = yc;
yc.VizAttributeDefaults = {
  device: be.DeviceType.Default,
  toolbar: be.Toolbar.Bottom
};
function Xb(r) {
  if (!r || r.length < 1)
    return "";
  const e = r.toLowerCase();
  return e[0].toUpperCase() + e.substring(1);
}
Jt.attributeToEnumKey = Xb;
var qb = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(jn, "__esModule", { value: !0 });
const ue = qb(O), ca = V(), e_ = _o, Yu = Eo, t_ = Jt;
let r_ = class extends t_.TableauVizBase {
  // ========================================== Begin Custom Element definition ==========================================
  //#region Reactions
  static get observedAttributes() {
    return [...super.observedAttributes, ...Object.values(ue.VizAuthoringAttributes)];
  }
  //#endregion Reaction
  getAttributeEvents() {
    return [
      [ue.VizSharedAttributes.OnEditInDesktopButtonClicked, ue.EmbeddingTableauEventType.EditInDesktopButtonClicked],
      [ue.VizSharedAttributes.OnFirstInteractive, ue.EmbeddingTableauEventType.FirstInteractive],
      [ue.VizSharedAttributes.OnFirstVizSizeKnown, ue.EmbeddingTableauEventType.FirstVizSizeKnown],
      [ue.VizAuthoringAttributes.OnWorkbookPublished, ue.EmbeddingTableauEventType.WorkbookPublished],
      [ue.VizAuthoringAttributes.OnWorkbookPublishedAs, ue.EmbeddingTableauEventType.WorkbookPublishedAs],
      [ue.VizAuthoringAttributes.OnWorkbookReadyToClose, ue.EmbeddingTableauEventType.WorkbookReadyToClose],
      [ue.VizAttributes.OnReadyToReceiveAuthToken, ue.EmbeddingTableauEventType.ReadyToReceiveAuthToken]
    ];
  }
  createFrameUrlWithParams() {
    const e = this.constructVizqlOptions(), t = this.readCustomParamsFromChildren();
    return Yu.createVizUrl(this.src, Yu.EmbeddingUrlMode.Authoring, e, this._embeddingIdCounter, [], [], t);
  }
  constructVizqlOptions() {
    return {
      token: this.token,
      touchOptimize: this.touchOptimize,
      hideEditInDesktopButton: this.hideEditInDesktopButton,
      suppressDefaultEditBehavior: this.suppressDefaultEditBehavior,
      hideCloseButton: this.hideCloseButton,
      debug: this.debug,
      iframeAuth: this.iframeAuth
    };
  }
  getRegisteredEvents() {
    return super.getRegisteredEvents().concat([
      [
        ca.NotificationId.WorkbookPublished,
        () => !0,
        () => this.dispatchEvent(new CustomEvent(ue.EmbeddingTableauEventType.WorkbookPublished))
      ],
      [ca.NotificationId.WorkbookPublishedAs, () => !0, (e) => this.handleWorkbookPublishedAsEvent(e)],
      [
        ca.NotificationId.WorkbookReadyToClose,
        () => !0,
        () => this.dispatchEvent(new CustomEvent(ue.EmbeddingTableauEventType.WorkbookReadyToClose))
      ]
    ]);
  }
  handleWorkbookPublishedAsEvent(e) {
    const t = {
      newUrl: e.newUrl
    };
    this.dispatchEvent(new CustomEvent(ue.EmbeddingTableauEventType.WorkbookPublishedAs, { detail: t }));
  }
  //#region Simple Getters / Setters
  set hideCloseButton(e) {
    e ? this.setAttribute(ue.VizAuthoringAttributes.HideCloseButton, "") : this.removeAttribute(ue.VizAuthoringAttributes.HideCloseButton);
  }
  get hideCloseButton() {
    return this.hasAttribute(ue.VizAuthoringAttributes.HideCloseButton);
  }
  //#endregion
  get workbook() {
    return new e_.AuthoringWorkbook(this.vizImpl.workbookImpl, this.vizImpl.embeddingId);
  }
  setAuthToken(e) {
    this.vizImpl.setAuthToken(e);
  }
};
jn.TableauAuthoringViz = r_;
var kn = {}, On = {}, Vo = {};
Object.defineProperty(Vo, "__esModule", { value: !0 });
class n_ {
  constructor(e, t) {
    this._width = e, this._height = t;
  }
  get width() {
    return this._width;
  }
  get height() {
    return this._height;
  }
}
Vo.FirstPulseMetricSizeKnownEvent = n_;
var zo = {};
Object.defineProperty(zo, "__esModule", { value: !0 });
class i_ {
  constructor(e, t, n) {
    this._message = e, this._httpStatus = t, this._messageVisibility = n;
  }
  get message() {
    return this._message;
  }
  get httpStatus() {
    return this._httpStatus;
  }
  get messageVisibility() {
    return this._messageVisibility;
  }
}
zo.PulseErrorEvent = i_;
var jo = {}, a_ = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(jo, "__esModule", { value: !0 });
const o_ = a_(O), Qu = G();
class s_ {
  constructor(e, t) {
    this._fieldNames = e, this._embeddingId = t;
  }
  get fieldNames() {
    return this._fieldNames;
  }
  getFiltersAsync() {
    return Qu.ApiServiceRegistry.get(this._embeddingId).getService(
      "PulseService"
      /* PulseService */
    ).getFiltersAsync().then((t) => {
      const n = [], a = [];
      for (const i of this._fieldNames) {
        const o = t.find((s) => s.fieldName === i);
        o ? n.push(o) : a.push(i);
      }
      if (a.length)
        throw new Qu.TableauError(o_.EmbeddingErrorCodes.FilterMissingOrNotImplemented, `Cannot find filter(s): ${a.join(", ")}.`);
      return n;
    });
  }
}
jo.PulseFiltersChangedEvent = s_;
var No = {};
Object.defineProperty(No, "__esModule", { value: !0 });
class u_ {
  constructor(e, t, n, a, i, o, s) {
    this._id = e, this._characterization = t, this._markup = n, this._question = a, this._score = i, this._type = o, this._version = s;
  }
  get id() {
    return this._id;
  }
  get characterization() {
    return this._characterization;
  }
  get markup() {
    return this._markup;
  }
  get question() {
    return this._question;
  }
  get score() {
    return this._score;
  }
  get type() {
    return this._type;
  }
  get version() {
    return this._version;
  }
}
No.PulseInsightDiscoveredEvent = u_;
var $o = {};
Object.defineProperty($o, "__esModule", { value: !0 });
class l_ {
  constructor(e) {
    this._timeDimension = e;
  }
  get timeDimension() {
    return this._timeDimension;
  }
}
$o.PulseTimeDimensionChangedEvent = l_;
var Uo = {};
Object.defineProperty(Uo, "__esModule", { value: !0 });
class c_ {
  constructor(e, t, n) {
    this._oldUrl = e, this._newUrl = t, this._context = n;
  }
  get oldUrl() {
    return this._oldUrl;
  }
  get newUrl() {
    return this._newUrl;
  }
  get context() {
    return this._context;
  }
}
Uo.PulseUrlChangedEvent = c_;
var Mn = {}, mi = {}, d_ = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(mi, "__esModule", { value: !0 });
const Zu = d_(O), Ju = G();
class bc {
  constructor(e, t, n, a) {
    this._fieldName = e, this._filterType = t, this._metricId = n, this._registryId = a;
  }
  get fieldName() {
    return this._fieldName;
  }
  get filterType() {
    return this._filterType;
  }
  get metricId() {
    return this._metricId;
  }
}
mi.PulseFilter = bc;
class h_ extends bc {
  constructor(e, t, n, a, i, o, s) {
    super(e, n, t, a), this._appliedValues = i, this._isExcludeMode = o, this._isAllSelected = s;
  }
  get isAllSelected() {
    return this._isAllSelected;
  }
  get appliedValues() {
    return this._appliedValues;
  }
  get isExcludeMode() {
    return this._isExcludeMode;
  }
  getDomainAsync(e, t, n, a) {
    return a || (a = Zu.FilterDomainType.Relevant), Ju.ErrorHelpers.verifyEnumValue(a, Zu.FilterDomainType, "Contract.FilterDomainType"), Ju.ApiServiceRegistry.get(this._registryId).getService(
      "PulseService"
      /* PulseService */
    ).getCategoricalDomainAsync(this._fieldName, a, e, t, n);
  }
}
mi.CategoricalPulseFilter = h_;
var Xu;
function p_() {
  if (Xu) return Mn;
  Xu = 1, Object.defineProperty(Mn, "__esModule", { value: !0 });
  const r = O, e = V(), t = G(), n = Ec(), a = mi;
  let i = class extends t.ServiceImplBase {
    get serviceName() {
      return "PulseService";
    }
    applyFiltersAsync(s) {
      const u = e.VerbId.ApplyPulseFilters, l = {
        [e.ParameterId.PulseFilters]: s
      };
      if (!Array.isArray(s))
        throw new t.TableauError(n.ErrorCodes.InvalidParameter, "filters parameter for applyFiltersAsync must be an array");
      for (const c of s) {
        if (!Array.isArray(c.values))
          throw new t.TableauError(n.ErrorCodes.InvalidParameter, "filter values for applyFiltersAsync must be an array");
        if (!c.updateType || !Object.values(e.FilterUpdateType).includes(c.updateType))
          throw new t.TableauError(n.ErrorCodes.InvalidParameter, "filter updateType for applyFiltersAsync must be a valid update type");
        if (!c.options)
          throw new t.TableauError(n.ErrorCodes.InvalidParameter, "filter options object for applyFiltersAsync must be provided");
        if (![!0, !1].includes(c.options.isExcludeMode))
          throw new t.TableauError(n.ErrorCodes.InvalidParameter, "filter options.isExcludeMode for applyFiltersAsync must be a boolean");
      }
      return this.execute(u, l).then((c) => s.map((d) => d.fieldName));
    }
    getTimeDimensionAsync() {
      const s = e.VerbId.GetPulseTimeDimension, u = {};
      return this.execute(s, u).then((l) => {
        const { timeDimension: c } = l.result;
        if (!c)
          throw new t.TableauError(n.ErrorCodes.InvalidTimeDimension, "Unable to determine the currently applied time dimension.");
        if (!t.ErrorHelpers.isValidEnumValue(c, r.PulseTimeDimension)) {
          const d = [
            `The current time dimension is '${c}', which is not a known value of the Contract.PulseTimeDimension enum.`,
            "You may need to update your version of the Tableau Embedding API.",
            `Valid values are: ${Object.keys(r.PulseTimeDimension).join(", ")}`
          ];
          console.warn(d.join(" "));
        }
        return c;
      });
    }
    applyTimeDimensionAsync(s) {
      t.ErrorHelpers.verifyEnumValue(s, r.PulseTimeDimension, "Contract.PulseTimeDimension");
      const u = e.VerbId.ApplyPulseTimeDimension, l = {
        [e.ParameterId.PulseTimeDimension]: s
      };
      return this.execute(u, l).then((c) => {
      });
    }
    getCategoricalDomainAsync(s, u, l, c, d) {
      t.ErrorHelpers.verifyStringParameter(s, "fieldName"), t.ErrorHelpers.verifyEnumValue(u, r.FilterDomainType, "Contract.FilterDomainType");
      const y = e.VerbId.GetPulseCategoricalDomain, f = {
        [e.ParameterId.PulseFieldName]: s,
        [e.ParameterId.PulseFilterDomainType]: u,
        [e.ParameterId.PulseFilterDomainSearchTerm]: l
      };
      return c !== void 0 && (f[e.ParameterId.PulsePageSize] = c), d !== void 0 && (f[e.ParameterId.PulseNextPageToken] = d), this.execute(y, f).then((v) => v.result);
    }
    getFiltersAsync() {
      const s = e.VerbId.GetPulseFilters, u = {};
      return this.execute(s, u).then((l) => {
        const c = l.result;
        return this.convertDomainFilters(c);
      });
    }
    clearFiltersAsync(s) {
      const u = e.VerbId.ClearPulseFilters, l = {
        [e.ParameterId.PulseFieldNames]: s
      };
      if (!Array.isArray(s))
        throw new t.TableauError(n.ErrorCodes.InvalidParameter, "fieldNames parameter for clearFiltersAsync must be an array");
      return this.execute(u, l).then((c) => s);
    }
    clearAllFiltersAsync() {
      const s = e.VerbId.ClearAllPulseFilters, u = {};
      return this.execute(s, u).then((l) => {
      });
    }
    convertDomainFilters(s) {
      const u = [];
      return s.forEach((l) => {
        switch (l.filterType) {
          case r.FilterType.Categorical: {
            const c = l;
            if (c)
              u.push(this.convertCategoricalFilter(c));
            else
              throw new Error("Invalid Categorical Filter");
            break;
          }
        }
      }), u;
    }
    convertCategoricalFilter(s) {
      return new a.CategoricalPulseFilter(s.fieldName, s.metricId, r.FilterType.Categorical, this._registryId, s.appliedValues, s.isExcludeMode, s.isAllSelected);
    }
  };
  return Mn.PulseServiceImpl = i, Mn;
}
var qu;
function f_() {
  if (qu) return On;
  qu = 1;
  var r = w && w.__importStar || function(v) {
    if (v && v.__esModule) return v;
    var h = {};
    if (v != null) for (var p in v) Object.hasOwnProperty.call(v, p) && (h[p] = v[p]);
    return h.default = v, h;
  };
  Object.defineProperty(On, "__esModule", { value: !0 });
  const e = r(O), t = V(), n = G(), a = Vo, i = zo, o = jo, s = No, u = $o, l = Uo, c = zr, d = p_(), y = Vr;
  let f = class {
    constructor(h, p, b, g, _, S) {
      if (this._pulse = h, this._iframe = p, this._frameUrl = b, this._timeDimension = g, this._filters = _, this._embeddingId = S, this._resizeEventType = "resize", !this._iframe)
        throw new n.TableauError(e.EmbeddingErrorCodes.InternalError, "Iframe has not been created yet");
      this._shouldDispatchMetricSizeKnownEvent = !g && !_.length;
    }
    get iframe() {
      return this._iframe;
    }
    get embeddingId() {
      return this._embeddingId;
    }
    initialize() {
      const h = this._iframe.contentWindow;
      if (!h)
        throw new n.TableauError(e.EmbeddingErrorCodes.InternalError, "Iframe has not been created yet");
      try {
        this._messenger = new t.CrossFrameMessenger(window, h, this._frameUrl.origin), this._dispatcher = new n.CrossFrameDispatcher(this._messenger), c.registerInitializationEmbeddingServices(this._dispatcher, this.embeddingId);
        const p = n.ApiServiceRegistry.get(this.embeddingId).getService(
          "initialization-service"
          /* Initialization */
        ), b = p.registerHandler(t.NotificationId.FirstPulseMetricSizeKnown, () => this._shouldDispatchMetricSizeKnownEvent, (g) => {
          this.handlePulseMetricSizeKnownEvent(g), b();
        });
        p.registerHandler(t.NotificationId.PulseInteractive, () => !0, (g) => {
          this.handlePulseInteractiveEvent(g);
        }), p.registerHandler(t.NotificationId.PulseError, () => !0, (g) => {
          this.handlePulseErrorEvent(g);
        }), p.registerHandler(t.NotificationId.PulseUrlChanged, () => !0, (g) => {
          this.handlePulseUrlChangedEvent(g);
        }), p.registerHandler(t.NotificationId.PulseTimeDimensionChanged, () => !0, (g) => {
          this.handlePulseTimeDimensionChangedEvent(g);
        }), p.registerHandler(t.NotificationId.PulseInsightDiscovered, () => !0, (g) => {
          this.handlePulseInsightDiscoveredEvent(g);
        }), p.registerHandler(t.NotificationId.PulseFiltersChanged, () => !0, (g) => {
          this.handlePulseFiltersChangedEvent(g);
        }), this._messenger.startListening();
      } catch {
        throw new n.TableauError(e.EmbeddingErrorCodes.InternalError, "Unexpected error during initialization.");
      }
    }
    dispose() {
      this._messenger && this._messenger.stopListening(), this.removeWindowResizeHandler();
    }
    updateIframeTitle(h) {
      this._iframe.setAttribute("title", h.iframeTitle);
    }
    handlePulseMetricSizeKnownEvent(h) {
      const p = new a.FirstPulseMetricSizeKnownEvent(h.width, h.height);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.FirstPulseMetricSizeKnown, { detail: p })), !this._pulse.fixedSize && (this.resize(), this.addWindowResizeHandler());
    }
    resize() {
      const { height: h, width: p } = this.calculateLayoutSize();
      this._iframe.style.height = h + "px", this._iframe.style.width = p + "px";
    }
    calculateLayoutSize() {
      return this._pulse.parentElement ? y.HtmlElementHelpers.getContentSize(this._pulse.parentElement) : { height: 0, width: 0 };
    }
    removeWindowResizeHandler() {
      this._windowResizeHandler && window.removeEventListener(this._resizeEventType, this._windowResizeHandler);
    }
    addWindowResizeHandler() {
      this._windowResizeHandler || (this._windowResizeHandler = this.resize.bind(this), window.addEventListener(this._resizeEventType, this._windowResizeHandler));
    }
    handlePulseInteractiveEvent(h) {
      if (n.ApiServiceRegistry.get(this.embeddingId).registerService(new d.PulseServiceImpl(this._dispatcher, this.embeddingId)), n.ApiServiceRegistry.get(this.embeddingId).registerService(new n.NotificationServiceImpl(this._dispatcher)), this._timeDimension) {
        this.applyTimeDimensionAsync(this._timeDimension), this._timeDimension = void 0;
        return;
      }
      if (this._filters.length) {
        this.applyFiltersAsync(this._filters.map((p) => ({
          fieldName: p.field,
          values: p.value.split(","),
          updateType: e.FilterUpdateType.Replace,
          options: { isExcludeMode: !1 }
        }))), this._filters = [];
        return;
      }
      this._iframe.style.visibility = "visible", this.updateIframeTitle(h), this._shouldDispatchMetricSizeKnownEvent = !0, this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.FirstInteractive));
    }
    handlePulseErrorEvent(h) {
      const p = new i.PulseErrorEvent(h.message, h.httpStatus, h.messageVisibility);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.PulseError, { detail: p }));
    }
    handlePulseUrlChangedEvent(h) {
      const p = new l.PulseUrlChangedEvent(h.oldUrl, h.newUrl, h.context);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.PulseUrlChanged, { detail: p }));
    }
    handlePulseTimeDimensionChangedEvent(h) {
      const p = new u.PulseTimeDimensionChangedEvent(h.timeDimension);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.PulseTimeDimensionChanged, { detail: p }));
    }
    handlePulseInsightDiscoveredEvent(h) {
      const p = new s.PulseInsightDiscoveredEvent(h.id, h.characterization, h.markup, h.question, h.score, h.type, h.version);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.PulseInsightDiscovered, { detail: p }));
    }
    handlePulseFiltersChangedEvent(h) {
      const p = new o.PulseFiltersChangedEvent(h.fieldNames, this.embeddingId);
      this._pulse.dispatchEvent(new CustomEvent(e.EmbeddingTableauEventType.PulseFiltersChanged, { detail: p }));
    }
    applyFiltersAsync(h) {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).applyFiltersAsync(h);
    }
    getTimeDimensionAsync() {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).getTimeDimensionAsync();
    }
    applyTimeDimensionAsync(h) {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).applyTimeDimensionAsync(h);
    }
    getFiltersAsync() {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).getFiltersAsync();
    }
    clearFiltersAsync(h) {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).clearFiltersAsync(h);
    }
    clearAllFiltersAsync() {
      return n.ApiServiceRegistry.get(this.embeddingId).getService(
        "PulseService"
        /* PulseService */
      ).clearAllFiltersAsync();
    }
  };
  return On.PulseImpl = f, On;
}
var gi = {};
Object.defineProperty(gi, "__esModule", { value: !0 });
const v_ = O, ft = V(), _c = G(), Sc = yt;
function m_(r, e, t) {
  const n = r.split("?")[0];
  let a;
  try {
    a = new URL(n), Sc.validateUrl(a);
  } catch (s) {
    throw new _c.TableauError(v_.EmbeddingErrorCodes.InvalidUrl, s.message);
  }
  const i = g_();
  return new Ic(a).appendDefaultParameters(i).appendUserOptions(e).appendCustomParams(t).build();
}
gi.createPulseUrl = m_;
function g_(r) {
  const e = /* @__PURE__ */ new Map(), t = `${ft.INTERNAL_CONTRACT_VERSION.major}.${ft.INTERNAL_CONTRACT_VERSION.minor}.${ft.INTERNAL_CONTRACT_VERSION.fix}`;
  e.set(ft.PulseOptionNames.ApiInternalVersion, t), e.set(ft.PulseOptionNames.embed, "y");
  const n = _c.ApiVersion.Instance.formattedValue;
  return e.set(ft.PulseOptionNames.ApiExternalVersion, n), e.set(ft.PulseOptionNames.PulseWebComponent, "true"), e;
}
class Ic extends Sc.EmbeddingUrlBuilder {
  constructor(e) {
    super(), this._url = e, this._optionNames = ft.PulseOptionNames;
  }
  /**
   * Sanitizes parameter values before they are added to the search params.
   * @param parameterName The name of the parameter. Some parameters require special handling.
   * @param value The raw value of the parameter.
   */
  sanitizeParameterValue(e, t) {
    return this.sanitizeValue(t);
  }
}
gi.EmbeddingPulseUrlBuilder = Ic;
var el;
function tl() {
  if (el) return kn;
  el = 1;
  var r = w && w.__awaiter || function(c, d, y, f) {
    function v(h) {
      return h instanceof y ? h : new y(function(p) {
        p(h);
      });
    }
    return new (y || (y = Promise))(function(h, p) {
      function b(S) {
        try {
          _(f.next(S));
        } catch (P) {
          p(P);
        }
      }
      function g(S) {
        try {
          _(f.throw(S));
        } catch (P) {
          p(P);
        }
      }
      function _(S) {
        S.done ? h(S.value) : v(S.value).then(b, g);
      }
      _((f = f.apply(c, d || [])).next());
    });
  };
  Object.defineProperty(kn, "__esModule", { value: !0 });
  const e = O, t = G(), n = f_(), a = gi, i = yt, o = Tt, s = Jt, u = xr;
  class l extends u.TableauWebComponent {
    constructor() {
      super(), this._preInitFilters = [];
    }
    disconnectedCallback() {
      super.disconnectedCallback(), this._preInitFilters = [], this._pulseImpl && this._pulseImpl.dispose();
    }
    getAttributeEvents() {
      return [
        [e.PulseAttributes.OnFirstInteractive, e.EmbeddingTableauEventType.FirstInteractive],
        [e.PulseAttributes.OnFirstPulseMetricSizeKnown, e.EmbeddingTableauEventType.FirstPulseMetricSizeKnown],
        [e.PulseAttributes.OnPulseUrlError, e.EmbeddingTableauEventType.PulseError],
        [e.PulseAttributes.OnPulseFiltersChanged, e.EmbeddingTableauEventType.PulseFiltersChanged],
        [e.PulseAttributes.OnPulseInsightDiscovered, e.EmbeddingTableauEventType.PulseInsightDiscovered],
        [e.PulseAttributes.OnPulseTimeDimensionChanged, e.EmbeddingTableauEventType.PulseTimeDimensionChanged],
        [e.PulseAttributes.OnPulseUrlChanged, e.EmbeddingTableauEventType.PulseUrlChanged]
      ];
    }
    static get observedAttributes() {
      return [...super.observedAttributes, ...Object.values(e.PulseAttributes)];
    }
    updateRenderingIfInitialized(d) {
      return r(this, void 0, void 0, function* () {
        if (this._initialized)
          return this._pulseImpl && this._pulseImpl.dispose(), o.WebComponentManager.unregisterWebComponent(this._embeddingIdCounter), this.updateRendering(d);
      });
    }
    updateRendering(d) {
      return r(this, void 0, void 0, function* () {
        try {
          if (this._initialized = !0, !d) {
            console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
            return;
          }
          if (!this.token && !this.isTokenOptional) {
            console.debug(`A token needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
            return;
          }
          if ((yield this.auth(i.getSiteIdForPulse(d))) === u.TableauAuthResponse.Failure) {
            console.debug("Authentication failed.");
            return;
          }
          if (!this.src) {
            console.debug(`A src needs to be set on the ${this.tagName.toLowerCase()} element. Skipping rendering.`);
            return;
          }
          if (!this.iframe) {
            console.debug("No iframe available to update the src.");
            return;
          }
          const f = this.readCustomParamsFromChildren();
          this._embeddingIdCounter = o.WebComponentManager.registerWebComponent(this), this.registerAttributeEvents();
          const v = a.createPulseUrl(this.src, this.constructOptions(), f), h = this.readFiltersFromChild().concat(this._preInitFilters);
          this._pulseImpl = this.createAndInitializePulseImpl(v, h), (this.timeDimension || h.length) && (this.iframe.style.visibility = "hidden"), this.iframe.src = v.toString(), this.raiseIframeSrcUpdatedNotification();
          return;
        } catch (y) {
          console.warn(y);
        }
      });
    }
    createAndInitializePulseImpl(d, y) {
      const f = new n.PulseImpl(this, this.iframe, d, this.timeDimension, y, this._embeddingIdCounter);
      return f.initialize(), f;
    }
    registerAttributeEvents() {
      this.getAttributeEvents().forEach((d) => {
        const [y, f] = d;
        this.registerCallback(y, f);
      });
    }
    readFiltersFromChild() {
      const d = [];
      return [].forEach.call(this.children, (y) => {
        y.localName === e.PulseChildElements.PulseFilter && y.getAttribute(e.PulseChildElementAttributes.Field) && y.getAttribute(e.PulseChildElementAttributes.Value) && d.push({
          field: y.getAttribute(e.PulseChildElementAttributes.Field),
          value: y.getAttribute(e.PulseChildElementAttributes.Value)
        });
      }), d;
    }
    readThemeParametersFromChild() {
      const d = [];
      return [].forEach.call(this.children, (y) => {
        if (y.localName === e.PulseChildElements.ThemeParameter) {
          const f = y.getAttribute(e.PulseChildElementAttributes.Name), v = y.getAttribute(e.PulseChildElementAttributes.Value), h = y.getAttribute(e.PulseChildElementAttributes.Type);
          f && v && d.push({
            name: f,
            value: v,
            type: h
          });
        }
      }), d;
    }
    getThemeString() {
      const d = this.themeObj;
      if (d)
        try {
          return btoa(JSON.stringify(d));
        } catch {
          return;
        }
    }
    constructOptions() {
      const d = {
        token: this.token,
        theme: this.getThemeString()
      };
      return this.disableExploreFilter && (d.disableExploreFilter = this.disableExploreFilter), this.layout && this.layout !== e.PulseLayout.Default && (d.layout = this.layout), d;
    }
    get disableExploreFilter() {
      return this.hasAttribute(e.PulseAttributes.DisableExploreFilter);
    }
    set disableExploreFilter(d) {
      d ? this.setAttribute(e.PulseAttributes.DisableExploreFilter, "") : this.removeAttribute(e.PulseAttributes.DisableExploreFilter);
    }
    get layout() {
      const d = s.attributeToEnumKey(this.getAttribute(e.PulseAttributes.Layout)), y = e.PulseLayout[d];
      return y || e.PulseLayout.Default;
    }
    set layout(d) {
      d ? this.setAttribute(e.PulseAttributes.Layout, d) : this.removeAttribute(e.PulseAttributes.Layout);
    }
    get themeObj() {
      var d;
      let y;
      for (const { name: f, value: v, type: h } of this.readThemeParametersFromChild())
        y = y ?? {}, h ? (y[h] = (d = y[h], d ?? {}), y[h][f] = v) : y[f] = v;
      return y;
    }
    get timeDimension() {
      const d = this.getAttribute(e.PulseAttributes.TimeDimension);
      if (d)
        return t.ErrorHelpers.verifyEnumValue(d, e.PulseTimeDimension, "Contract.PulseTimeDimension"), e.PulseTimeDimension[d];
    }
    set timeDimension(d) {
      d ? (t.ErrorHelpers.verifyEnumValue(d, e.PulseTimeDimension, "Contract.PulseTimeDimension"), this.setAttribute(e.PulseAttributes.TimeDimension, d)) : this.removeAttribute(e.PulseAttributes.TimeDimension);
    }
    get isTokenOptional() {
      return this.hasAttribute(e.PulseAttributes.TokenOptional);
    }
    set isTokenOptional(d) {
      d ? this.setAttribute(e.PulseAttributes.TokenOptional, "") : this.removeAttribute(e.PulseAttributes.TokenOptional);
    }
    addFilter(d, y) {
      this._preInitFilters.push({ field: d, value: y }), o.WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this, this.src));
    }
    resize() {
      this._pulseImpl.resize();
    }
    applyFilterAsync(d, y, f, v) {
      return this.applyFiltersAsync([{ fieldName: d, values: y, updateType: f, options: v }]).then((h) => h[0]);
    }
    applyFiltersAsync(d) {
      return this._pulseImpl.applyFiltersAsync(d);
    }
    getTimeDimensionAsync() {
      return this._pulseImpl.getTimeDimensionAsync();
    }
    applyTimeDimensionAsync(d) {
      return this._pulseImpl.applyTimeDimensionAsync(d);
    }
    getFiltersAsync() {
      return this._pulseImpl.getFiltersAsync();
    }
    clearFilterAsync(d) {
      return this.clearFiltersAsync([d]).then((y) => y[0]);
    }
    clearFiltersAsync(d) {
      return this._pulseImpl.clearFiltersAsync(d);
    }
    clearAllFiltersAsync() {
      return this._pulseImpl.clearAllFiltersAsync();
    }
  }
  return kn.TableauPulse = l, kn;
}
var Nn = {}, Lo = {}, qt = {}, Wo = {};
Object.defineProperty(Wo, "__esModule", { value: !0 });
class y_ {
  constructor(e, t) {
    this._sheet = t;
  }
  get sheet() {
    return this._sheet;
  }
}
Wo.TableauSheetEvent = y_;
Object.defineProperty(qt, "__esModule", { value: !0 });
const b_ = Wo;
class __ extends b_.TableauSheetEvent {
  constructor(e, t) {
    super(e, t), this._worksheet = t;
  }
  get worksheet() {
    return this._worksheet;
  }
}
qt.TableauWorksheetEvent = __;
Object.defineProperty(Lo, "__esModule", { value: !0 });
const S_ = O, I_ = qt;
class E_ extends I_.TableauWorksheetEvent {
  constructor(e, t) {
    super(S_.EmbeddingTableauEventType.CustomMarkContextMenuEvent, e), this._contextMenuId = t;
  }
  getContextMenuId() {
    return this._contextMenuId;
  }
  getSelectedMarksAsync() {
    return this.worksheet.getSelectedMarksAsync();
  }
}
Lo.CustomMarkContextMenuEvent = E_;
var Ho = {};
Object.defineProperty(Ho, "__esModule", { value: !0 });
const rl = O, A_ = G(), w_ = qt;
class T_ extends w_.TableauWorksheetEvent {
  constructor(e, t, n) {
    super(rl.EmbeddingTableauEventType.FilterChanged, e), this._fieldName = t, this._fieldId = n;
  }
  get fieldName() {
    return this._fieldName;
  }
  get fieldId() {
    return this._fieldId;
  }
  getFilterAsync() {
    return this.worksheet.getFiltersAsync().then((e) => {
      const t = this.fieldId ? e.find((n) => n.fieldId === this.fieldId, this) : e.find((n) => n.fieldName === this.fieldName, this);
      if (!t)
        throw new A_.TableauError(rl.EmbeddingErrorCodes.FilterMissingOrNotImplemented, `Cannot find filter: ${this._fieldName}.`);
      return t;
    });
  }
}
Ho.FilterChangedEvent = T_;
var Bo = {};
Object.defineProperty(Bo, "__esModule", { value: !0 });
const P_ = O, C_ = qt;
class D_ extends C_.TableauWorksheetEvent {
  constructor(e) {
    super(P_.EmbeddingTableauEventType.MarkSelectionChanged, e);
  }
  getMarksAsync() {
    return this.worksheet.getSelectedMarksAsync();
  }
}
Bo.MarksSelectedEvent = D_;
var Go = {};
Object.defineProperty(Go, "__esModule", { value: !0 });
const k_ = O, nl = G(), O_ = fi;
class M_ {
  constructor(e, t) {
    this._globalFieldName = e, this._embeddingId = t;
  }
  getParameterAsync() {
    return nl.ApiServiceRegistry.get(this._embeddingId).getService(
      "parameters-service"
      /* Parameters */
    ).findParameterByGlobalFieldNameAsync(this._globalFieldName).then((t) => {
      if (t === void 0)
        throw new nl.TableauError(k_.EmbeddingErrorCodes.MissingParameter, `Cannot find parameter: ${this._globalFieldName}`);
      return new O_.Parameter(t);
    });
  }
}
Go.ParameterChangedEvent = M_;
var Ko = {};
Object.defineProperty(Ko, "__esModule", { value: !0 });
const F_ = di(), R_ = fc();
class x_ {
  constructor(e, t, n) {
    this._oldStoryPointInfoImpl = e, this._currStoryPointImpl = t, this._workbookImpl = n;
  }
  get oldStoryPointInfo() {
    return new R_.StoryPointInfo(this._oldStoryPointInfoImpl, this._workbookImpl);
  }
  get newStoryPoint() {
    return new F_.StoryPoint(this._currStoryPointImpl, this._workbookImpl);
  }
}
Ko.StoryPointSwitchedEvent = x_;
var Yo = {};
Object.defineProperty(Yo, "__esModule", { value: !0 });
const V_ = O, z_ = qt;
class j_ extends z_.TableauWorksheetEvent {
  constructor(e) {
    super(V_.EmbeddingTableauEventType.SummaryDataChanged, e);
  }
}
Yo.SummaryDataChangedEvent = j_;
var Qo = {};
Object.defineProperty(Qo, "__esModule", { value: !0 });
class N_ {
  constructor(e, t) {
    this._url = e, this._target = t;
  }
  get url() {
    return this._url;
  }
  get target() {
    return this._target;
  }
}
Qo.UrlActionEvent = N_;
var $_ = w && w.__importStar || function(r) {
  if (r && r.__esModule) return r;
  var e = {};
  if (r != null) for (var t in r) Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);
  return e.default = r, e;
};
Object.defineProperty(Nn, "__esModule", { value: !0 });
const D = $_(O), ht = V(), yr = G(), U_ = Lo, L_ = Ho, W_ = Bo, H_ = Go, B_ = Ko, G_ = Yo, K_ = Qo, il = Eo, Y_ = vi(), Q_ = Tt, br = Jt;
let Z_ = class extends br.TableauVizBase {
  constructor() {
    super(...arguments), this.preInitFilters = [];
  }
  //#region Reactions
  //#region Filters
  readFiltersFromChild() {
    const e = [];
    return [].forEach.call(this.children, (t) => {
      t.localName === D.VizChildElements.VizFilter && t.getAttribute(D.VizChildElementAttributes.Field) && t.getAttribute(D.VizChildElementAttributes.Value) !== void 0 && e.push({
        field: t.getAttribute(D.VizChildElementAttributes.Field),
        value: t.getAttribute(D.VizChildElementAttributes.Value)
      });
    }), e;
  }
  //#endregion Filters
  //#region Parameters
  readParametersFromChild() {
    const e = [];
    return [].forEach.call(this.children, (t) => {
      t.localName === D.VizChildElements.VizParameter && t.getAttribute(D.VizChildElementAttributes.Name) && t.getAttribute(D.VizChildElementAttributes.Value) && e.push({
        name: t.getAttribute(D.VizChildElementAttributes.Name),
        value: t.getAttribute(D.VizChildElementAttributes.Value)
      });
    }), e;
  }
  static get observedAttributes() {
    return [...super.observedAttributes, ...Object.values(D.VizAttributes)];
  }
  disconnectedCallback() {
    this.preInitFilters = [], super.disconnectedCallback();
  }
  //#endregion Reaction
  createFrameUrlWithParams() {
    const e = this.constructVizqlOptions(), t = this.readFiltersFromChild().concat(this.preInitFilters), n = this.readParametersFromChild(), a = this.readCustomParamsFromChildren();
    return il.createVizUrl(this.src, il.EmbeddingUrlMode.Viewing, e, this._embeddingIdCounter, t, n, a);
  }
  constructVizqlOptions() {
    return {
      disableUrlActionsPopups: this.disableUrlActionsPopups,
      hideTabs: this.hideTabs,
      toolbar: this.toolbar,
      instanceIdToClone: this.instanceIdToClone,
      device: this.device,
      token: this.token,
      touchOptimize: this.touchOptimize,
      hideEditButton: this.hideEditButton,
      hideEditInDesktopButton: this.hideEditInDesktopButton,
      suppressDefaultEditBehavior: this.suppressDefaultEditBehavior,
      debug: this.debug,
      iframeAuth: this.iframeAuth
    };
  }
  getAttributeEvents() {
    return [
      [D.VizAttributes.OnCustomMarkContextMenuEvent, D.EmbeddingTableauEventType.CustomMarkContextMenuEvent],
      [D.VizAttributes.OnEditButtonClicked, D.EmbeddingTableauEventType.EditButtonClicked],
      [D.VizSharedAttributes.OnEditInDesktopButtonClicked, D.EmbeddingTableauEventType.EditInDesktopButtonClicked],
      [D.VizAttributes.OnFilterChanged, D.EmbeddingTableauEventType.FilterChanged],
      [D.VizSharedAttributes.OnFirstInteractive, D.EmbeddingTableauEventType.FirstInteractive],
      [D.VizSharedAttributes.OnFirstVizSizeKnown, D.EmbeddingTableauEventType.FirstVizSizeKnown],
      [D.VizAttributes.OnMarkSelectionChanged, D.EmbeddingTableauEventType.MarkSelectionChanged],
      [D.VizAttributes.OnParameterChanged, D.EmbeddingTableauEventType.ParameterChanged],
      [D.VizAttributes.OnTabSwitched, D.EmbeddingTableauEventType.TabSwitched],
      [D.VizAttributes.OnToolbarStateChanged, D.EmbeddingTableauEventType.ToolbarStateChanged],
      [D.VizAttributes.OnUrlAction, D.EmbeddingTableauEventType.UrlAction],
      [D.VizAttributes.OnCustomViewLoaded, D.EmbeddingTableauEventType.CustomViewLoaded],
      [D.VizAttributes.OnCustomViewRemoved, D.EmbeddingTableauEventType.CustomViewRemoved],
      [D.VizAttributes.OnCustomViewSaved, D.EmbeddingTableauEventType.CustomViewSaved],
      [D.VizAttributes.OnCustomViewSetDefault, D.EmbeddingTableauEventType.CustomViewSetDefault],
      [D.VizAttributes.OnStoryPointSwitched, D.EmbeddingTableauEventType.StoryPointSwitched],
      [D.VizAttributes.OnSummaryDataChanged, D.EmbeddingTableauEventType.SummaryDataChanged],
      [D.VizAttributes.OnReadyToReceiveAuthToken, D.EmbeddingTableauEventType.ReadyToReceiveAuthToken]
    ];
  }
  getRegisteredEvents() {
    return super.getRegisteredEvents().concat([
      [
        ht.NotificationId.SelectedMarksChanged,
        (e) => this.shouldNotifyEvent(e),
        (e) => this.handleSelectedMarksChangedEvent(e)
      ],
      [
        ht.NotificationId.FilterChanged,
        (e) => this.shouldNotifyEvent(e.visualId),
        (e) => this.handleFilterChangedEvent(e)
      ],
      [ht.NotificationId.EditButtonClicked, () => !0, () => this.handleEditButtonClicked()],
      [
        ht.NotificationId.CustomMarkContextMenuClicked,
        (e) => this.shouldNotifyEvent(e.visualId),
        (e) => this.handleCustomMarkClickedContextMenuEvent(e)
      ],
      [
        ht.NotificationId.ParameterChanged,
        () => !0,
        (e) => this.handleParameterChangedEvent(e)
      ],
      [ht.NotificationId.UrlAction, () => !0, (e) => this.handleUrlAction(e)],
      [ht.NotificationId.StoryPointSwitched, () => !0, (e) => this.handleStoryPointSwitch(e)],
      [
        ht.NotificationId.SummaryDataChanged,
        (e) => this.shouldNotifyEvent(e.visualId),
        (e) => this.handleSummaryDataChangedEvent(e)
      ]
    ]);
  }
  shouldNotifyEvent(e) {
    switch (this.workbook.activeSheet.sheetType) {
      case D.SheetType.Worksheet:
        return this.workbook.activeSheet.name === e.worksheet;
      case D.SheetType.Dashboard:
        return this.workbook.activeSheet.worksheets.filter((a) => a.name === e.worksheet).length === 1;
      case D.SheetType.Story: {
        const n = this.workbook.activeSheet.activeStoryPoint.containedSheet;
        return n ? n.sheetType === D.SheetType.Worksheet ? n.name === e.worksheet : n.sheetType === D.SheetType.Dashboard ? n.worksheets.filter((o) => o.name === e.worksheet).length === 1 : !1 : !1;
      }
      default:
        return !1;
    }
  }
  handleSelectedMarksChangedEvent(e) {
    const t = new W_.MarksSelectedEvent(this.getWorksheetForNotificationHandler(e));
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.MarkSelectionChanged, { detail: t }));
  }
  handleFilterChangedEvent(e) {
    const t = new L_.FilterChangedEvent(this.getWorksheetForNotificationHandler(e.visualId), e.fieldName, e.fieldId);
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.FilterChanged, { detail: t }));
  }
  handleSummaryDataChangedEvent(e) {
    const t = new G_.SummaryDataChangedEvent(this.getWorksheetForNotificationHandler(e.visualId));
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.SummaryDataChanged, { detail: t }));
  }
  handleEditButtonClicked() {
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.EditButtonClicked));
  }
  handleCustomMarkClickedContextMenuEvent(e) {
    const t = new U_.CustomMarkContextMenuEvent(this.getWorksheetForNotificationHandler(e.visualId), e.contextMenuId);
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.CustomMarkContextMenuEvent, { detail: t }));
  }
  handleParameterChangedEvent(e) {
    const t = new H_.ParameterChangedEvent(e, this.vizImpl.embeddingId);
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.ParameterChanged, { detail: t }));
  }
  handleUrlAction(e) {
    const t = new K_.UrlActionEvent(e.url, e.target);
    this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.UrlAction, { detail: t }));
  }
  handleStoryPointSwitch(e) {
    const t = this.vizImpl.workbookImpl.activeSheet, n = t.storyPointsInfo.find((a) => a.active === !0);
    if (t.activeStoryPoint && n && t.activeStoryPoint.index !== e.index) {
      t.updateStory(e);
      const a = new B_.StoryPointSwitchedEvent(n, t.activeStoryPoint, this.vizImpl.workbookImpl);
      this.dispatchEvent(new CustomEvent(D.EmbeddingTableauEventType.StoryPointSwitched, { detail: a }));
    }
  }
  getWorksheetForNotificationHandler(e) {
    let t;
    switch (this.workbook.activeSheet.sheetType) {
      case D.SheetType.Worksheet: {
        t = this.workbook.activeSheet;
        break;
      }
      case D.SheetType.Dashboard: {
        const a = this.workbook.activeSheet.worksheets.filter((i) => i.name === e.worksheet);
        if (a.length === 1)
          t = a[0];
        else
          throw new yr.TableauError(D.EmbeddingErrorCodes.IndexOutOfRange, "Worksheet not found");
        break;
      }
      case D.SheetType.Story: {
        const a = this.workbook.activeSheet.activeStoryPoint.containedSheet;
        if (!a)
          throw new yr.TableauError(D.EmbeddingErrorCodes.IndexOutOfRange, "Worksheet not found");
        if (a.sheetType === D.SheetType.Worksheet)
          t = a;
        else if (a.sheetType === D.SheetType.Dashboard) {
          const o = a.worksheets.filter((s) => s.name === e.worksheet);
          if (o.length === 1)
            t = o[0];
          else
            throw new yr.TableauError(D.EmbeddingErrorCodes.IndexOutOfRange, "Worksheet not found");
        } else
          throw new yr.TableauError(D.EmbeddingErrorCodes.ImplementationError, "Could not find sheetType");
        break;
      }
      default:
        throw new yr.TableauError(D.EmbeddingErrorCodes.ImplementationError, "Could not find sheetType");
    }
    return t;
  }
  //#region Simple Getters / Setters
  get disableUrlActionsPopups() {
    return this.hasAttribute(D.VizAttributes.DisableUrlActionsPopups);
  }
  set disableUrlActionsPopups(e) {
    e ? this.setAttribute(D.VizAttributes.DisableUrlActionsPopups, "") : this.removeAttribute(D.VizAttributes.DisableUrlActionsPopups);
  }
  get hideTabs() {
    return this.hasAttribute(D.VizAttributes.HideTabs);
  }
  set hideTabs(e) {
    e ? this.setAttribute(D.VizAttributes.HideTabs, "") : this.removeAttribute(D.VizAttributes.HideTabs);
  }
  get toolbar() {
    const e = br.attributeToEnumKey(this.getAttribute(D.VizAttributes.Toolbar)), t = D.Toolbar[e];
    return t || br.TableauVizBase.VizAttributeDefaults.toolbar;
  }
  set toolbar(e) {
    e && this.setAttribute(D.VizAttributes.Toolbar, e);
  }
  get instanceIdToClone() {
    const e = this.getAttribute(D.VizAttributes.InstanceIdToClone);
    if (e)
      return e;
  }
  set instanceIdToClone(e) {
    e ? this.setAttribute(D.VizAttributes.InstanceIdToClone, e) : this.removeAttribute(D.VizAttributes.InstanceIdToClone);
  }
  get device() {
    const e = br.attributeToEnumKey(this.getAttribute(D.VizAttributes.Device)), t = D.DeviceType[e];
    return t || br.TableauVizBase.VizAttributeDefaults.device;
  }
  set device(e) {
    this.setAttribute(D.VizAttributes.Device, e);
  }
  get hideEditButton() {
    return this.hasAttribute(D.VizAttributes.HideEditButton);
  }
  set hideEditButton(e) {
    e ? this.setAttribute(D.VizAttributes.HideEditButton, "") : this.removeAttribute(D.VizAttributes.HideEditButton);
  }
  //#endregion
  // ========================================== End Custom Element definition ============================================
  // =========================================== Begin Viz Model definiton ===============================================
  get automaticUpdatesArePaused() {
    return this.vizImpl.automaticUpdatesArePaused;
  }
  pauseAutomaticUpdatesAsync() {
    return this.vizImpl.pauseAutomaticUpdatesAsync();
  }
  resumeAutomaticUpdatesAsync() {
    return this.vizImpl.resumeAutomaticUpdatesAsync();
  }
  toggleAutomaticUpdatesAsync() {
    return this.vizImpl.toggleAutomaticUpdatesAsync();
  }
  revertAllAsync() {
    return this.vizImpl.revertAllAsync();
  }
  refreshDataAsync() {
    return this.vizImpl.refreshDataAsync();
  }
  exportImageAsync() {
    return this.vizImpl.exportImageAsync();
  }
  exportCrosstabAsync(e, t) {
    return this.vizImpl.exportCrosstabAsync(e, t);
  }
  exportDataAsync(e, t) {
    return this.vizImpl.exportDataAsync(e, t);
  }
  exportPowerPointAsync(e) {
    return this.vizImpl.exportPowerPointAsync(e);
  }
  exportPDFAsync(e, t) {
    return this.vizImpl.exportPDFAsync(e, t);
  }
  displayDialogAsync(e) {
    return this.vizImpl.displayDialogAsync(e);
  }
  redoAsync() {
    return this.vizImpl.redoAsync();
  }
  undoAsync() {
    return this.vizImpl.undoAsync();
  }
  setAuthToken(e) {
    this.vizImpl.setAuthToken(e);
  }
  addFilter(e, t) {
    this.preInitFilters.push({ field: e, value: t }), Q_.WebComponentManager.synchronizeRender(this.updateRenderingIfInitialized.bind(this, this.src));
  }
  /**
   * This is the public entry point for users to get a reference to the whole data model
   */
  get workbook() {
    return new Y_.Workbook(this.vizImpl.workbookImpl);
  }
};
Nn.TableauViz = Z_;
var al;
function Ec() {
  if (al) return M;
  al = 1, Object.defineProperty(M, "__esModule", { value: !0 });
  const r = O, e = G(), t = zn, n = jn, a = tl(), i = Nn, o = typeof VERSION_IS_ALPHA < "u" ? VERSION_IS_ALPHA : !1;
  e.ApiVersion.SetVersionNumber(typeof API_VERSION_NUMBER < "u" ? API_VERSION_NUMBER : "0.0.0", o);
  function s(h, p) {
    if (!(typeof window > "u"))
      try {
        window.customElements.get(h) ? console.warn(`Custom element '${h}' is already defined.`) : window.customElements.define(h, p);
      } catch (b) {
        console.error(`Error defining custom element '${h}':`, b);
      }
  }
  function u() {
    return typeof window > "u" ? !1 : "customElements" in window;
  }
  u() ? (s("tableau-viz", i.TableauViz), s("tableau-authoring-viz", n.TableauAuthoringViz), s("tableau-ask-data", t.TableauAskData), s("tableau-pulse", a.TableauPulse)) : console.error("Custom Elements API is not supported in this browser.");
  const l = Object.assign(Object.assign({}, r.EmbeddingErrorCodes), r.SharedErrorCodes);
  M.ErrorCodes = l;
  var c = O;
  M.AnalyticsObjectType = c.AnalyticsObjectType, M.AnnotationType = c.AnnotationType, M.ApiMenuType = c.ApiMenuType, M.ClassNameKey = c.ClassNameKey, M.ColumnType = c.ColumnType, M.CrosstabFileFormat = c.CrosstabFileFormat, M.DashboardLayoutChange = c.DashboardLayoutChange, M.DashboardObjectType = c.DashboardObjectType, M.DataType = c.DataType, M.DateRangeType = c.DateRangeType, M.DeviceType = c.DeviceType, M.EmbeddedIframeAttributes = c.EmbeddedIframeAttributes, M.EncodingType = c.EncodingType, M.FieldAggregationType = c.FieldAggregationType, M.FieldRoleType = c.FieldRoleType, M.FileFormats = c.FileFormats, M.FilterDomainType = c.FilterDomainType, M.FilterNullOption = c.FilterNullOption, M.FilterType = c.FilterType, M.FilterUpdateType = c.FilterUpdateType, M.HierarchicalLevelSelectionState = c.HierarchicalLevelSelectionState, M.IncludeDataValuesOption = c.IncludeDataValuesOption, M.MarkType = c.MarkType, M.ParameterValueType = c.ParameterValueType, M.PeriodType = c.PeriodType, M.PrintOrientation = c.PrintOrientation, M.PrintPageSize = c.PrintPageSize, M.PrintScaling = c.PrintScaling, M.PulseAttributes = c.PulseAttributes, M.PulseErrorMessageVisibility = c.PulseErrorMessageVisibility, M.PulseLayout = c.PulseLayout, M.PulseTimeDimension = c.PulseTimeDimension, M.QuickTableCalcType = c.QuickTableCalcType, M.SelectionUpdateType = c.SelectionUpdateType, M.SheetSizeBehavior = c.SheetSizeBehavior, M.SheetType = c.SheetType, M.SortDirection = c.SortDirection, M.TableauDialogType = c.TableauDialogType, M.TableauEventType = c.EmbeddingTableauEventType, M.Toolbar = c.Toolbar, M.TrendLineModelType = c.TrendLineModelType, M.VizAttributes = c.VizAttributes, M.VizAuthoringAttributes = c.VizAuthoringAttributes, M.VizSharedAttributes = c.VizSharedAttributes, M.WebComponentAttributes = c.WebComponentAttributes;
  var d = zn;
  M.TableauAskData = d.TableauAskData;
  var y = jn;
  M.TableauAuthoringViz = y.TableauAuthoringViz;
  var f = tl();
  M.TableauPulse = f.TableauPulse;
  var v = Nn;
  return M.TableauViz = v.TableauViz, M;
}
var ie = Ec();
const J_ = /* @__PURE__ */ qc(ie), zS = /* @__PURE__ */ Xc({
  __proto__: null,
  default: J_
}, [ie]), X_ = /* @__PURE__ */ new Set(["children", "wcType"]);
class q_ extends Jc {
  /**
   * Gets the web component element reference
   *
   * @readonly
   * @memberof Wc
   */
  get element() {
    return this._element;
  }
  /**
   * Gets the web component tag name from the 'wcType' prop
   *
   * @protected
   * @returns
   * @memberof Wc
   */
  getTag() {
    let e;
    return typeof this.props.wcType == "function" ? e = this.props.wcType.name.replace(/([a-zA-Z])(?=[A-Z])/g, "$1-").toLowerCase() : typeof this.props.wcType == "string" && (e = this.props.wcType), e;
  }
  /**
   * Renders the web component
   *
   * @returns
   * @memberof Wc
   */
  render() {
    const e = this.getTag();
    if (!e)
      throw '"wcType" must be set!';
    const t = {};
    for (const n of Object.keys(this.props))
      n && this.props[n] === !0 && (t[n] = !0);
    return Sr.createElement(e, Object.assign(Object.assign({}, t), { ref: (n) => this.setRef(n) }), this.props.children);
  }
  /**
   * Sets the web component reference and syncs the props
   *
   * @protected
   * @param {HTMLElement} element
   * @memberof Wc
   */
  setRef(e) {
    e ? (e !== this._element && this.cleanUp(), this._element = e, this.syncProps(this.props)) : this.cleanUp(), this.props.innerRef && (typeof this.props.innerRef == "function" ? this.props.innerRef(e) : this.props.innerRef.current = e);
  }
  /**
   * Removes all event listeners from web component element
   *
   * @protected
   * @returns
   * @memberof Wc
   */
  cleanUp() {
    if (this._element) {
      for (const e in this.props)
        this.props.hasOwnProperty(e) && this.isEventProp(e, this.props[e]) && this.removeEventListener(e, this.props[e]);
      this._element = null;
    }
  }
  /**
   * Updates props on web component
   *
   * @param {*} prevProps
   * @memberof Wc
   */
  componentDidUpdate(e) {
    const t = {};
    for (const n in this.props)
      this.props.hasOwnProperty(n) && (!e[n] || e[n] !== this.props[n]) && (t[n] = this.props[n], e[n] && this.isEventProp(n, e[n]) && this.removeEventListener(n, e[n]));
    for (const n in e)
      e.hasOwnProperty(n) && !this.props[n] && this.isEventProp(n, e[n]) && this.removeEventListener(n, e[n]);
    this.syncProps(t);
  }
  /**
   * Syncs all React component props to web component
   *
   * @protected
   * @param {*} props
   * @memberof Wc
   */
  syncProps(e) {
    if (this._element)
      for (const t in e)
        X_.has(t) || (this.isEventProp(t, e[t]) && this.addEventListener(t, e[t]), this._element[t] = e[t]);
  }
  /**
   * Returns true if prop should be treated as event
   *
   * @protected
   * @param {string} prop
   * @param {*} value
   * @returns
   * @memberof Wc
   */
  isEventProp(e, t) {
    return e && typeof t == "function";
  }
  /**
   * Adds event listener on web component
   *
   * @protected
   * @param {string} propName
   * @param {EventListenerOrEventListenerObject} handler
   * @memberof Wc
   */
  addEventListener(e, t) {
    let n = e;
    n.match(/^on[A-Z]/gm) && (n = n.substring(2).toLowerCase()), this._element.addEventListener(n, t);
  }
  /**
   * Removes event listener from web component
   *
   * @protected
   * @param {string} propName
   * @param {EventListenerOrEventListenerObject} handler
   * @memberof Wc
   */
  removeEventListener(e, t) {
    let n = e;
    n.match(/^on[A-Z]/gm) && (n = n.substring(2).toLowerCase()), this._element.removeEventListener(n, t);
  }
}
const Zo = (r) => Sr.forwardRef((t, n) => Sr.createElement(q_, Object.assign({ wcType: r, innerRef: n }, t)));
ie.WebComponentAttributes.Src + "", ie.WebComponentAttributes.Width + "", ie.WebComponentAttributes.Height + "", ie.WebComponentAttributes.Token + "", ie.WebComponentAttributes.Debug + "", ie.WebComponentAttributes.IframeAuth + "", ie.WebComponentAttributes.ForceTokenSync + "";
const Jo = (r, e) => {
  if (e)
    for (const [t, n] of Object.entries(r)) {
      const a = t, i = e[a];
      i === n || !i && !n || (e[a] = n);
    }
};
ie.VizAuthoringAttributes.HideCloseButton + "";
const eS = Ea(
  Aa((r, e) => {
    const t = Gt(), n = e == null ? void 0 : e.current;
    if (tS(t.current, n, r)) {
      const { src: a, token: i, ...o } = r, s = Zo("tableau-authoring-viz");
      t.current = /* @__PURE__ */ He.jsx(s, { ref: e, ...o, token: i, src: a, children: r.iframeStyle && /* @__PURE__ */ He.jsx("iframe-style", { children: r.iframeStyle }, "iframe-style") });
    } else
      Jo(r, n);
    return t.current;
  })
);
function tS(r, e, t) {
  if (!r || !e)
    return !0;
  for (const [n, a] of Object.entries(r.props)) {
    const i = t[n];
    if (a !== i && typeof a == "function" && n.startsWith("on")) {
      const o = n.substring(2).toLowerCase();
      e.removeEventListener(o, a), e.addEventListener(o, i);
    }
  }
  return !1;
}
eS.displayName = "TableauAuthoringViz";
new ie.TableauAuthoringViz();
const jS = Gt, NS = Y, $S = Y, US = Y, LS = Y, WS = Y, HS = Y, BS = Y;
function rS(r, e) {
  return r.name === e.name && r.value === e.value && r.type === e.type;
}
function nS(r, e = []) {
  return r.length === e.length && r.every((t, n) => rS(t, e[n]));
}
ie.PulseAttributes.DisableExploreFilter + "", ie.PulseAttributes.Layout + "", ie.PulseAttributes.TimeDimension + "", ie.PulseAttributes.TokenOptional + "";
const iS = Ea(
  Aa((r, e) => {
    var a, i;
    const t = Gt(), n = e == null ? void 0 : e.current;
    if (aS(t.current, n, r)) {
      const { src: o, token: s, timeDimension: u, ...l } = r, c = Zo("tableau-pulse");
      t.current = /* @__PURE__ */ He.jsxs(c, { ref: e, ...l, token: s, src: o, timeDimension: u, children: [
        (a = r.pulseFilters) == null ? void 0 : a.map(({ field: d, value: y }, f) => /* @__PURE__ */ He.jsx("pulse-filter", { field: d, value: y }, `${d}_${f}`)),
        (i = r.themeParameters) == null ? void 0 : i.map(({ name: d, value: y, type: f }, v) => /* @__PURE__ */ He.jsx("theme-parameter", { name: d, value: y, type: f }, `${d}_${v}`)),
        r.iframeStyle && /* @__PURE__ */ He.jsx("iframe-style", { children: r.iframeStyle }, "iframe-style")
      ] });
    } else
      Jo(r, n);
    return t.current;
  })
);
function aS(r, e, t) {
  if (!r || !e)
    return !0;
  for (const [n, a] of Object.entries(r.props)) {
    const i = t[n];
    if (a !== i) {
      if (typeof a == "function" && n.startsWith("on")) {
        const o = n.substring(2).toLowerCase();
        e.removeEventListener(o, a), e.addEventListener(o, i);
      } else if (Array.isArray(a))
        switch (n) {
          case "themeParameters": {
            if (!nS(a, t[n]))
              return !0;
            break;
          }
        }
    }
  }
  return !1;
}
iS.displayName = "TableauPulse";
new ie.TableauPulse();
const GS = Gt, KS = Y, YS = Y, QS = Y, ZS = Y, JS = Y, XS = Y, qS = Y, eI = Y, tI = Y, rI = Y, nI = Y, iI = Y, aI = Y, oI = Y, sI = Y;
function oS(r, e) {
  return r.name === e.name && r.value === e.value;
}
function sS(r, e = []) {
  return r.length === e.length && r.every((t, n) => oS(t, e[n]));
}
function uS(r, e) {
  return r.name === e.name && r.value === e.value;
}
function lS(r, e = []) {
  return r.length === e.length && r.every((t, n) => uS(t, e[n]));
}
function cS(r, e) {
  return r.field === e.field && r.value === e.value;
}
function dS(r, e = []) {
  return r.length === e.length && r.every((t, n) => cS(t, e[n]));
}
ie.VizAttributes.Device + "", ie.VizAttributes.DisableUrlActionsPopups + "", ie.VizAttributes.HideEditButton + "", ie.VizAttributes.HideTabs + "", ie.VizAttributes.Toolbar + "", ie.VizAttributes.InstanceIdToClone + "";
const hS = Ea(
  Aa((r, e) => {
    var a, i, o;
    const t = Gt(), n = e == null ? void 0 : e.current;
    if (pS(t.current, n, r)) {
      const { src: s, token: u, ...l } = r, c = Zo("tableau-viz");
      t.current = /* @__PURE__ */ He.jsxs(c, { ref: e, ...l, token: u, src: s, children: [
        (a = r.vizParameters) == null ? void 0 : a.map(({ name: d, value: y }, f) => /* @__PURE__ */ He.jsx("viz-parameter", { name: d, value: y }, `${d}_${f}`)),
        (i = r.vizFilters) == null ? void 0 : i.map(({ field: d, value: y }, f) => /* @__PURE__ */ He.jsx("viz-filter", { field: d, value: y }, `${d}_${f}`)),
        (o = r.customParameters) == null ? void 0 : o.map(({ name: d, value: y }, f) => /* @__PURE__ */ He.jsx("custom-parameter", { name: d, value: y }, `${d}_${f}`)),
        r.iframeStyle && /* @__PURE__ */ He.jsx("iframe-style", { children: r.iframeStyle }, "iframe-style")
      ] });
    } else
      Jo(r, n);
    return t.current;
  })
);
function pS(r, e, t) {
  if (!r || !e)
    return !0;
  for (const [n, a] of Object.entries(r.props)) {
    const i = t[n];
    if (a !== i) {
      if (typeof a == "function" && n.startsWith("on")) {
        const o = n.substring(2).toLowerCase();
        e.removeEventListener(o, a), e.addEventListener(o, i);
      } else if (Array.isArray(a))
        switch (n) {
          case "vizParameters": {
            if (!lS(a, t[n]))
              return !0;
            break;
          }
          case "vizFilters": {
            if (!dS(a, t[n]))
              return !0;
            break;
          }
          case "customParameters": {
            if (!sS(a, t[n]))
              return !0;
            break;
          }
        }
    }
  }
  return !1;
}
hS.displayName = "TableauViz";
new ie.TableauViz();
export {
  zS as Api,
  eS as TableauAuthoringViz,
  iS as TableauPulse,
  hS as TableauViz,
  bS as useTableauAuthoringVizEditButtonClickedCallback,
  gS as useTableauAuthoringVizEditInDesktopButtonClickedCallback,
  mS as useTableauAuthoringVizFirstInteractiveCallback,
  _S as useTableauAuthoringVizFirstVizSizeKnownCallback,
  yS as useTableauAuthoringVizReadyToReceiveAuthTokenCallback,
  vS as useTableauAuthoringVizRef,
  IS as useTableauAuthoringVizWorkbookPublishedAsCallback,
  SS as useTableauAuthoringVizWorkbookPublishedCallback,
  ES as useTableauAuthoringVizWorkbookReadyToCloseCallback,
  US as useTableauPulseErrorCallback,
  LS as useTableauPulseFiltersChangedCallback,
  NS as useTableauPulseFirstInteractiveCallback,
  $S as useTableauPulseFirstMetricSizeKnownCallback,
  WS as useTableauPulseInsightDiscoveredCallback,
  jS as useTableauPulseRef,
  HS as useTableauPulseTimeDimensionChangedCallback,
  BS as useTableauPulseUrlChangedCallback,
  iI as useTableauSummaryDataChangedCallback,
  XS as useTableauVizCustomMarkContextMenuCallback,
  qS as useTableauVizCustomViewCallback,
  ZS as useTableauVizEditButtonClickedCallback,
  QS as useTableauVizEditInDesktopButtonClickedCallback,
  eI as useTableauVizFilterChangedCallback,
  KS as useTableauVizFirstInteractiveCallback,
  JS as useTableauVizFirstVizSizeKnownCallback,
  tI as useTableauVizMarksSelectedCallback,
  rI as useTableauVizParameterChangedCallback,
  YS as useTableauVizReadyToReceiveAuthTokenCallback,
  GS as useTableauVizRef,
  nI as useTableauVizStoryPointSwitchedCallback,
  aI as useTableauVizTabSwitchedCallback,
  oI as useTableauVizToolbarStateChangedCallback,
  sI as useTableauVizUrlActionCallback
};
